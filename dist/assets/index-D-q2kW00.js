(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function i1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hu={exports:{}},wo={},Wu={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp;function uv(){if(hp)return ce;hp=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(_){return _===null||typeof _!="object"?null:(_=y&&_[y]||_["@@iterator"],typeof _=="function"?_:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function b(_,A,ae){this.props=_,this.context=A,this.refs=x,this.updater=ae||k}b.prototype.isReactComponent={},b.prototype.setState=function(_,A){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,A,"setState")},b.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function N(){}N.prototype=b.prototype;function L(_,A,ae){this.props=_,this.context=A,this.refs=x,this.updater=ae||k}var Q=L.prototype=new N;Q.constructor=L,S(Q,b.prototype),Q.isPureReactComponent=!0;var G=Array.isArray,re=Object.prototype.hasOwnProperty,Y={current:null},he={key:!0,ref:!0,__self:!0,__source:!0};function ve(_,A,ae){var de,me={},ge=null,xe=null;if(A!=null)for(de in A.ref!==void 0&&(xe=A.ref),A.key!==void 0&&(ge=""+A.key),A)re.call(A,de)&&!he.hasOwnProperty(de)&&(me[de]=A[de]);var ke=arguments.length-2;if(ke===1)me.children=ae;else if(1<ke){for(var Ee=Array(ke),Ot=0;Ot<ke;Ot++)Ee[Ot]=arguments[Ot+2];me.children=Ee}if(_&&_.defaultProps)for(de in ke=_.defaultProps,ke)me[de]===void 0&&(me[de]=ke[de]);return{$$typeof:n,type:_,key:ge,ref:xe,props:me,_owner:Y.current}}function se(_,A){return{$$typeof:n,type:_.type,key:A,ref:_.ref,props:_.props,_owner:_._owner}}function Fe(_){return typeof _=="object"&&_!==null&&_.$$typeof===n}function It(_){var A={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(ae){return A[ae]})}var $t=/\/+/g;function Tt(_,A){return typeof _=="object"&&_!==null&&_.key!=null?It(""+_.key):A.toString(36)}function Jt(_,A,ae,de,me){var ge=typeof _;(ge==="undefined"||ge==="boolean")&&(_=null);var xe=!1;if(_===null)xe=!0;else switch(ge){case"string":case"number":xe=!0;break;case"object":switch(_.$$typeof){case n:case e:xe=!0}}if(xe)return xe=_,me=me(xe),_=de===""?"."+Tt(xe,0):de,G(me)?(ae="",_!=null&&(ae=_.replace($t,"$&/")+"/"),Jt(me,A,ae,"",function(Ot){return Ot})):me!=null&&(Fe(me)&&(me=se(me,ae+(!me.key||xe&&xe.key===me.key?"":(""+me.key).replace($t,"$&/")+"/")+_)),A.push(me)),1;if(xe=0,de=de===""?".":de+":",G(_))for(var ke=0;ke<_.length;ke++){ge=_[ke];var Ee=de+Tt(ge,ke);xe+=Jt(ge,A,ae,Ee,me)}else if(Ee=v(_),typeof Ee=="function")for(_=Ee.call(_),ke=0;!(ge=_.next()).done;)ge=ge.value,Ee=de+Tt(ge,ke++),xe+=Jt(ge,A,ae,Ee,me);else if(ge==="object")throw A=String(_),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return xe}function sn(_,A,ae){if(_==null)return _;var de=[],me=0;return Jt(_,de,"","",function(ge){return A.call(ae,ge,me++)}),de}function vt(_){if(_._status===-1){var A=_._result;A=A(),A.then(function(ae){(_._status===0||_._status===-1)&&(_._status=1,_._result=ae)},function(ae){(_._status===0||_._status===-1)&&(_._status=2,_._result=ae)}),_._status===-1&&(_._status=0,_._result=A)}if(_._status===1)return _._result.default;throw _._result}var Ne={current:null},F={transition:null},ne={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:F,ReactCurrentOwner:Y};function W(){throw Error("act(...) is not supported in production builds of React.")}return ce.Children={map:sn,forEach:function(_,A,ae){sn(_,function(){A.apply(this,arguments)},ae)},count:function(_){var A=0;return sn(_,function(){A++}),A},toArray:function(_){return sn(_,function(A){return A})||[]},only:function(_){if(!Fe(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},ce.Component=b,ce.Fragment=t,ce.Profiler=o,ce.PureComponent=L,ce.StrictMode=r,ce.Suspense=d,ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,ce.act=W,ce.cloneElement=function(_,A,ae){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var de=S({},_.props),me=_.key,ge=_.ref,xe=_._owner;if(A!=null){if(A.ref!==void 0&&(ge=A.ref,xe=Y.current),A.key!==void 0&&(me=""+A.key),_.type&&_.type.defaultProps)var ke=_.type.defaultProps;for(Ee in A)re.call(A,Ee)&&!he.hasOwnProperty(Ee)&&(de[Ee]=A[Ee]===void 0&&ke!==void 0?ke[Ee]:A[Ee])}var Ee=arguments.length-2;if(Ee===1)de.children=ae;else if(1<Ee){ke=Array(Ee);for(var Ot=0;Ot<Ee;Ot++)ke[Ot]=arguments[Ot+2];de.children=ke}return{$$typeof:n,type:_.type,key:me,ref:ge,props:de,_owner:xe}},ce.createContext=function(_){return _={$$typeof:a,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:l,_context:_},_.Consumer=_},ce.createElement=ve,ce.createFactory=function(_){var A=ve.bind(null,_);return A.type=_,A},ce.createRef=function(){return{current:null}},ce.forwardRef=function(_){return{$$typeof:c,render:_}},ce.isValidElement=Fe,ce.lazy=function(_){return{$$typeof:m,_payload:{_status:-1,_result:_},_init:vt}},ce.memo=function(_,A){return{$$typeof:h,type:_,compare:A===void 0?null:A}},ce.startTransition=function(_){var A=F.transition;F.transition={};try{_()}finally{F.transition=A}},ce.unstable_act=W,ce.useCallback=function(_,A){return Ne.current.useCallback(_,A)},ce.useContext=function(_){return Ne.current.useContext(_)},ce.useDebugValue=function(){},ce.useDeferredValue=function(_){return Ne.current.useDeferredValue(_)},ce.useEffect=function(_,A){return Ne.current.useEffect(_,A)},ce.useId=function(){return Ne.current.useId()},ce.useImperativeHandle=function(_,A,ae){return Ne.current.useImperativeHandle(_,A,ae)},ce.useInsertionEffect=function(_,A){return Ne.current.useInsertionEffect(_,A)},ce.useLayoutEffect=function(_,A){return Ne.current.useLayoutEffect(_,A)},ce.useMemo=function(_,A){return Ne.current.useMemo(_,A)},ce.useReducer=function(_,A,ae){return Ne.current.useReducer(_,A,ae)},ce.useRef=function(_){return Ne.current.useRef(_)},ce.useState=function(_){return Ne.current.useState(_)},ce.useSyncExternalStore=function(_,A,ae){return Ne.current.useSyncExternalStore(_,A,ae)},ce.useTransition=function(){return Ne.current.useTransition()},ce.version="18.3.1",ce}var pp;function qc(){return pp||(pp=1,Wu.exports=uv()),Wu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function cv(){if(mp)return wo;mp=1;var n=qc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function a(c,d,h){var m,y={},v=null,k=null;h!==void 0&&(v=""+h),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(k=d.ref);for(m in d)r.call(d,m)&&!l.hasOwnProperty(m)&&(y[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:c,key:v,ref:k,props:y,_owner:o.current}}return wo.Fragment=t,wo.jsx=a,wo.jsxs=a,wo}var gp;function dv(){return gp||(gp=1,Hu.exports=cv()),Hu.exports}var ht=dv(),Ue=qc();const lt=i1(Ue);var Zs={},Uu={exports:{}},bt={},Ku={exports:{}},qu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function fv(){return yp||(yp=1,function(n){function e(F,ne){var W=F.length;F.push(ne);e:for(;0<W;){var _=W-1>>>1,A=F[_];if(0<o(A,ne))F[_]=ne,F[W]=A,W=_;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ne=F[0],W=F.pop();if(W!==ne){F[0]=W;e:for(var _=0,A=F.length,ae=A>>>1;_<ae;){var de=2*(_+1)-1,me=F[de],ge=de+1,xe=F[ge];if(0>o(me,W))ge<A&&0>o(xe,me)?(F[_]=xe,F[ge]=W,_=ge):(F[_]=me,F[de]=W,_=de);else if(ge<A&&0>o(xe,W))F[_]=xe,F[ge]=W,_=ge;else break e}}return ne}function o(F,ne){var W=F.sortIndex-ne.sortIndex;return W!==0?W:F.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var d=[],h=[],m=1,y=null,v=3,k=!1,S=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(F){for(var ne=t(h);ne!==null;){if(ne.callback===null)r(h);else if(ne.startTime<=F)r(h),ne.sortIndex=ne.expirationTime,e(d,ne);else break;ne=t(h)}}function G(F){if(x=!1,Q(F),!S)if(t(d)!==null)S=!0,vt(re);else{var ne=t(h);ne!==null&&Ne(G,ne.startTime-F)}}function re(F,ne){S=!1,x&&(x=!1,N(ve),ve=-1),k=!0;var W=v;try{for(Q(ne),y=t(d);y!==null&&(!(y.expirationTime>ne)||F&&!It());){var _=y.callback;if(typeof _=="function"){y.callback=null,v=y.priorityLevel;var A=_(y.expirationTime<=ne);ne=n.unstable_now(),typeof A=="function"?y.callback=A:y===t(d)&&r(d),Q(ne)}else r(d);y=t(d)}if(y!==null)var ae=!0;else{var de=t(h);de!==null&&Ne(G,de.startTime-ne),ae=!1}return ae}finally{y=null,v=W,k=!1}}var Y=!1,he=null,ve=-1,se=5,Fe=-1;function It(){return!(n.unstable_now()-Fe<se)}function $t(){if(he!==null){var F=n.unstable_now();Fe=F;var ne=!0;try{ne=he(!0,F)}finally{ne?Tt():(Y=!1,he=null)}}else Y=!1}var Tt;if(typeof L=="function")Tt=function(){L($t)};else if(typeof MessageChannel<"u"){var Jt=new MessageChannel,sn=Jt.port2;Jt.port1.onmessage=$t,Tt=function(){sn.postMessage(null)}}else Tt=function(){b($t,0)};function vt(F){he=F,Y||(Y=!0,Tt())}function Ne(F,ne){ve=b(function(){F(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){S||k||(S=!0,vt(re))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(F){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var W=v;v=ne;try{return F()}finally{v=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,ne){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=v;v=F;try{return ne()}finally{v=W}},n.unstable_scheduleCallback=function(F,ne,W){var _=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?_+W:_):W=_,F){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=W+A,F={id:m++,callback:ne,priorityLevel:F,startTime:W,expirationTime:A,sortIndex:-1},W>_?(F.sortIndex=W,e(h,F),t(d)===null&&F===t(h)&&(x?(N(ve),ve=-1):x=!0,Ne(G,W-_))):(F.sortIndex=A,e(d,F),S||k||(S=!0,vt(re))),F},n.unstable_shouldYield=It,n.unstable_wrapCallback=function(F){var ne=v;return function(){var W=v;v=ne;try{return F.apply(this,arguments)}finally{v=W}}}}(qu)),qu}var vp;function hv(){return vp||(vp=1,Ku.exports=fv()),Ku.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function pv(){if(kp)return bt;kp=1;var n=qc(),e=hv();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(i,s){a(i,s),a(i+"Capture",s)}function a(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function v(i){return d.call(y,i)?!0:d.call(m,i)?!1:h.test(i)?y[i]=!0:(m[i]=!0,!1)}function k(i,s,u,f){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,s,u,f){if(s===null||typeof s>"u"||k(i,s,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function x(i,s,u,f,p,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=p,this.mustUseProperty=u,this.propertyName=i,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new x(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];b[s]=new x(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new x(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new x(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new x(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new x(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new x(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new x(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new x(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function L(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(N,L);b[s]=new x(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(N,L);b[s]=new x(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(N,L);b[s]=new x(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new x(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new x(i,1,!1,i.toLowerCase(),null,!0,!0)});function Q(i,s,u,f){var p=b.hasOwnProperty(s)?b[s]:null;(p!==null?p.type!==0:f||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(S(s,u,p,f)&&(u=null),f||p===null?v(s)&&(u===null?i.removeAttribute(s):i.setAttribute(s,""+u)):p.mustUseProperty?i[p.propertyName]=u===null?p.type===3?!1:"":u:(s=p.attributeName,f=p.attributeNamespace,u===null?i.removeAttribute(s):(p=p.type,u=p===3||p===4&&u===!0?"":""+u,f?i.setAttributeNS(f,s,u):i.setAttribute(s,u))))}var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),Y=Symbol.for("react.portal"),he=Symbol.for("react.fragment"),ve=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),Fe=Symbol.for("react.provider"),It=Symbol.for("react.context"),$t=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),Jt=Symbol.for("react.suspense_list"),sn=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),F=Symbol.iterator;function ne(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var W=Object.assign,_;function A(i){if(_===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);_=s&&s[1]||""}return`
`+_+i}var ae=!1;function de(i,s){if(!i||ae)return"";ae=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(D){var f=D}Reflect.construct(i,[],s)}else{try{s.call()}catch(D){f=D}i.call(s.prototype)}else{try{throw Error()}catch(D){f=D}i()}}catch(D){if(D&&f&&typeof D.stack=="string"){for(var p=D.stack.split(`
`),g=f.stack.split(`
`),w=p.length-1,C=g.length-1;1<=w&&0<=C&&p[w]!==g[C];)C--;for(;1<=w&&0<=C;w--,C--)if(p[w]!==g[C]){if(w!==1||C!==1)do if(w--,C--,0>C||p[w]!==g[C]){var M=`
`+p[w].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=w&&0<=C);break}}}finally{ae=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?A(i):""}function me(i){switch(i.tag){case 5:return A(i.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return i=de(i.type,!1),i;case 11:return i=de(i.type.render,!1),i;case 1:return i=de(i.type,!0),i;default:return""}}function ge(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case he:return"Fragment";case Y:return"Portal";case se:return"Profiler";case ve:return"StrictMode";case Tt:return"Suspense";case Jt:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case It:return(i.displayName||"Context")+".Consumer";case Fe:return(i._context.displayName||"Context")+".Provider";case $t:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case sn:return s=i.displayName||null,s!==null?s:ge(i.type)||"Memo";case vt:s=i._payload,i=i._init;try{return ge(i(s))}catch{}}return null}function xe(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(s);case 8:return s===ve?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ke(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ee(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ot(i){var s=Ee(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,g=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){f=""+w,g.call(this,w)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(w){f=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Vo(i){i._valueTracker||(i._valueTracker=Ot(i))}function vd(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),f="";return i&&(f=Ee(i)?i.checked?"true":"false":i.value),i=f,i!==u?(s.setValue(i),!0):!1}function Ho(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Gl(i,s){var u=s.checked;return W({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function kd(i,s){var u=s.defaultValue==null?"":s.defaultValue,f=s.checked!=null?s.checked:s.defaultChecked;u=ke(s.value!=null?s.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function wd(i,s){s=s.checked,s!=null&&Q(i,"checked",s,!1)}function Yl(i,s){wd(i,s);var u=ke(s.value),f=s.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Xl(i,s.type,u):s.hasOwnProperty("defaultValue")&&Xl(i,s.type,ke(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function Sd(i,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var f=s.type;if(!(f!=="submit"&&f!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,u||s===i.value||(i.value=s),i.defaultValue=s}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Xl(i,s,u){(s!=="number"||Ho(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Ai=Array.isArray;function Hr(i,s,u,f){if(i=i.options,s){s={};for(var p=0;p<u.length;p++)s["$"+u[p]]=!0;for(u=0;u<i.length;u++)p=s.hasOwnProperty("$"+i[u].value),i[u].selected!==p&&(i[u].selected=p),p&&f&&(i[u].defaultSelected=!0)}else{for(u=""+ke(u),s=null,p=0;p<i.length;p++){if(i[p].value===u){i[p].selected=!0,f&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function Zl(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return W({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function xd(i,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(t(92));if(Ai(u)){if(1<u.length)throw Error(t(93));u=u[0]}s=u}s==null&&(s=""),u=s}i._wrapperState={initialValue:ke(u)}}function Cd(i,s){var u=ke(s.value),f=ke(s.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),s.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function bd(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function Md(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ea(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?Md(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Wo,Ed=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,f,p){MSApp.execUnsafeLocalFunction(function(){return i(s,u,f,p)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Wo=Wo||document.createElement("div"),Wo.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Wo.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function Ii(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var $i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p0=["Webkit","ms","Moz","O"];Object.keys($i).forEach(function(i){p0.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),$i[s]=$i[i]})});function _d(i,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||$i.hasOwnProperty(i)&&$i[i]?(""+s).trim():s+"px"}function Td(i,s){i=i.style;for(var u in s)if(s.hasOwnProperty(u)){var f=u.indexOf("--")===0,p=_d(u,s[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,p):i[u]=p}}var m0=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ta(i,s){if(s){if(m0[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function na(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ra=null;function ia(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var oa=null,Wr=null,Ur=null;function Od(i){if(i=io(i)){if(typeof oa!="function")throw Error(t(280));var s=i.stateNode;s&&(s=ps(s),oa(i.stateNode,i.type,s))}}function Nd(i){Wr?Ur?Ur.push(i):Ur=[i]:Wr=i}function Dd(){if(Wr){var i=Wr,s=Ur;if(Ur=Wr=null,Od(i),s)for(i=0;i<s.length;i++)Od(s[i])}}function Pd(i,s){return i(s)}function Rd(){}var sa=!1;function Ad(i,s,u){if(sa)return i(s,u);sa=!0;try{return Pd(i,s,u)}finally{sa=!1,(Wr!==null||Ur!==null)&&(Rd(),Dd())}}function zi(i,s){var u=i.stateNode;if(u===null)return null;var f=ps(u);if(f===null)return null;u=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,s,typeof u));return u}var la=!1;if(c)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){la=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{la=!1}function g0(i,s,u,f,p,g,w,C,M){var D=Array.prototype.slice.call(arguments,3);try{s.apply(u,D)}catch(I){this.onError(I)}}var Bi=!1,Uo=null,Ko=!1,aa=null,y0={onError:function(i){Bi=!0,Uo=i}};function v0(i,s,u,f,p,g,w,C,M){Bi=!1,Uo=null,g0.apply(y0,arguments)}function k0(i,s,u,f,p,g,w,C,M){if(v0.apply(this,arguments),Bi){if(Bi){var D=Uo;Bi=!1,Uo=null}else throw Error(t(198));Ko||(Ko=!0,aa=D)}}function gr(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function Id(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function $d(i){if(gr(i)!==i)throw Error(t(188))}function w0(i){var s=i.alternate;if(!s){if(s=gr(i),s===null)throw Error(t(188));return s!==i?null:i}for(var u=i,f=s;;){var p=u.return;if(p===null)break;var g=p.alternate;if(g===null){if(f=p.return,f!==null){u=f;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===u)return $d(p),i;if(g===f)return $d(p),s;g=g.sibling}throw Error(t(188))}if(u.return!==f.return)u=p,f=g;else{for(var w=!1,C=p.child;C;){if(C===u){w=!0,u=p,f=g;break}if(C===f){w=!0,f=p,u=g;break}C=C.sibling}if(!w){for(C=g.child;C;){if(C===u){w=!0,u=g,f=p;break}if(C===f){w=!0,f=g,u=p;break}C=C.sibling}if(!w)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:s}function zd(i){return i=w0(i),i!==null?Ld(i):null}function Ld(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=Ld(i);if(s!==null)return s;i=i.sibling}return null}var Bd=e.unstable_scheduleCallback,Fd=e.unstable_cancelCallback,S0=e.unstable_shouldYield,x0=e.unstable_requestPaint,Re=e.unstable_now,C0=e.unstable_getCurrentPriorityLevel,ua=e.unstable_ImmediatePriority,jd=e.unstable_UserBlockingPriority,qo=e.unstable_NormalPriority,b0=e.unstable_LowPriority,Vd=e.unstable_IdlePriority,Jo=null,ln=null;function M0(i){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Jo,i,void 0,(i.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:T0,E0=Math.log,_0=Math.LN2;function T0(i){return i>>>=0,i===0?32:31-(E0(i)/_0|0)|0}var Qo=64,Go=4194304;function Fi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Yo(i,s){var u=i.pendingLanes;if(u===0)return 0;var f=0,p=i.suspendedLanes,g=i.pingedLanes,w=u&268435455;if(w!==0){var C=w&~p;C!==0?f=Fi(C):(g&=w,g!==0&&(f=Fi(g)))}else w=u&~p,w!==0?f=Fi(w):g!==0&&(f=Fi(g));if(f===0)return 0;if(s!==0&&s!==f&&!(s&p)&&(p=f&-f,g=s&-s,p>=g||p===16&&(g&4194240)!==0))return s;if(f&4&&(f|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=f;0<s;)u=31-Qt(s),p=1<<u,f|=i[u],s&=~p;return f}function O0(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N0(i,s){for(var u=i.suspendedLanes,f=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes;0<g;){var w=31-Qt(g),C=1<<w,M=p[w];M===-1?(!(C&u)||C&f)&&(p[w]=O0(C,s)):M<=s&&(i.expiredLanes|=C),g&=~C}}function ca(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Hd(){var i=Qo;return Qo<<=1,!(Qo&4194240)&&(Qo=64),i}function da(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function ji(i,s,u){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Qt(s),i[s]=u}function D0(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var p=31-Qt(u),g=1<<p;s[p]=0,f[p]=-1,i[p]=-1,u&=~g}}function fa(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var f=31-Qt(u),p=1<<f;p&s|i[f]&s&&(i[f]|=s),u&=~p}}var we=0;function Wd(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ud,ha,Kd,qd,Jd,pa=!1,Xo=[],Pn=null,Rn=null,An=null,Vi=new Map,Hi=new Map,In=[],P0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qd(i,s){switch(i){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":Vi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hi.delete(s.pointerId)}}function Wi(i,s,u,f,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:u,eventSystemFlags:f,nativeEvent:g,targetContainers:[p]},s!==null&&(s=io(s),s!==null&&ha(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function R0(i,s,u,f,p){switch(s){case"focusin":return Pn=Wi(Pn,i,s,u,f,p),!0;case"dragenter":return Rn=Wi(Rn,i,s,u,f,p),!0;case"mouseover":return An=Wi(An,i,s,u,f,p),!0;case"pointerover":var g=p.pointerId;return Vi.set(g,Wi(Vi.get(g)||null,i,s,u,f,p)),!0;case"gotpointercapture":return g=p.pointerId,Hi.set(g,Wi(Hi.get(g)||null,i,s,u,f,p)),!0}return!1}function Gd(i){var s=yr(i.target);if(s!==null){var u=gr(s);if(u!==null){if(s=u.tag,s===13){if(s=Id(u),s!==null){i.blockedOn=s,Jd(i.priority,function(){Kd(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zo(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=ga(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);ra=f,u.target.dispatchEvent(f),ra=null}else return s=io(u),s!==null&&ha(s),i.blockedOn=u,!1;s.shift()}return!0}function Yd(i,s,u){Zo(i)&&u.delete(s)}function A0(){pa=!1,Pn!==null&&Zo(Pn)&&(Pn=null),Rn!==null&&Zo(Rn)&&(Rn=null),An!==null&&Zo(An)&&(An=null),Vi.forEach(Yd),Hi.forEach(Yd)}function Ui(i,s){i.blockedOn===s&&(i.blockedOn=null,pa||(pa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,A0)))}function Ki(i){function s(p){return Ui(p,i)}if(0<Xo.length){Ui(Xo[0],i);for(var u=1;u<Xo.length;u++){var f=Xo[u];f.blockedOn===i&&(f.blockedOn=null)}}for(Pn!==null&&Ui(Pn,i),Rn!==null&&Ui(Rn,i),An!==null&&Ui(An,i),Vi.forEach(s),Hi.forEach(s),u=0;u<In.length;u++)f=In[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<In.length&&(u=In[0],u.blockedOn===null);)Gd(u),u.blockedOn===null&&In.shift()}var Kr=G.ReactCurrentBatchConfig,es=!0;function I0(i,s,u,f){var p=we,g=Kr.transition;Kr.transition=null;try{we=1,ma(i,s,u,f)}finally{we=p,Kr.transition=g}}function $0(i,s,u,f){var p=we,g=Kr.transition;Kr.transition=null;try{we=4,ma(i,s,u,f)}finally{we=p,Kr.transition=g}}function ma(i,s,u,f){if(es){var p=ga(i,s,u,f);if(p===null)Ra(i,s,f,ts,u),Qd(i,f);else if(R0(p,i,s,u,f))f.stopPropagation();else if(Qd(i,f),s&4&&-1<P0.indexOf(i)){for(;p!==null;){var g=io(p);if(g!==null&&Ud(g),g=ga(i,s,u,f),g===null&&Ra(i,s,f,ts,u),g===p)break;p=g}p!==null&&f.stopPropagation()}else Ra(i,s,f,null,u)}}var ts=null;function ga(i,s,u,f){if(ts=null,i=ia(f),i=yr(i),i!==null)if(s=gr(i),s===null)i=null;else if(u=s.tag,u===13){if(i=Id(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return ts=i,null}function Xd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C0()){case ua:return 1;case jd:return 4;case qo:case b0:return 16;case Vd:return 536870912;default:return 16}default:return 16}}var $n=null,ya=null,ns=null;function Zd(){if(ns)return ns;var i,s=ya,u=s.length,f,p="value"in $n?$n.value:$n.textContent,g=p.length;for(i=0;i<u&&s[i]===p[i];i++);var w=u-i;for(f=1;f<=w&&s[u-f]===p[g-f];f++);return ns=p.slice(i,1<f?1-f:void 0)}function rs(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function is(){return!0}function ef(){return!1}function Nt(i){function s(u,f,p,g,w){this._reactName=u,this._targetInst=p,this.type=f,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(u=i[C],this[C]=u?u(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?is:ef,this.isPropagationStopped=ef,this}return W(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),s}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},va=Nt(qr),qi=W({},qr,{view:0,detail:0}),z0=Nt(qi),ka,wa,Ji,ss=W({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ji&&(Ji&&i.type==="mousemove"?(ka=i.screenX-Ji.screenX,wa=i.screenY-Ji.screenY):wa=ka=0,Ji=i),ka)},movementY:function(i){return"movementY"in i?i.movementY:wa}}),tf=Nt(ss),L0=W({},ss,{dataTransfer:0}),B0=Nt(L0),F0=W({},qi,{relatedTarget:0}),Sa=Nt(F0),j0=W({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),V0=Nt(j0),H0=W({},qr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),W0=Nt(H0),U0=W({},qr,{data:0}),nf=Nt(U0),K0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q0(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=J0[i])?!!s[i]:!1}function xa(){return Q0}var G0=W({},qi,{key:function(i){if(i.key){var s=K0[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=rs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?q0[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(i){return i.type==="keypress"?rs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?rs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Y0=Nt(G0),X0=W({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rf=Nt(X0),Z0=W({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),ey=Nt(Z0),ty=W({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ny=Nt(ty),ry=W({},ss,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),iy=Nt(ry),oy=[9,13,27,32],Ca=c&&"CompositionEvent"in window,Qi=null;c&&"documentMode"in document&&(Qi=document.documentMode);var sy=c&&"TextEvent"in window&&!Qi,of=c&&(!Ca||Qi&&8<Qi&&11>=Qi),sf=" ",lf=!1;function af(i,s){switch(i){case"keyup":return oy.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uf(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Jr=!1;function ly(i,s){switch(i){case"compositionend":return uf(s);case"keypress":return s.which!==32?null:(lf=!0,sf);case"textInput":return i=s.data,i===sf&&lf?null:i;default:return null}}function ay(i,s){if(Jr)return i==="compositionend"||!Ca&&af(i,s)?(i=Zd(),ns=ya=$n=null,Jr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return of&&s.locale!=="ko"?null:s.data;default:return null}}var uy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!uy[i.type]:s==="textarea"}function df(i,s,u,f){Nd(f),s=ds(s,"onChange"),0<s.length&&(u=new va("onChange","change",null,u,f),i.push({event:u,listeners:s}))}var Gi=null,Yi=null;function cy(i){Of(i,0)}function ls(i){var s=Zr(i);if(vd(s))return i}function dy(i,s){if(i==="change")return s}var ff=!1;if(c){var ba;if(c){var Ma="oninput"in document;if(!Ma){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),Ma=typeof hf.oninput=="function"}ba=Ma}else ba=!1;ff=ba&&(!document.documentMode||9<document.documentMode)}function pf(){Gi&&(Gi.detachEvent("onpropertychange",mf),Yi=Gi=null)}function mf(i){if(i.propertyName==="value"&&ls(Yi)){var s=[];df(s,Yi,i,ia(i)),Ad(cy,s)}}function fy(i,s,u){i==="focusin"?(pf(),Gi=s,Yi=u,Gi.attachEvent("onpropertychange",mf)):i==="focusout"&&pf()}function hy(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ls(Yi)}function py(i,s){if(i==="click")return ls(s)}function my(i,s){if(i==="input"||i==="change")return ls(s)}function gy(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Gt=typeof Object.is=="function"?Object.is:gy;function Xi(i,s){if(Gt(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var p=u[f];if(!d.call(s,p)||!Gt(i[p],s[p]))return!1}return!0}function gf(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function yf(i,s){var u=gf(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=s&&f>=s)return{node:u,offset:s-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=gf(u)}}function vf(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?vf(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function kf(){for(var i=window,s=Ho();s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=Ho(i.document)}return s}function Ea(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function yy(i){var s=kf(),u=i.focusedElem,f=i.selectionRange;if(s!==u&&u&&u.ownerDocument&&vf(u.ownerDocument.documentElement,u)){if(f!==null&&Ea(u)){if(s=f.start,i=f.end,i===void 0&&(i=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(i,u.value.length);else if(i=(s=u.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var p=u.textContent.length,g=Math.min(f.start,p);f=f.end===void 0?g:Math.min(f.end,p),!i.extend&&g>f&&(p=f,f=g,g=p),p=yf(u,g);var w=yf(u,f);p&&w&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==w.node||i.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),i.removeAllRanges(),g>f?(i.addRange(s),i.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),i.addRange(s)))}}for(s=[],i=u;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)i=s[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var vy=c&&"documentMode"in document&&11>=document.documentMode,Qr=null,_a=null,Zi=null,Ta=!1;function wf(i,s,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ta||Qr==null||Qr!==Ho(f)||(f=Qr,"selectionStart"in f&&Ea(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Zi&&Xi(Zi,f)||(Zi=f,f=ds(_a,"onSelect"),0<f.length&&(s=new va("onSelect","select",null,s,u),i.push({event:s,listeners:f}),s.target=Qr)))}function as(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var Gr={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},Oa={},Sf={};c&&(Sf=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function us(i){if(Oa[i])return Oa[i];if(!Gr[i])return i;var s=Gr[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in Sf)return Oa[i]=s[u];return i}var xf=us("animationend"),Cf=us("animationiteration"),bf=us("animationstart"),Mf=us("transitionend"),Ef=new Map,_f="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(i,s){Ef.set(i,s),l(s,[i])}for(var Na=0;Na<_f.length;Na++){var Da=_f[Na],ky=Da.toLowerCase(),wy=Da[0].toUpperCase()+Da.slice(1);zn(ky,"on"+wy)}zn(xf,"onAnimationEnd"),zn(Cf,"onAnimationIteration"),zn(bf,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(Mf,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sy=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function Tf(i,s,u){var f=i.type||"unknown-event";i.currentTarget=u,k0(f,s,void 0,i),i.currentTarget=null}function Of(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],p=f.event;f=f.listeners;e:{var g=void 0;if(s)for(var w=f.length-1;0<=w;w--){var C=f[w],M=C.instance,D=C.currentTarget;if(C=C.listener,M!==g&&p.isPropagationStopped())break e;Tf(p,C,D),g=M}else for(w=0;w<f.length;w++){if(C=f[w],M=C.instance,D=C.currentTarget,C=C.listener,M!==g&&p.isPropagationStopped())break e;Tf(p,C,D),g=M}}}if(Ko)throw i=aa,Ko=!1,aa=null,i}function be(i,s){var u=s[Ba];u===void 0&&(u=s[Ba]=new Set);var f=i+"__bubble";u.has(f)||(Nf(s,i,2,!1),u.add(f))}function Pa(i,s,u){var f=0;s&&(f|=4),Nf(u,i,f,s)}var cs="_reactListening"+Math.random().toString(36).slice(2);function to(i){if(!i[cs]){i[cs]=!0,r.forEach(function(u){u!=="selectionchange"&&(Sy.has(u)||Pa(u,!1,i),Pa(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[cs]||(s[cs]=!0,Pa("selectionchange",!1,s))}}function Nf(i,s,u,f){switch(Xd(s)){case 1:var p=I0;break;case 4:p=$0;break;default:p=ma}u=p.bind(null,s,u,i),p=void 0,!la||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),f?p!==void 0?i.addEventListener(s,u,{capture:!0,passive:p}):i.addEventListener(s,u,!0):p!==void 0?i.addEventListener(s,u,{passive:p}):i.addEventListener(s,u,!1)}function Ra(i,s,u,f,p){var g=f;if(!(s&1)&&!(s&2)&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var C=f.stateNode.containerInfo;if(C===p||C.nodeType===8&&C.parentNode===p)break;if(w===4)for(w=f.return;w!==null;){var M=w.tag;if((M===3||M===4)&&(M=w.stateNode.containerInfo,M===p||M.nodeType===8&&M.parentNode===p))return;w=w.return}for(;C!==null;){if(w=yr(C),w===null)return;if(M=w.tag,M===5||M===6){f=g=w;continue e}C=C.parentNode}}f=f.return}Ad(function(){var D=g,I=ia(u),z=[];e:{var R=Ef.get(i);if(R!==void 0){var V=va,U=i;switch(i){case"keypress":if(rs(u)===0)break e;case"keydown":case"keyup":V=Y0;break;case"focusin":U="focus",V=Sa;break;case"focusout":U="blur",V=Sa;break;case"beforeblur":case"afterblur":V=Sa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=B0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=ey;break;case xf:case Cf:case bf:V=V0;break;case Mf:V=ny;break;case"scroll":V=z0;break;case"wheel":V=iy;break;case"copy":case"cut":case"paste":V=W0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=rf}var q=(s&4)!==0,Ae=!q&&i==="scroll",T=q?R!==null?R+"Capture":null:R;q=[];for(var E=D,O;E!==null;){O=E;var B=O.stateNode;if(O.tag===5&&B!==null&&(O=B,T!==null&&(B=zi(E,T),B!=null&&q.push(no(E,B,O)))),Ae)break;E=E.return}0<q.length&&(R=new V(R,U,null,u,I),z.push({event:R,listeners:q}))}}if(!(s&7)){e:{if(R=i==="mouseover"||i==="pointerover",V=i==="mouseout"||i==="pointerout",R&&u!==ra&&(U=u.relatedTarget||u.fromElement)&&(yr(U)||U[vn]))break e;if((V||R)&&(R=I.window===I?I:(R=I.ownerDocument)?R.defaultView||R.parentWindow:window,V?(U=u.relatedTarget||u.toElement,V=D,U=U?yr(U):null,U!==null&&(Ae=gr(U),U!==Ae||U.tag!==5&&U.tag!==6)&&(U=null)):(V=null,U=D),V!==U)){if(q=tf,B="onMouseLeave",T="onMouseEnter",E="mouse",(i==="pointerout"||i==="pointerover")&&(q=rf,B="onPointerLeave",T="onPointerEnter",E="pointer"),Ae=V==null?R:Zr(V),O=U==null?R:Zr(U),R=new q(B,E+"leave",V,u,I),R.target=Ae,R.relatedTarget=O,B=null,yr(I)===D&&(q=new q(T,E+"enter",U,u,I),q.target=O,q.relatedTarget=Ae,B=q),Ae=B,V&&U)t:{for(q=V,T=U,E=0,O=q;O;O=Yr(O))E++;for(O=0,B=T;B;B=Yr(B))O++;for(;0<E-O;)q=Yr(q),E--;for(;0<O-E;)T=Yr(T),O--;for(;E--;){if(q===T||T!==null&&q===T.alternate)break t;q=Yr(q),T=Yr(T)}q=null}else q=null;V!==null&&Df(z,R,V,q,!1),U!==null&&Ae!==null&&Df(z,Ae,U,q,!0)}}e:{if(R=D?Zr(D):window,V=R.nodeName&&R.nodeName.toLowerCase(),V==="select"||V==="input"&&R.type==="file")var J=dy;else if(cf(R))if(ff)J=my;else{J=hy;var X=fy}else(V=R.nodeName)&&V.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(J=py);if(J&&(J=J(i,D))){df(z,J,u,I);break e}X&&X(i,R,D),i==="focusout"&&(X=R._wrapperState)&&X.controlled&&R.type==="number"&&Xl(R,"number",R.value)}switch(X=D?Zr(D):window,i){case"focusin":(cf(X)||X.contentEditable==="true")&&(Qr=X,_a=D,Zi=null);break;case"focusout":Zi=_a=Qr=null;break;case"mousedown":Ta=!0;break;case"contextmenu":case"mouseup":case"dragend":Ta=!1,wf(z,u,I);break;case"selectionchange":if(vy)break;case"keydown":case"keyup":wf(z,u,I)}var Z;if(Ca)e:{switch(i){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else Jr?af(i,u)&&(ie="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ie="onCompositionStart");ie&&(of&&u.locale!=="ko"&&(Jr||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&Jr&&(Z=Zd()):($n=I,ya="value"in $n?$n.value:$n.textContent,Jr=!0)),X=ds(D,ie),0<X.length&&(ie=new nf(ie,i,null,u,I),z.push({event:ie,listeners:X}),Z?ie.data=Z:(Z=uf(u),Z!==null&&(ie.data=Z)))),(Z=sy?ly(i,u):ay(i,u))&&(D=ds(D,"onBeforeInput"),0<D.length&&(I=new nf("onBeforeInput","beforeinput",null,u,I),z.push({event:I,listeners:D}),I.data=Z))}Of(z,s)})}function no(i,s,u){return{instance:i,listener:s,currentTarget:u}}function ds(i,s){for(var u=s+"Capture",f=[];i!==null;){var p=i,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=zi(i,u),g!=null&&f.unshift(no(i,g,p)),g=zi(i,s),g!=null&&f.push(no(i,g,p))),i=i.return}return f}function Yr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Df(i,s,u,f,p){for(var g=s._reactName,w=[];u!==null&&u!==f;){var C=u,M=C.alternate,D=C.stateNode;if(M!==null&&M===f)break;C.tag===5&&D!==null&&(C=D,p?(M=zi(u,g),M!=null&&w.unshift(no(u,M,C))):p||(M=zi(u,g),M!=null&&w.push(no(u,M,C)))),u=u.return}w.length!==0&&i.push({event:s,listeners:w})}var xy=/\r\n?/g,Cy=/\u0000|\uFFFD/g;function Pf(i){return(typeof i=="string"?i:""+i).replace(xy,`
`).replace(Cy,"")}function fs(i,s,u){if(s=Pf(s),Pf(i)!==s&&u)throw Error(t(425))}function hs(){}var Aa=null,Ia=null;function $a(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var za=typeof setTimeout=="function"?setTimeout:void 0,by=typeof clearTimeout=="function"?clearTimeout:void 0,Rf=typeof Promise=="function"?Promise:void 0,My=typeof queueMicrotask=="function"?queueMicrotask:typeof Rf<"u"?function(i){return Rf.resolve(null).then(i).catch(Ey)}:za;function Ey(i){setTimeout(function(){throw i})}function La(i,s){var u=s,f=0;do{var p=u.nextSibling;if(i.removeChild(u),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(f===0){i.removeChild(p),Ki(s);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=p}while(u);Ki(s)}function Ln(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Af(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),an="__reactFiber$"+Xr,ro="__reactProps$"+Xr,vn="__reactContainer$"+Xr,Ba="__reactEvents$"+Xr,_y="__reactListeners$"+Xr,Ty="__reactHandles$"+Xr;function yr(i){var s=i[an];if(s)return s;for(var u=i.parentNode;u;){if(s=u[vn]||u[an]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=Af(i);i!==null;){if(u=i[an])return u;i=Af(i)}return s}i=u,u=i.parentNode}return null}function io(i){return i=i[an]||i[vn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Zr(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function ps(i){return i[ro]||null}var Fa=[],ei=-1;function Bn(i){return{current:i}}function Me(i){0>ei||(i.current=Fa[ei],Fa[ei]=null,ei--)}function Ce(i,s){ei++,Fa[ei]=i.current,i.current=s}var Fn={},tt=Bn(Fn),kt=Bn(!1),vr=Fn;function ti(i,s){var u=i.type.contextTypes;if(!u)return Fn;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in u)p[g]=s[g];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=p),p}function wt(i){return i=i.childContextTypes,i!=null}function ms(){Me(kt),Me(tt)}function If(i,s,u){if(tt.current!==Fn)throw Error(t(168));Ce(tt,s),Ce(kt,u)}function $f(i,s,u){var f=i.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var p in f)if(!(p in s))throw Error(t(108,xe(i)||"Unknown",p));return W({},u,f)}function gs(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Fn,vr=tt.current,Ce(tt,i),Ce(kt,kt.current),!0}function zf(i,s,u){var f=i.stateNode;if(!f)throw Error(t(169));u?(i=$f(i,s,vr),f.__reactInternalMemoizedMergedChildContext=i,Me(kt),Me(tt),Ce(tt,i)):Me(kt),Ce(kt,u)}var kn=null,ys=!1,ja=!1;function Lf(i){kn===null?kn=[i]:kn.push(i)}function Oy(i){ys=!0,Lf(i)}function jn(){if(!ja&&kn!==null){ja=!0;var i=0,s=we;try{var u=kn;for(we=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}kn=null,ys=!1}catch(p){throw kn!==null&&(kn=kn.slice(i+1)),Bd(ua,jn),p}finally{we=s,ja=!1}}return null}var ni=[],ri=0,vs=null,ks=0,zt=[],Lt=0,kr=null,wn=1,Sn="";function wr(i,s){ni[ri++]=ks,ni[ri++]=vs,vs=i,ks=s}function Bf(i,s,u){zt[Lt++]=wn,zt[Lt++]=Sn,zt[Lt++]=kr,kr=i;var f=wn;i=Sn;var p=32-Qt(f)-1;f&=~(1<<p),u+=1;var g=32-Qt(s)+p;if(30<g){var w=p-p%5;g=(f&(1<<w)-1).toString(32),f>>=w,p-=w,wn=1<<32-Qt(s)+p|u<<p|f,Sn=g+i}else wn=1<<g|u<<p|f,Sn=i}function Va(i){i.return!==null&&(wr(i,1),Bf(i,1,0))}function Ha(i){for(;i===vs;)vs=ni[--ri],ni[ri]=null,ks=ni[--ri],ni[ri]=null;for(;i===kr;)kr=zt[--Lt],zt[Lt]=null,Sn=zt[--Lt],zt[Lt]=null,wn=zt[--Lt],zt[Lt]=null}var Dt=null,Pt=null,_e=!1,Yt=null;function Ff(i,s){var u=Vt(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function jf(i,s){switch(i.tag){case 5:var u=i.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,Dt=i,Pt=Ln(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,Dt=i,Pt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=kr!==null?{id:wn,overflow:Sn}:null,i.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=Vt(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,Dt=i,Pt=null,!0):!1;default:return!1}}function Wa(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Ua(i){if(_e){var s=Pt;if(s){var u=s;if(!jf(i,s)){if(Wa(i))throw Error(t(418));s=Ln(u.nextSibling);var f=Dt;s&&jf(i,s)?Ff(f,u):(i.flags=i.flags&-4097|2,_e=!1,Dt=i)}}else{if(Wa(i))throw Error(t(418));i.flags=i.flags&-4097|2,_e=!1,Dt=i}}}function Vf(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Dt=i}function ws(i){if(i!==Dt)return!1;if(!_e)return Vf(i),_e=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!$a(i.type,i.memoizedProps)),s&&(s=Pt)){if(Wa(i))throw Hf(),Error(t(418));for(;s;)Ff(i,s),s=Ln(s.nextSibling)}if(Vf(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(s===0){Pt=Ln(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}i=i.nextSibling}Pt=null}}else Pt=Dt?Ln(i.stateNode.nextSibling):null;return!0}function Hf(){for(var i=Pt;i;)i=Ln(i.nextSibling)}function ii(){Pt=Dt=null,_e=!1}function Ka(i){Yt===null?Yt=[i]:Yt.push(i)}var Ny=G.ReactCurrentBatchConfig;function oo(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,i));var p=f,g=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var C=p.refs;w===null?delete C[g]:C[g]=w},s._stringRef=g,s)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function Ss(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Wf(i){var s=i._init;return s(i._payload)}function Uf(i){function s(T,E){if(i){var O=T.deletions;O===null?(T.deletions=[E],T.flags|=16):O.push(E)}}function u(T,E){if(!i)return null;for(;E!==null;)s(T,E),E=E.sibling;return null}function f(T,E){for(T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function p(T,E){return T=Qn(T,E),T.index=0,T.sibling=null,T}function g(T,E,O){return T.index=O,i?(O=T.alternate,O!==null?(O=O.index,O<E?(T.flags|=2,E):O):(T.flags|=2,E)):(T.flags|=1048576,E)}function w(T){return i&&T.alternate===null&&(T.flags|=2),T}function C(T,E,O,B){return E===null||E.tag!==6?(E=zu(O,T.mode,B),E.return=T,E):(E=p(E,O),E.return=T,E)}function M(T,E,O,B){var J=O.type;return J===he?I(T,E,O.props.children,B,O.key):E!==null&&(E.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===vt&&Wf(J)===E.type)?(B=p(E,O.props),B.ref=oo(T,E,O),B.return=T,B):(B=Us(O.type,O.key,O.props,null,T.mode,B),B.ref=oo(T,E,O),B.return=T,B)}function D(T,E,O,B){return E===null||E.tag!==4||E.stateNode.containerInfo!==O.containerInfo||E.stateNode.implementation!==O.implementation?(E=Lu(O,T.mode,B),E.return=T,E):(E=p(E,O.children||[]),E.return=T,E)}function I(T,E,O,B,J){return E===null||E.tag!==7?(E=Tr(O,T.mode,B,J),E.return=T,E):(E=p(E,O),E.return=T,E)}function z(T,E,O){if(typeof E=="string"&&E!==""||typeof E=="number")return E=zu(""+E,T.mode,O),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case re:return O=Us(E.type,E.key,E.props,null,T.mode,O),O.ref=oo(T,null,E),O.return=T,O;case Y:return E=Lu(E,T.mode,O),E.return=T,E;case vt:var B=E._init;return z(T,B(E._payload),O)}if(Ai(E)||ne(E))return E=Tr(E,T.mode,O,null),E.return=T,E;Ss(T,E)}return null}function R(T,E,O,B){var J=E!==null?E.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return J!==null?null:C(T,E,""+O,B);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case re:return O.key===J?M(T,E,O,B):null;case Y:return O.key===J?D(T,E,O,B):null;case vt:return J=O._init,R(T,E,J(O._payload),B)}if(Ai(O)||ne(O))return J!==null?null:I(T,E,O,B,null);Ss(T,O)}return null}function V(T,E,O,B,J){if(typeof B=="string"&&B!==""||typeof B=="number")return T=T.get(O)||null,C(E,T,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case re:return T=T.get(B.key===null?O:B.key)||null,M(E,T,B,J);case Y:return T=T.get(B.key===null?O:B.key)||null,D(E,T,B,J);case vt:var X=B._init;return V(T,E,O,X(B._payload),J)}if(Ai(B)||ne(B))return T=T.get(O)||null,I(E,T,B,J,null);Ss(E,B)}return null}function U(T,E,O,B){for(var J=null,X=null,Z=E,ie=E=0,He=null;Z!==null&&ie<O.length;ie++){Z.index>ie?(He=Z,Z=null):He=Z.sibling;var ye=R(T,Z,O[ie],B);if(ye===null){Z===null&&(Z=He);break}i&&Z&&ye.alternate===null&&s(T,Z),E=g(ye,E,ie),X===null?J=ye:X.sibling=ye,X=ye,Z=He}if(ie===O.length)return u(T,Z),_e&&wr(T,ie),J;if(Z===null){for(;ie<O.length;ie++)Z=z(T,O[ie],B),Z!==null&&(E=g(Z,E,ie),X===null?J=Z:X.sibling=Z,X=Z);return _e&&wr(T,ie),J}for(Z=f(T,Z);ie<O.length;ie++)He=V(Z,T,ie,O[ie],B),He!==null&&(i&&He.alternate!==null&&Z.delete(He.key===null?ie:He.key),E=g(He,E,ie),X===null?J=He:X.sibling=He,X=He);return i&&Z.forEach(function(Gn){return s(T,Gn)}),_e&&wr(T,ie),J}function q(T,E,O,B){var J=ne(O);if(typeof J!="function")throw Error(t(150));if(O=J.call(O),O==null)throw Error(t(151));for(var X=J=null,Z=E,ie=E=0,He=null,ye=O.next();Z!==null&&!ye.done;ie++,ye=O.next()){Z.index>ie?(He=Z,Z=null):He=Z.sibling;var Gn=R(T,Z,ye.value,B);if(Gn===null){Z===null&&(Z=He);break}i&&Z&&Gn.alternate===null&&s(T,Z),E=g(Gn,E,ie),X===null?J=Gn:X.sibling=Gn,X=Gn,Z=He}if(ye.done)return u(T,Z),_e&&wr(T,ie),J;if(Z===null){for(;!ye.done;ie++,ye=O.next())ye=z(T,ye.value,B),ye!==null&&(E=g(ye,E,ie),X===null?J=ye:X.sibling=ye,X=ye);return _e&&wr(T,ie),J}for(Z=f(T,Z);!ye.done;ie++,ye=O.next())ye=V(Z,T,ie,ye.value,B),ye!==null&&(i&&ye.alternate!==null&&Z.delete(ye.key===null?ie:ye.key),E=g(ye,E,ie),X===null?J=ye:X.sibling=ye,X=ye);return i&&Z.forEach(function(av){return s(T,av)}),_e&&wr(T,ie),J}function Ae(T,E,O,B){if(typeof O=="object"&&O!==null&&O.type===he&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case re:e:{for(var J=O.key,X=E;X!==null;){if(X.key===J){if(J=O.type,J===he){if(X.tag===7){u(T,X.sibling),E=p(X,O.props.children),E.return=T,T=E;break e}}else if(X.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===vt&&Wf(J)===X.type){u(T,X.sibling),E=p(X,O.props),E.ref=oo(T,X,O),E.return=T,T=E;break e}u(T,X);break}else s(T,X);X=X.sibling}O.type===he?(E=Tr(O.props.children,T.mode,B,O.key),E.return=T,T=E):(B=Us(O.type,O.key,O.props,null,T.mode,B),B.ref=oo(T,E,O),B.return=T,T=B)}return w(T);case Y:e:{for(X=O.key;E!==null;){if(E.key===X)if(E.tag===4&&E.stateNode.containerInfo===O.containerInfo&&E.stateNode.implementation===O.implementation){u(T,E.sibling),E=p(E,O.children||[]),E.return=T,T=E;break e}else{u(T,E);break}else s(T,E);E=E.sibling}E=Lu(O,T.mode,B),E.return=T,T=E}return w(T);case vt:return X=O._init,Ae(T,E,X(O._payload),B)}if(Ai(O))return U(T,E,O,B);if(ne(O))return q(T,E,O,B);Ss(T,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,E!==null&&E.tag===6?(u(T,E.sibling),E=p(E,O),E.return=T,T=E):(u(T,E),E=zu(O,T.mode,B),E.return=T,T=E),w(T)):u(T,E)}return Ae}var oi=Uf(!0),Kf=Uf(!1),xs=Bn(null),Cs=null,si=null,qa=null;function Ja(){qa=si=Cs=null}function Qa(i){var s=xs.current;Me(xs),i._currentValue=s}function Ga(i,s,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===u)break;i=i.return}}function li(i,s){Cs=i,qa=si=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(St=!0),i.firstContext=null)}function Bt(i){var s=i._currentValue;if(qa!==i)if(i={context:i,memoizedValue:s,next:null},si===null){if(Cs===null)throw Error(t(308));si=i,Cs.dependencies={lanes:0,firstContext:i}}else si=si.next=i;return s}var Sr=null;function Ya(i){Sr===null?Sr=[i]:Sr.push(i)}function qf(i,s,u,f){var p=s.interleaved;return p===null?(u.next=u,Ya(s)):(u.next=p.next,p.next=u),s.interleaved=u,xn(i,f)}function xn(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Vn=!1;function Xa(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jf(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Cn(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Hn(i,s,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,pe&2){var p=f.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),f.pending=s,xn(i,u)}return p=f.interleaved,p===null?(s.next=s,Ya(f)):(s.next=p.next,p.next=s),f.interleaved=s,xn(i,u)}function bs(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,fa(i,u)}}function Qf(i,s){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var p=null,g=null;if(u=u.firstBaseUpdate,u!==null){do{var w={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};g===null?p=g=w:g=g.next=w,u=u.next}while(u!==null);g===null?p=g=s:g=g.next=s}else p=g=s;u={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function Ms(i,s,u,f){var p=i.updateQueue;Vn=!1;var g=p.firstBaseUpdate,w=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var M=C,D=M.next;M.next=null,w===null?g=D:w.next=D,w=M;var I=i.alternate;I!==null&&(I=I.updateQueue,C=I.lastBaseUpdate,C!==w&&(C===null?I.firstBaseUpdate=D:C.next=D,I.lastBaseUpdate=M))}if(g!==null){var z=p.baseState;w=0,I=D=M=null,C=g;do{var R=C.lane,V=C.eventTime;if((f&R)===R){I!==null&&(I=I.next={eventTime:V,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var U=i,q=C;switch(R=s,V=u,q.tag){case 1:if(U=q.payload,typeof U=="function"){z=U.call(V,z,R);break e}z=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=q.payload,R=typeof U=="function"?U.call(V,z,R):U,R==null)break e;z=W({},z,R);break e;case 2:Vn=!0}}C.callback!==null&&C.lane!==0&&(i.flags|=64,R=p.effects,R===null?p.effects=[C]:R.push(C))}else V={eventTime:V,lane:R,tag:C.tag,payload:C.payload,callback:C.callback,next:null},I===null?(D=I=V,M=z):I=I.next=V,w|=R;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;R=C,C=R.next,R.next=null,p.lastBaseUpdate=R,p.shared.pending=null}}while(!0);if(I===null&&(M=z),p.baseState=M,p.firstBaseUpdate=D,p.lastBaseUpdate=I,s=p.shared.interleaved,s!==null){p=s;do w|=p.lane,p=p.next;while(p!==s)}else g===null&&(p.shared.lanes=0);br|=w,i.lanes=w,i.memoizedState=z}}function Gf(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var f=i[s],p=f.callback;if(p!==null){if(f.callback=null,f=u,typeof p!="function")throw Error(t(191,p));p.call(f)}}}var so={},un=Bn(so),lo=Bn(so),ao=Bn(so);function xr(i){if(i===so)throw Error(t(174));return i}function Za(i,s){switch(Ce(ao,s),Ce(lo,i),Ce(un,so),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ea(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=ea(s,i)}Me(un),Ce(un,s)}function ai(){Me(un),Me(lo),Me(ao)}function Yf(i){xr(ao.current);var s=xr(un.current),u=ea(s,i.type);s!==u&&(Ce(lo,i),Ce(un,u))}function eu(i){lo.current===i&&(Me(un),Me(lo))}var Te=Bn(0);function Es(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var tu=[];function nu(){for(var i=0;i<tu.length;i++)tu[i]._workInProgressVersionPrimary=null;tu.length=0}var _s=G.ReactCurrentDispatcher,ru=G.ReactCurrentBatchConfig,Cr=0,Oe=null,ze=null,je=null,Ts=!1,uo=!1,co=0,Dy=0;function nt(){throw Error(t(321))}function iu(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!Gt(i[u],s[u]))return!1;return!0}function ou(i,s,u,f,p,g){if(Cr=g,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,_s.current=i===null||i.memoizedState===null?Iy:$y,i=u(f,p),uo){g=0;do{if(uo=!1,co=0,25<=g)throw Error(t(301));g+=1,je=ze=null,s.updateQueue=null,_s.current=zy,i=u(f,p)}while(uo)}if(_s.current=Ds,s=ze!==null&&ze.next!==null,Cr=0,je=ze=Oe=null,Ts=!1,s)throw Error(t(300));return i}function su(){var i=co!==0;return co=0,i}function cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Oe.memoizedState=je=i:je=je.next=i,je}function Ft(){if(ze===null){var i=Oe.alternate;i=i!==null?i.memoizedState:null}else i=ze.next;var s=je===null?Oe.memoizedState:je.next;if(s!==null)je=s,ze=i;else{if(i===null)throw Error(t(310));ze=i,i={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},je===null?Oe.memoizedState=je=i:je=je.next=i}return je}function fo(i,s){return typeof s=="function"?s(i):s}function lu(i){var s=Ft(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=ze,p=f.baseQueue,g=u.pending;if(g!==null){if(p!==null){var w=p.next;p.next=g.next,g.next=w}f.baseQueue=p=g,u.pending=null}if(p!==null){g=p.next,f=f.baseState;var C=w=null,M=null,D=g;do{var I=D.lane;if((Cr&I)===I)M!==null&&(M=M.next={lane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),f=D.hasEagerState?D.eagerState:i(f,D.action);else{var z={lane:I,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null};M===null?(C=M=z,w=f):M=M.next=z,Oe.lanes|=I,br|=I}D=D.next}while(D!==null&&D!==g);M===null?w=f:M.next=C,Gt(f,s.memoizedState)||(St=!0),s.memoizedState=f,s.baseState=w,s.baseQueue=M,u.lastRenderedState=f}if(i=u.interleaved,i!==null){p=i;do g=p.lane,Oe.lanes|=g,br|=g,p=p.next;while(p!==i)}else p===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function au(i){var s=Ft(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=u.dispatch,p=u.pending,g=s.memoizedState;if(p!==null){u.pending=null;var w=p=p.next;do g=i(g,w.action),w=w.next;while(w!==p);Gt(g,s.memoizedState)||(St=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),u.lastRenderedState=g}return[g,f]}function Xf(){}function Zf(i,s){var u=Oe,f=Ft(),p=s(),g=!Gt(f.memoizedState,p);if(g&&(f.memoizedState=p,St=!0),f=f.queue,uu(nh.bind(null,u,f,i),[i]),f.getSnapshot!==s||g||je!==null&&je.memoizedState.tag&1){if(u.flags|=2048,ho(9,th.bind(null,u,f,p,s),void 0,null),Ve===null)throw Error(t(349));Cr&30||eh(u,s,p)}return p}function eh(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Oe.updateQueue,s===null?(s={lastEffect:null,stores:null},Oe.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function th(i,s,u,f){s.value=u,s.getSnapshot=f,rh(s)&&ih(i)}function nh(i,s,u){return u(function(){rh(s)&&ih(i)})}function rh(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!Gt(i,u)}catch{return!0}}function ih(i){var s=xn(i,1);s!==null&&tn(s,i,1,-1)}function oh(i){var s=cn();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:i},s.queue=i,i=i.dispatch=Ay.bind(null,Oe,i),[s.memoizedState,i]}function ho(i,s,u,f){return i={tag:i,create:s,destroy:u,deps:f,next:null},s=Oe.updateQueue,s===null?(s={lastEffect:null,stores:null},Oe.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,s.lastEffect=i)),i}function sh(){return Ft().memoizedState}function Os(i,s,u,f){var p=cn();Oe.flags|=i,p.memoizedState=ho(1|s,u,void 0,f===void 0?null:f)}function Ns(i,s,u,f){var p=Ft();f=f===void 0?null:f;var g=void 0;if(ze!==null){var w=ze.memoizedState;if(g=w.destroy,f!==null&&iu(f,w.deps)){p.memoizedState=ho(s,u,g,f);return}}Oe.flags|=i,p.memoizedState=ho(1|s,u,g,f)}function lh(i,s){return Os(8390656,8,i,s)}function uu(i,s){return Ns(2048,8,i,s)}function ah(i,s){return Ns(4,2,i,s)}function uh(i,s){return Ns(4,4,i,s)}function ch(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function dh(i,s,u){return u=u!=null?u.concat([i]):null,Ns(4,4,ch.bind(null,s,i),u)}function cu(){}function fh(i,s){var u=Ft();s=s===void 0?null:s;var f=u.memoizedState;return f!==null&&s!==null&&iu(s,f[1])?f[0]:(u.memoizedState=[i,s],i)}function hh(i,s){var u=Ft();s=s===void 0?null:s;var f=u.memoizedState;return f!==null&&s!==null&&iu(s,f[1])?f[0]:(i=i(),u.memoizedState=[i,s],i)}function ph(i,s,u){return Cr&21?(Gt(u,s)||(u=Hd(),Oe.lanes|=u,br|=u,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,St=!0),i.memoizedState=u)}function Py(i,s){var u=we;we=u!==0&&4>u?u:4,i(!0);var f=ru.transition;ru.transition={};try{i(!1),s()}finally{we=u,ru.transition=f}}function mh(){return Ft().memoizedState}function Ry(i,s,u){var f=qn(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},gh(i))yh(s,u);else if(u=qf(i,s,u,f),u!==null){var p=ft();tn(u,i,f,p),vh(u,s,f)}}function Ay(i,s,u){var f=qn(i),p={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(gh(i))yh(s,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,C=g(w,u);if(p.hasEagerState=!0,p.eagerState=C,Gt(C,w)){var M=s.interleaved;M===null?(p.next=p,Ya(s)):(p.next=M.next,M.next=p),s.interleaved=p;return}}catch{}finally{}u=qf(i,s,p,f),u!==null&&(p=ft(),tn(u,i,f,p),vh(u,s,f))}}function gh(i){var s=i.alternate;return i===Oe||s!==null&&s===Oe}function yh(i,s){uo=Ts=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function vh(i,s,u){if(u&4194240){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,fa(i,u)}}var Ds={readContext:Bt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},Iy={readContext:Bt,useCallback:function(i,s){return cn().memoizedState=[i,s===void 0?null:s],i},useContext:Bt,useEffect:lh,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,Os(4194308,4,ch.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Os(4194308,4,i,s)},useInsertionEffect:function(i,s){return Os(4,2,i,s)},useMemo:function(i,s){var u=cn();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var f=cn();return s=u!==void 0?u(s):s,f.memoizedState=f.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},f.queue=i,i=i.dispatch=Ry.bind(null,Oe,i),[f.memoizedState,i]},useRef:function(i){var s=cn();return i={current:i},s.memoizedState=i},useState:oh,useDebugValue:cu,useDeferredValue:function(i){return cn().memoizedState=i},useTransition:function(){var i=oh(!1),s=i[0];return i=Py.bind(null,i[1]),cn().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var f=Oe,p=cn();if(_e){if(u===void 0)throw Error(t(407));u=u()}else{if(u=s(),Ve===null)throw Error(t(349));Cr&30||eh(f,s,u)}p.memoizedState=u;var g={value:u,getSnapshot:s};return p.queue=g,lh(nh.bind(null,f,g,i),[i]),f.flags|=2048,ho(9,th.bind(null,f,g,u,s),void 0,null),u},useId:function(){var i=cn(),s=Ve.identifierPrefix;if(_e){var u=Sn,f=wn;u=(f&~(1<<32-Qt(f)-1)).toString(32)+u,s=":"+s+"R"+u,u=co++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=Dy++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},$y={readContext:Bt,useCallback:fh,useContext:Bt,useEffect:uu,useImperativeHandle:dh,useInsertionEffect:ah,useLayoutEffect:uh,useMemo:hh,useReducer:lu,useRef:sh,useState:function(){return lu(fo)},useDebugValue:cu,useDeferredValue:function(i){var s=Ft();return ph(s,ze.memoizedState,i)},useTransition:function(){var i=lu(fo)[0],s=Ft().memoizedState;return[i,s]},useMutableSource:Xf,useSyncExternalStore:Zf,useId:mh,unstable_isNewReconciler:!1},zy={readContext:Bt,useCallback:fh,useContext:Bt,useEffect:uu,useImperativeHandle:dh,useInsertionEffect:ah,useLayoutEffect:uh,useMemo:hh,useReducer:au,useRef:sh,useState:function(){return au(fo)},useDebugValue:cu,useDeferredValue:function(i){var s=Ft();return ze===null?s.memoizedState=i:ph(s,ze.memoizedState,i)},useTransition:function(){var i=au(fo)[0],s=Ft().memoizedState;return[i,s]},useMutableSource:Xf,useSyncExternalStore:Zf,useId:mh,unstable_isNewReconciler:!1};function Xt(i,s){if(i&&i.defaultProps){s=W({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}function du(i,s,u,f){s=i.memoizedState,u=u(f,s),u=u==null?s:W({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Ps={isMounted:function(i){return(i=i._reactInternals)?gr(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var f=ft(),p=qn(i),g=Cn(f,p);g.payload=s,u!=null&&(g.callback=u),s=Hn(i,g,p),s!==null&&(tn(s,i,p,f),bs(s,i,p))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var f=ft(),p=qn(i),g=Cn(f,p);g.tag=1,g.payload=s,u!=null&&(g.callback=u),s=Hn(i,g,p),s!==null&&(tn(s,i,p,f),bs(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=ft(),f=qn(i),p=Cn(u,f);p.tag=2,s!=null&&(p.callback=s),s=Hn(i,p,f),s!==null&&(tn(s,i,f,u),bs(s,i,f))}};function kh(i,s,u,f,p,g,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,g,w):s.prototype&&s.prototype.isPureReactComponent?!Xi(u,f)||!Xi(p,g):!0}function wh(i,s,u){var f=!1,p=Fn,g=s.contextType;return typeof g=="object"&&g!==null?g=Bt(g):(p=wt(s)?vr:tt.current,f=s.contextTypes,g=(f=f!=null)?ti(i,p):Fn),s=new s(u,g),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ps,i.stateNode=s,s._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=g),s}function Sh(i,s,u,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==i&&Ps.enqueueReplaceState(s,s.state,null)}function fu(i,s,u,f){var p=i.stateNode;p.props=u,p.state=i.memoizedState,p.refs={},Xa(i);var g=s.contextType;typeof g=="object"&&g!==null?p.context=Bt(g):(g=wt(s)?vr:tt.current,p.context=ti(i,g)),p.state=i.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(du(i,s,g,u),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Ps.enqueueReplaceState(p,p.state,null),Ms(i,u,p,f),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function ui(i,s){try{var u="",f=s;do u+=me(f),f=f.return;while(f);var p=u}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:i,source:s,stack:p,digest:null}}function hu(i,s,u){return{value:i,source:null,stack:u??null,digest:s??null}}function pu(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var Ly=typeof WeakMap=="function"?WeakMap:Map;function xh(i,s,u){u=Cn(-1,u),u.tag=3,u.payload={element:null};var f=s.value;return u.callback=function(){Bs||(Bs=!0,Ou=f),pu(i,s)},u}function Ch(i,s,u){u=Cn(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var p=s.value;u.payload=function(){return f(p)},u.callback=function(){pu(i,s)}}var g=i.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(u.callback=function(){pu(i,s),typeof f!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),u}function bh(i,s,u){var f=i.pingCache;if(f===null){f=i.pingCache=new Ly;var p=new Set;f.set(s,p)}else p=f.get(s),p===void 0&&(p=new Set,f.set(s,p));p.has(u)||(p.add(u),i=Xy.bind(null,i,s,u),s.then(i,i))}function Mh(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Eh(i,s,u,f,p){return i.mode&1?(i.flags|=65536,i.lanes=p,i):(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=Cn(-1,1),s.tag=2,Hn(u,s,1))),u.lanes|=1),i)}var By=G.ReactCurrentOwner,St=!1;function dt(i,s,u,f){s.child=i===null?Kf(s,null,u,f):oi(s,i.child,u,f)}function _h(i,s,u,f,p){u=u.render;var g=s.ref;return li(s,p),f=ou(i,s,u,f,g,p),u=su(),i!==null&&!St?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,bn(i,s,p)):(_e&&u&&Va(s),s.flags|=1,dt(i,s,f,p),s.child)}function Th(i,s,u,f,p){if(i===null){var g=u.type;return typeof g=="function"&&!$u(g)&&g.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=g,Oh(i,s,g,f,p)):(i=Us(u.type,null,f,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!(i.lanes&p)){var w=g.memoizedProps;if(u=u.compare,u=u!==null?u:Xi,u(w,f)&&i.ref===s.ref)return bn(i,s,p)}return s.flags|=1,i=Qn(g,f),i.ref=s.ref,i.return=s,s.child=i}function Oh(i,s,u,f,p){if(i!==null){var g=i.memoizedProps;if(Xi(g,f)&&i.ref===s.ref)if(St=!1,s.pendingProps=f=g,(i.lanes&p)!==0)i.flags&131072&&(St=!0);else return s.lanes=i.lanes,bn(i,s,p)}return mu(i,s,u,f,p)}function Nh(i,s,u){var f=s.pendingProps,p=f.children,g=i!==null?i.memoizedState:null;if(f.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(di,Rt),Rt|=u;else{if(!(u&1073741824))return i=g!==null?g.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Ce(di,Rt),Rt|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=g!==null?g.baseLanes:u,Ce(di,Rt),Rt|=f}else g!==null?(f=g.baseLanes|u,s.memoizedState=null):f=u,Ce(di,Rt),Rt|=f;return dt(i,s,p,u),s.child}function Dh(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function mu(i,s,u,f,p){var g=wt(u)?vr:tt.current;return g=ti(s,g),li(s,p),u=ou(i,s,u,f,g,p),f=su(),i!==null&&!St?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,bn(i,s,p)):(_e&&f&&Va(s),s.flags|=1,dt(i,s,u,p),s.child)}function Ph(i,s,u,f,p){if(wt(u)){var g=!0;gs(s)}else g=!1;if(li(s,p),s.stateNode===null)As(i,s),wh(s,u,f),fu(s,u,f,p),f=!0;else if(i===null){var w=s.stateNode,C=s.memoizedProps;w.props=C;var M=w.context,D=u.contextType;typeof D=="object"&&D!==null?D=Bt(D):(D=wt(u)?vr:tt.current,D=ti(s,D));var I=u.getDerivedStateFromProps,z=typeof I=="function"||typeof w.getSnapshotBeforeUpdate=="function";z||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==f||M!==D)&&Sh(s,w,f,D),Vn=!1;var R=s.memoizedState;w.state=R,Ms(s,f,w,p),M=s.memoizedState,C!==f||R!==M||kt.current||Vn?(typeof I=="function"&&(du(s,u,I,f),M=s.memoizedState),(C=Vn||kh(s,u,C,f,R,M,D))?(z||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=M),w.props=f,w.state=M,w.context=D,f=C):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{w=s.stateNode,Jf(i,s),C=s.memoizedProps,D=s.type===s.elementType?C:Xt(s.type,C),w.props=D,z=s.pendingProps,R=w.context,M=u.contextType,typeof M=="object"&&M!==null?M=Bt(M):(M=wt(u)?vr:tt.current,M=ti(s,M));var V=u.getDerivedStateFromProps;(I=typeof V=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==z||R!==M)&&Sh(s,w,f,M),Vn=!1,R=s.memoizedState,w.state=R,Ms(s,f,w,p);var U=s.memoizedState;C!==z||R!==U||kt.current||Vn?(typeof V=="function"&&(du(s,u,V,f),U=s.memoizedState),(D=Vn||kh(s,u,D,f,R,U,M)||!1)?(I||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,U,M),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,U,M)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===i.memoizedProps&&R===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&R===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=U),w.props=f,w.state=U,w.context=M,f=D):(typeof w.componentDidUpdate!="function"||C===i.memoizedProps&&R===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&R===i.memoizedState||(s.flags|=1024),f=!1)}return gu(i,s,u,f,g,p)}function gu(i,s,u,f,p,g){Dh(i,s);var w=(s.flags&128)!==0;if(!f&&!w)return p&&zf(s,u,!1),bn(i,s,g);f=s.stateNode,By.current=s;var C=w&&typeof u.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,i!==null&&w?(s.child=oi(s,i.child,null,g),s.child=oi(s,null,C,g)):dt(i,s,C,g),s.memoizedState=f.state,p&&zf(s,u,!0),s.child}function Rh(i){var s=i.stateNode;s.pendingContext?If(i,s.pendingContext,s.pendingContext!==s.context):s.context&&If(i,s.context,!1),Za(i,s.containerInfo)}function Ah(i,s,u,f,p){return ii(),Ka(p),s.flags|=256,dt(i,s,u,f),s.child}var yu={dehydrated:null,treeContext:null,retryLane:0};function vu(i){return{baseLanes:i,cachePool:null,transitions:null}}function Ih(i,s,u){var f=s.pendingProps,p=Te.current,g=!1,w=(s.flags&128)!==0,C;if((C=w)||(C=i!==null&&i.memoizedState===null?!1:(p&2)!==0),C?(g=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),Ce(Te,p&1),i===null)return Ua(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=f.children,i=f.fallback,g?(f=s.mode,g=s.child,w={mode:"hidden",children:w},!(f&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Ks(w,f,0,null),i=Tr(i,f,u,null),g.return=s,i.return=s,g.sibling=i,s.child=g,s.child.memoizedState=vu(u),s.memoizedState=yu,i):ku(s,w));if(p=i.memoizedState,p!==null&&(C=p.dehydrated,C!==null))return Fy(i,s,w,f,C,p,u);if(g){g=f.fallback,w=s.mode,p=i.child,C=p.sibling;var M={mode:"hidden",children:f.children};return!(w&1)&&s.child!==p?(f=s.child,f.childLanes=0,f.pendingProps=M,s.deletions=null):(f=Qn(p,M),f.subtreeFlags=p.subtreeFlags&14680064),C!==null?g=Qn(C,g):(g=Tr(g,w,u,null),g.flags|=2),g.return=s,f.return=s,f.sibling=g,s.child=f,f=g,g=s.child,w=i.child.memoizedState,w=w===null?vu(u):{baseLanes:w.baseLanes|u,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=i.childLanes&~u,s.memoizedState=yu,f}return g=i.child,i=g.sibling,f=Qn(g,{mode:"visible",children:f.children}),!(s.mode&1)&&(f.lanes=u),f.return=s,f.sibling=null,i!==null&&(u=s.deletions,u===null?(s.deletions=[i],s.flags|=16):u.push(i)),s.child=f,s.memoizedState=null,f}function ku(i,s){return s=Ks({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Rs(i,s,u,f){return f!==null&&Ka(f),oi(s,i.child,null,u),i=ku(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Fy(i,s,u,f,p,g,w){if(u)return s.flags&256?(s.flags&=-257,f=hu(Error(t(422))),Rs(i,s,w,f)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(g=f.fallback,p=s.mode,f=Ks({mode:"visible",children:f.children},p,0,null),g=Tr(g,p,w,null),g.flags|=2,f.return=s,g.return=s,f.sibling=g,s.child=f,s.mode&1&&oi(s,i.child,null,w),s.child.memoizedState=vu(w),s.memoizedState=yu,g);if(!(s.mode&1))return Rs(i,s,w,null);if(p.data==="$!"){if(f=p.nextSibling&&p.nextSibling.dataset,f)var C=f.dgst;return f=C,g=Error(t(419)),f=hu(g,f,void 0),Rs(i,s,w,f)}if(C=(w&i.childLanes)!==0,St||C){if(f=Ve,f!==null){switch(w&-w){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(f.suspendedLanes|w)?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,xn(i,p),tn(f,i,p,-1))}return Iu(),f=hu(Error(t(421))),Rs(i,s,w,f)}return p.data==="$?"?(s.flags|=128,s.child=i.child,s=Zy.bind(null,i),p._reactRetry=s,null):(i=g.treeContext,Pt=Ln(p.nextSibling),Dt=s,_e=!0,Yt=null,i!==null&&(zt[Lt++]=wn,zt[Lt++]=Sn,zt[Lt++]=kr,wn=i.id,Sn=i.overflow,kr=s),s=ku(s,f.children),s.flags|=4096,s)}function $h(i,s,u){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),Ga(i.return,s,u)}function wu(i,s,u,f,p){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=f,g.tail=u,g.tailMode=p)}function zh(i,s,u){var f=s.pendingProps,p=f.revealOrder,g=f.tail;if(dt(i,s,f.children,u),f=Te.current,f&2)f=f&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&$h(i,u,s);else if(i.tag===19)$h(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Ce(Te,f),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(u=s.child,p=null;u!==null;)i=u.alternate,i!==null&&Es(i)===null&&(p=u),u=u.sibling;u=p,u===null?(p=s.child,s.child=null):(p=u.sibling,u.sibling=null),wu(s,!1,p,u,g);break;case"backwards":for(u=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Es(i)===null){s.child=p;break}i=p.sibling,p.sibling=u,u=p,p=i}wu(s,!0,u,null,g);break;case"together":wu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function As(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function bn(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),br|=s.lanes,!(u&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,u=Qn(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Qn(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function jy(i,s,u){switch(s.tag){case 3:Rh(s),ii();break;case 5:Yf(s);break;case 1:wt(s.type)&&gs(s);break;case 4:Za(s,s.stateNode.containerInfo);break;case 10:var f=s.type._context,p=s.memoizedProps.value;Ce(xs,f._currentValue),f._currentValue=p;break;case 13:if(f=s.memoizedState,f!==null)return f.dehydrated!==null?(Ce(Te,Te.current&1),s.flags|=128,null):u&s.child.childLanes?Ih(i,s,u):(Ce(Te,Te.current&1),i=bn(i,s,u),i!==null?i.sibling:null);Ce(Te,Te.current&1);break;case 19:if(f=(u&s.childLanes)!==0,i.flags&128){if(f)return zh(i,s,u);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ce(Te,Te.current),f)break;return null;case 22:case 23:return s.lanes=0,Nh(i,s,u)}return bn(i,s,u)}var Lh,Su,Bh,Fh;Lh=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Su=function(){},Bh=function(i,s,u,f){var p=i.memoizedProps;if(p!==f){i=s.stateNode,xr(un.current);var g=null;switch(u){case"input":p=Gl(i,p),f=Gl(i,f),g=[];break;case"select":p=W({},p,{value:void 0}),f=W({},f,{value:void 0}),g=[];break;case"textarea":p=Zl(i,p),f=Zl(i,f),g=[];break;default:typeof p.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=hs)}ta(u,f);var w;u=null;for(D in p)if(!f.hasOwnProperty(D)&&p.hasOwnProperty(D)&&p[D]!=null)if(D==="style"){var C=p[D];for(w in C)C.hasOwnProperty(w)&&(u||(u={}),u[w]="")}else D!=="dangerouslySetInnerHTML"&&D!=="children"&&D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(o.hasOwnProperty(D)?g||(g=[]):(g=g||[]).push(D,null));for(D in f){var M=f[D];if(C=p!=null?p[D]:void 0,f.hasOwnProperty(D)&&M!==C&&(M!=null||C!=null))if(D==="style")if(C){for(w in C)!C.hasOwnProperty(w)||M&&M.hasOwnProperty(w)||(u||(u={}),u[w]="");for(w in M)M.hasOwnProperty(w)&&C[w]!==M[w]&&(u||(u={}),u[w]=M[w])}else u||(g||(g=[]),g.push(D,u)),u=M;else D==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,C=C?C.__html:void 0,M!=null&&C!==M&&(g=g||[]).push(D,M)):D==="children"?typeof M!="string"&&typeof M!="number"||(g=g||[]).push(D,""+M):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&(o.hasOwnProperty(D)?(M!=null&&D==="onScroll"&&be("scroll",i),g||C===M||(g=[])):(g=g||[]).push(D,M))}u&&(g=g||[]).push("style",u);var D=g;(s.updateQueue=D)&&(s.flags|=4)}},Fh=function(i,s,u,f){u!==f&&(s.flags|=4)};function po(i,s){if(!_e)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function rt(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(s)for(var p=i.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags&14680064,f|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=f,i.childLanes=u,s}function Vy(i,s,u){var f=s.pendingProps;switch(Ha(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(s),null;case 1:return wt(s.type)&&ms(),rt(s),null;case 3:return f=s.stateNode,ai(),Me(kt),Me(tt),nu(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(ws(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Yt!==null&&(Pu(Yt),Yt=null))),Su(i,s),rt(s),null;case 5:eu(s);var p=xr(ao.current);if(u=s.type,i!==null&&s.stateNode!=null)Bh(i,s,u,f,p),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(t(166));return rt(s),null}if(i=xr(un.current),ws(s)){f=s.stateNode,u=s.type;var g=s.memoizedProps;switch(f[an]=s,f[ro]=g,i=(s.mode&1)!==0,u){case"dialog":be("cancel",f),be("close",f);break;case"iframe":case"object":case"embed":be("load",f);break;case"video":case"audio":for(p=0;p<eo.length;p++)be(eo[p],f);break;case"source":be("error",f);break;case"img":case"image":case"link":be("error",f),be("load",f);break;case"details":be("toggle",f);break;case"input":kd(f,g),be("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!g.multiple},be("invalid",f);break;case"textarea":xd(f,g),be("invalid",f)}ta(u,g),p=null;for(var w in g)if(g.hasOwnProperty(w)){var C=g[w];w==="children"?typeof C=="string"?f.textContent!==C&&(g.suppressHydrationWarning!==!0&&fs(f.textContent,C,i),p=["children",C]):typeof C=="number"&&f.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&fs(f.textContent,C,i),p=["children",""+C]):o.hasOwnProperty(w)&&C!=null&&w==="onScroll"&&be("scroll",f)}switch(u){case"input":Vo(f),Sd(f,g,!0);break;case"textarea":Vo(f),bd(f);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(f.onclick=hs)}f=p,s.updateQueue=f,f!==null&&(s.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Md(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=w.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=w.createElement(u,{is:f.is}):(i=w.createElement(u),u==="select"&&(w=i,f.multiple?w.multiple=!0:f.size&&(w.size=f.size))):i=w.createElementNS(i,u),i[an]=s,i[ro]=f,Lh(i,s,!1,!1),s.stateNode=i;e:{switch(w=na(u,f),u){case"dialog":be("cancel",i),be("close",i),p=f;break;case"iframe":case"object":case"embed":be("load",i),p=f;break;case"video":case"audio":for(p=0;p<eo.length;p++)be(eo[p],i);p=f;break;case"source":be("error",i),p=f;break;case"img":case"image":case"link":be("error",i),be("load",i),p=f;break;case"details":be("toggle",i),p=f;break;case"input":kd(i,f),p=Gl(i,f),be("invalid",i);break;case"option":p=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},p=W({},f,{value:void 0}),be("invalid",i);break;case"textarea":xd(i,f),p=Zl(i,f),be("invalid",i);break;default:p=f}ta(u,p),C=p;for(g in C)if(C.hasOwnProperty(g)){var M=C[g];g==="style"?Td(i,M):g==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Ed(i,M)):g==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&Ii(i,M):typeof M=="number"&&Ii(i,""+M):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?M!=null&&g==="onScroll"&&be("scroll",i):M!=null&&Q(i,g,M,w))}switch(u){case"input":Vo(i),Sd(i,f,!1);break;case"textarea":Vo(i),bd(i);break;case"option":f.value!=null&&i.setAttribute("value",""+ke(f.value));break;case"select":i.multiple=!!f.multiple,g=f.value,g!=null?Hr(i,!!f.multiple,g,!1):f.defaultValue!=null&&Hr(i,!!f.multiple,f.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=hs)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return rt(s),null;case 6:if(i&&s.stateNode!=null)Fh(i,s,i.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(t(166));if(u=xr(ao.current),xr(un.current),ws(s)){if(f=s.stateNode,u=s.memoizedProps,f[an]=s,(g=f.nodeValue!==u)&&(i=Dt,i!==null))switch(i.tag){case 3:fs(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&fs(f.nodeValue,u,(i.mode&1)!==0)}g&&(s.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[an]=s,s.stateNode=f}return rt(s),null;case 13:if(Me(Te),f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(_e&&Pt!==null&&s.mode&1&&!(s.flags&128))Hf(),ii(),s.flags|=98560,g=!1;else if(g=ws(s),f!==null&&f.dehydrated!==null){if(i===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[an]=s}else ii(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;rt(s),g=!1}else Yt!==null&&(Pu(Yt),Yt=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=u,s):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(s.child.flags|=8192,s.mode&1&&(i===null||Te.current&1?Le===0&&(Le=3):Iu())),s.updateQueue!==null&&(s.flags|=4),rt(s),null);case 4:return ai(),Su(i,s),i===null&&to(s.stateNode.containerInfo),rt(s),null;case 10:return Qa(s.type._context),rt(s),null;case 17:return wt(s.type)&&ms(),rt(s),null;case 19:if(Me(Te),g=s.memoizedState,g===null)return rt(s),null;if(f=(s.flags&128)!==0,w=g.rendering,w===null)if(f)po(g,!1);else{if(Le!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(w=Es(i),w!==null){for(s.flags|=128,po(g,!1),f=w.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),s.subtreeFlags=0,f=u,u=s.child;u!==null;)g=u,i=f,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=i,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,i=w.dependencies,g.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Ce(Te,Te.current&1|2),s.child}i=i.sibling}g.tail!==null&&Re()>fi&&(s.flags|=128,f=!0,po(g,!1),s.lanes=4194304)}else{if(!f)if(i=Es(w),i!==null){if(s.flags|=128,f=!0,u=i.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),po(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!_e)return rt(s),null}else 2*Re()-g.renderingStartTime>fi&&u!==1073741824&&(s.flags|=128,f=!0,po(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(u=g.last,u!==null?u.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Re(),s.sibling=null,u=Te.current,Ce(Te,f?u&1|2:u&1),s):(rt(s),null);case 22:case 23:return Au(),f=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(s.flags|=8192),f&&s.mode&1?Rt&1073741824&&(rt(s),s.subtreeFlags&6&&(s.flags|=8192)):rt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Hy(i,s){switch(Ha(s),s.tag){case 1:return wt(s.type)&&ms(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ai(),Me(kt),Me(tt),nu(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return eu(s),null;case 13:if(Me(Te),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));ii()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Me(Te),null;case 4:return ai(),null;case 10:return Qa(s.type._context),null;case 22:case 23:return Au(),null;case 24:return null;default:return null}}var Is=!1,it=!1,Wy=typeof WeakSet=="function"?WeakSet:Set,H=null;function ci(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){De(i,s,f)}else u.current=null}function xu(i,s,u){try{u()}catch(f){De(i,s,f)}}var jh=!1;function Uy(i,s){if(Aa=es,i=kf(),Ea(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var p=f.anchorOffset,g=f.focusNode;f=f.focusOffset;try{u.nodeType,g.nodeType}catch{u=null;break e}var w=0,C=-1,M=-1,D=0,I=0,z=i,R=null;t:for(;;){for(var V;z!==u||p!==0&&z.nodeType!==3||(C=w+p),z!==g||f!==0&&z.nodeType!==3||(M=w+f),z.nodeType===3&&(w+=z.nodeValue.length),(V=z.firstChild)!==null;)R=z,z=V;for(;;){if(z===i)break t;if(R===u&&++D===p&&(C=w),R===g&&++I===f&&(M=w),(V=z.nextSibling)!==null)break;z=R,R=z.parentNode}z=V}u=C===-1||M===-1?null:{start:C,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ia={focusedElem:i,selectionRange:u},es=!1,H=s;H!==null;)if(s=H,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,H=i;else for(;H!==null;){s=H;try{var U=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var q=U.memoizedProps,Ae=U.memoizedState,T=s.stateNode,E=T.getSnapshotBeforeUpdate(s.elementType===s.type?q:Xt(s.type,q),Ae);T.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var O=s.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(B){De(s,s.return,B)}if(i=s.sibling,i!==null){i.return=s.return,H=i;break}H=s.return}return U=jh,jh=!1,U}function mo(i,s,u){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var p=f=f.next;do{if((p.tag&i)===i){var g=p.destroy;p.destroy=void 0,g!==void 0&&xu(s,u,g)}p=p.next}while(p!==f)}}function $s(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==s)}}function Cu(i){var s=i.ref;if(s!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof s=="function"?s(i):s.current=i}}function Vh(i){var s=i.alternate;s!==null&&(i.alternate=null,Vh(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[an],delete s[ro],delete s[Ba],delete s[_y],delete s[Ty])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Hh(i){return i.tag===5||i.tag===3||i.tag===4}function Wh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Hh(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function bu(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(i,s):u.insertBefore(i,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(i,u)):(s=u,s.appendChild(i)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=hs));else if(f!==4&&(i=i.child,i!==null))for(bu(i,s,u),i=i.sibling;i!==null;)bu(i,s,u),i=i.sibling}function Mu(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(Mu(i,s,u),i=i.sibling;i!==null;)Mu(i,s,u),i=i.sibling}var Qe=null,Zt=!1;function Wn(i,s,u){for(u=u.child;u!==null;)Uh(i,s,u),u=u.sibling}function Uh(i,s,u){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Jo,u)}catch{}switch(u.tag){case 5:it||ci(u,s);case 6:var f=Qe,p=Zt;Qe=null,Wn(i,s,u),Qe=f,Zt=p,Qe!==null&&(Zt?(i=Qe,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Qe.removeChild(u.stateNode));break;case 18:Qe!==null&&(Zt?(i=Qe,u=u.stateNode,i.nodeType===8?La(i.parentNode,u):i.nodeType===1&&La(i,u),Ki(i)):La(Qe,u.stateNode));break;case 4:f=Qe,p=Zt,Qe=u.stateNode.containerInfo,Zt=!0,Wn(i,s,u),Qe=f,Zt=p;break;case 0:case 11:case 14:case 15:if(!it&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){p=f=f.next;do{var g=p,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&xu(u,s,w),p=p.next}while(p!==f)}Wn(i,s,u);break;case 1:if(!it&&(ci(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(C){De(u,s,C)}Wn(i,s,u);break;case 21:Wn(i,s,u);break;case 22:u.mode&1?(it=(f=it)||u.memoizedState!==null,Wn(i,s,u),it=f):Wn(i,s,u);break;default:Wn(i,s,u)}}function Kh(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Wy),s.forEach(function(f){var p=ev.bind(null,i,f);u.has(f)||(u.add(f),f.then(p,p))})}}function en(i,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var p=u[f];try{var g=i,w=s,C=w;e:for(;C!==null;){switch(C.tag){case 5:Qe=C.stateNode,Zt=!1;break e;case 3:Qe=C.stateNode.containerInfo,Zt=!0;break e;case 4:Qe=C.stateNode.containerInfo,Zt=!0;break e}C=C.return}if(Qe===null)throw Error(t(160));Uh(g,w,p),Qe=null,Zt=!1;var M=p.alternate;M!==null&&(M.return=null),p.return=null}catch(D){De(p,s,D)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)qh(s,i),s=s.sibling}function qh(i,s){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(en(s,i),dn(i),f&4){try{mo(3,i,i.return),$s(3,i)}catch(q){De(i,i.return,q)}try{mo(5,i,i.return)}catch(q){De(i,i.return,q)}}break;case 1:en(s,i),dn(i),f&512&&u!==null&&ci(u,u.return);break;case 5:if(en(s,i),dn(i),f&512&&u!==null&&ci(u,u.return),i.flags&32){var p=i.stateNode;try{Ii(p,"")}catch(q){De(i,i.return,q)}}if(f&4&&(p=i.stateNode,p!=null)){var g=i.memoizedProps,w=u!==null?u.memoizedProps:g,C=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&wd(p,g),na(C,w);var D=na(C,g);for(w=0;w<M.length;w+=2){var I=M[w],z=M[w+1];I==="style"?Td(p,z):I==="dangerouslySetInnerHTML"?Ed(p,z):I==="children"?Ii(p,z):Q(p,I,z,D)}switch(C){case"input":Yl(p,g);break;case"textarea":Cd(p,g);break;case"select":var R=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var V=g.value;V!=null?Hr(p,!!g.multiple,V,!1):R!==!!g.multiple&&(g.defaultValue!=null?Hr(p,!!g.multiple,g.defaultValue,!0):Hr(p,!!g.multiple,g.multiple?[]:"",!1))}p[ro]=g}catch(q){De(i,i.return,q)}}break;case 6:if(en(s,i),dn(i),f&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,g=i.memoizedProps;try{p.nodeValue=g}catch(q){De(i,i.return,q)}}break;case 3:if(en(s,i),dn(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Ki(s.containerInfo)}catch(q){De(i,i.return,q)}break;case 4:en(s,i),dn(i);break;case 13:en(s,i),dn(i),p=i.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(Tu=Re())),f&4&&Kh(i);break;case 22:if(I=u!==null&&u.memoizedState!==null,i.mode&1?(it=(D=it)||I,en(s,i),it=D):en(s,i),dn(i),f&8192){if(D=i.memoizedState!==null,(i.stateNode.isHidden=D)&&!I&&i.mode&1)for(H=i,I=i.child;I!==null;){for(z=H=I;H!==null;){switch(R=H,V=R.child,R.tag){case 0:case 11:case 14:case 15:mo(4,R,R.return);break;case 1:ci(R,R.return);var U=R.stateNode;if(typeof U.componentWillUnmount=="function"){f=R,u=R.return;try{s=f,U.props=s.memoizedProps,U.state=s.memoizedState,U.componentWillUnmount()}catch(q){De(f,u,q)}}break;case 5:ci(R,R.return);break;case 22:if(R.memoizedState!==null){Gh(z);continue}}V!==null?(V.return=R,H=V):Gh(z)}I=I.sibling}e:for(I=null,z=i;;){if(z.tag===5){if(I===null){I=z;try{p=z.stateNode,D?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=z.stateNode,M=z.memoizedProps.style,w=M!=null&&M.hasOwnProperty("display")?M.display:null,C.style.display=_d("display",w))}catch(q){De(i,i.return,q)}}}else if(z.tag===6){if(I===null)try{z.stateNode.nodeValue=D?"":z.memoizedProps}catch(q){De(i,i.return,q)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===i)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===i)break e;for(;z.sibling===null;){if(z.return===null||z.return===i)break e;I===z&&(I=null),z=z.return}I===z&&(I=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:en(s,i),dn(i),f&4&&Kh(i);break;case 21:break;default:en(s,i),dn(i)}}function dn(i){var s=i.flags;if(s&2){try{e:{for(var u=i.return;u!==null;){if(Hh(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var p=f.stateNode;f.flags&32&&(Ii(p,""),f.flags&=-33);var g=Wh(i);Mu(i,g,p);break;case 3:case 4:var w=f.stateNode.containerInfo,C=Wh(i);bu(i,C,w);break;default:throw Error(t(161))}}catch(M){De(i,i.return,M)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Ky(i,s,u){H=i,Jh(i)}function Jh(i,s,u){for(var f=(i.mode&1)!==0;H!==null;){var p=H,g=p.child;if(p.tag===22&&f){var w=p.memoizedState!==null||Is;if(!w){var C=p.alternate,M=C!==null&&C.memoizedState!==null||it;C=Is;var D=it;if(Is=w,(it=M)&&!D)for(H=p;H!==null;)w=H,M=w.child,w.tag===22&&w.memoizedState!==null?Yh(p):M!==null?(M.return=w,H=M):Yh(p);for(;g!==null;)H=g,Jh(g),g=g.sibling;H=p,Is=C,it=D}Qh(i)}else p.subtreeFlags&8772&&g!==null?(g.return=p,H=g):Qh(i)}}function Qh(i){for(;H!==null;){var s=H;if(s.flags&8772){var u=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:it||$s(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!it)if(u===null)f.componentDidMount();else{var p=s.elementType===s.type?u.memoizedProps:Xt(s.type,u.memoizedProps);f.componentDidUpdate(p,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Gf(s,g,f);break;case 3:var w=s.updateQueue;if(w!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}Gf(s,w,u)}break;case 5:var C=s.stateNode;if(u===null&&s.flags&4){u=C;var M=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var D=s.alternate;if(D!==null){var I=D.memoizedState;if(I!==null){var z=I.dehydrated;z!==null&&Ki(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}it||s.flags&512&&Cu(s)}catch(R){De(s,s.return,R)}}if(s===i){H=null;break}if(u=s.sibling,u!==null){u.return=s.return,H=u;break}H=s.return}}function Gh(i){for(;H!==null;){var s=H;if(s===i){H=null;break}var u=s.sibling;if(u!==null){u.return=s.return,H=u;break}H=s.return}}function Yh(i){for(;H!==null;){var s=H;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{$s(4,s)}catch(M){De(s,u,M)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var p=s.return;try{f.componentDidMount()}catch(M){De(s,p,M)}}var g=s.return;try{Cu(s)}catch(M){De(s,g,M)}break;case 5:var w=s.return;try{Cu(s)}catch(M){De(s,w,M)}}}catch(M){De(s,s.return,M)}if(s===i){H=null;break}var C=s.sibling;if(C!==null){C.return=s.return,H=C;break}H=s.return}}var qy=Math.ceil,zs=G.ReactCurrentDispatcher,Eu=G.ReactCurrentOwner,jt=G.ReactCurrentBatchConfig,pe=0,Ve=null,Ie=null,Ge=0,Rt=0,di=Bn(0),Le=0,go=null,br=0,Ls=0,_u=0,yo=null,xt=null,Tu=0,fi=1/0,Mn=null,Bs=!1,Ou=null,Un=null,Fs=!1,Kn=null,js=0,vo=0,Nu=null,Vs=-1,Hs=0;function ft(){return pe&6?Re():Vs!==-1?Vs:Vs=Re()}function qn(i){return i.mode&1?pe&2&&Ge!==0?Ge&-Ge:Ny.transition!==null?(Hs===0&&(Hs=Hd()),Hs):(i=we,i!==0||(i=window.event,i=i===void 0?16:Xd(i.type)),i):1}function tn(i,s,u,f){if(50<vo)throw vo=0,Nu=null,Error(t(185));ji(i,u,f),(!(pe&2)||i!==Ve)&&(i===Ve&&(!(pe&2)&&(Ls|=u),Le===4&&Jn(i,Ge)),Ct(i,f),u===1&&pe===0&&!(s.mode&1)&&(fi=Re()+500,ys&&jn()))}function Ct(i,s){var u=i.callbackNode;N0(i,s);var f=Yo(i,i===Ve?Ge:0);if(f===0)u!==null&&Fd(u),i.callbackNode=null,i.callbackPriority=0;else if(s=f&-f,i.callbackPriority!==s){if(u!=null&&Fd(u),s===1)i.tag===0?Oy(Zh.bind(null,i)):Lf(Zh.bind(null,i)),My(function(){!(pe&6)&&jn()}),u=null;else{switch(Wd(f)){case 1:u=ua;break;case 4:u=jd;break;case 16:u=qo;break;case 536870912:u=Vd;break;default:u=qo}u=lp(u,Xh.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function Xh(i,s){if(Vs=-1,Hs=0,pe&6)throw Error(t(327));var u=i.callbackNode;if(hi()&&i.callbackNode!==u)return null;var f=Yo(i,i===Ve?Ge:0);if(f===0)return null;if(f&30||f&i.expiredLanes||s)s=Ws(i,f);else{s=f;var p=pe;pe|=2;var g=tp();(Ve!==i||Ge!==s)&&(Mn=null,fi=Re()+500,Er(i,s));do try{Gy();break}catch(C){ep(i,C)}while(!0);Ja(),zs.current=g,pe=p,Ie!==null?s=0:(Ve=null,Ge=0,s=Le)}if(s!==0){if(s===2&&(p=ca(i),p!==0&&(f=p,s=Du(i,p))),s===1)throw u=go,Er(i,0),Jn(i,f),Ct(i,Re()),u;if(s===6)Jn(i,f);else{if(p=i.current.alternate,!(f&30)&&!Jy(p)&&(s=Ws(i,f),s===2&&(g=ca(i),g!==0&&(f=g,s=Du(i,g))),s===1))throw u=go,Er(i,0),Jn(i,f),Ct(i,Re()),u;switch(i.finishedWork=p,i.finishedLanes=f,s){case 0:case 1:throw Error(t(345));case 2:_r(i,xt,Mn);break;case 3:if(Jn(i,f),(f&130023424)===f&&(s=Tu+500-Re(),10<s)){if(Yo(i,0)!==0)break;if(p=i.suspendedLanes,(p&f)!==f){ft(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=za(_r.bind(null,i,xt,Mn),s);break}_r(i,xt,Mn);break;case 4:if(Jn(i,f),(f&4194240)===f)break;for(s=i.eventTimes,p=-1;0<f;){var w=31-Qt(f);g=1<<w,w=s[w],w>p&&(p=w),f&=~g}if(f=p,f=Re()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*qy(f/1960))-f,10<f){i.timeoutHandle=za(_r.bind(null,i,xt,Mn),f);break}_r(i,xt,Mn);break;case 5:_r(i,xt,Mn);break;default:throw Error(t(329))}}}return Ct(i,Re()),i.callbackNode===u?Xh.bind(null,i):null}function Du(i,s){var u=yo;return i.current.memoizedState.isDehydrated&&(Er(i,s).flags|=256),i=Ws(i,s),i!==2&&(s=xt,xt=u,s!==null&&Pu(s)),i}function Pu(i){xt===null?xt=i:xt.push.apply(xt,i)}function Jy(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var p=u[f],g=p.getSnapshot;p=p.value;try{if(!Gt(g(),p))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Jn(i,s){for(s&=~_u,s&=~Ls,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-Qt(s),f=1<<u;i[u]=-1,s&=~f}}function Zh(i){if(pe&6)throw Error(t(327));hi();var s=Yo(i,0);if(!(s&1))return Ct(i,Re()),null;var u=Ws(i,s);if(i.tag!==0&&u===2){var f=ca(i);f!==0&&(s=f,u=Du(i,f))}if(u===1)throw u=go,Er(i,0),Jn(i,s),Ct(i,Re()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,_r(i,xt,Mn),Ct(i,Re()),null}function Ru(i,s){var u=pe;pe|=1;try{return i(s)}finally{pe=u,pe===0&&(fi=Re()+500,ys&&jn())}}function Mr(i){Kn!==null&&Kn.tag===0&&!(pe&6)&&hi();var s=pe;pe|=1;var u=jt.transition,f=we;try{if(jt.transition=null,we=1,i)return i()}finally{we=f,jt.transition=u,pe=s,!(pe&6)&&jn()}}function Au(){Rt=di.current,Me(di)}function Er(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,by(u)),Ie!==null)for(u=Ie.return;u!==null;){var f=u;switch(Ha(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&ms();break;case 3:ai(),Me(kt),Me(tt),nu();break;case 5:eu(f);break;case 4:ai();break;case 13:Me(Te);break;case 19:Me(Te);break;case 10:Qa(f.type._context);break;case 22:case 23:Au()}u=u.return}if(Ve=i,Ie=i=Qn(i.current,null),Ge=Rt=s,Le=0,go=null,_u=Ls=br=0,xt=yo=null,Sr!==null){for(s=0;s<Sr.length;s++)if(u=Sr[s],f=u.interleaved,f!==null){u.interleaved=null;var p=f.next,g=u.pending;if(g!==null){var w=g.next;g.next=p,f.next=w}u.pending=f}Sr=null}return i}function ep(i,s){do{var u=Ie;try{if(Ja(),_s.current=Ds,Ts){for(var f=Oe.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}Ts=!1}if(Cr=0,je=ze=Oe=null,uo=!1,co=0,Eu.current=null,u===null||u.return===null){Le=1,go=s,Ie=null;break}e:{var g=i,w=u.return,C=u,M=s;if(s=Ge,C.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var D=M,I=C,z=I.tag;if(!(I.mode&1)&&(z===0||z===11||z===15)){var R=I.alternate;R?(I.updateQueue=R.updateQueue,I.memoizedState=R.memoizedState,I.lanes=R.lanes):(I.updateQueue=null,I.memoizedState=null)}var V=Mh(w);if(V!==null){V.flags&=-257,Eh(V,w,C,g,s),V.mode&1&&bh(g,D,s),s=V,M=D;var U=s.updateQueue;if(U===null){var q=new Set;q.add(M),s.updateQueue=q}else U.add(M);break e}else{if(!(s&1)){bh(g,D,s),Iu();break e}M=Error(t(426))}}else if(_e&&C.mode&1){var Ae=Mh(w);if(Ae!==null){!(Ae.flags&65536)&&(Ae.flags|=256),Eh(Ae,w,C,g,s),Ka(ui(M,C));break e}}g=M=ui(M,C),Le!==4&&(Le=2),yo===null?yo=[g]:yo.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var T=xh(g,M,s);Qf(g,T);break e;case 1:C=M;var E=g.type,O=g.stateNode;if(!(g.flags&128)&&(typeof E.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Un===null||!Un.has(O)))){g.flags|=65536,s&=-s,g.lanes|=s;var B=Ch(g,C,s);Qf(g,B);break e}}g=g.return}while(g!==null)}rp(u)}catch(J){s=J,Ie===u&&u!==null&&(Ie=u=u.return);continue}break}while(!0)}function tp(){var i=zs.current;return zs.current=Ds,i===null?Ds:i}function Iu(){(Le===0||Le===3||Le===2)&&(Le=4),Ve===null||!(br&268435455)&&!(Ls&268435455)||Jn(Ve,Ge)}function Ws(i,s){var u=pe;pe|=2;var f=tp();(Ve!==i||Ge!==s)&&(Mn=null,Er(i,s));do try{Qy();break}catch(p){ep(i,p)}while(!0);if(Ja(),pe=u,zs.current=f,Ie!==null)throw Error(t(261));return Ve=null,Ge=0,Le}function Qy(){for(;Ie!==null;)np(Ie)}function Gy(){for(;Ie!==null&&!S0();)np(Ie)}function np(i){var s=sp(i.alternate,i,Rt);i.memoizedProps=i.pendingProps,s===null?rp(i):Ie=s,Eu.current=null}function rp(i){var s=i;do{var u=s.alternate;if(i=s.return,s.flags&32768){if(u=Hy(u,s),u!==null){u.flags&=32767,Ie=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Le=6,Ie=null;return}}else if(u=Vy(u,s,Rt),u!==null){Ie=u;return}if(s=s.sibling,s!==null){Ie=s;return}Ie=s=i}while(s!==null);Le===0&&(Le=5)}function _r(i,s,u){var f=we,p=jt.transition;try{jt.transition=null,we=1,Yy(i,s,u,f)}finally{jt.transition=p,we=f}return null}function Yy(i,s,u,f){do hi();while(Kn!==null);if(pe&6)throw Error(t(327));u=i.finishedWork;var p=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var g=u.lanes|u.childLanes;if(D0(i,g),i===Ve&&(Ie=Ve=null,Ge=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Fs||(Fs=!0,lp(qo,function(){return hi(),null})),g=(u.flags&15990)!==0,u.subtreeFlags&15990||g){g=jt.transition,jt.transition=null;var w=we;we=1;var C=pe;pe|=4,Eu.current=null,Uy(i,u),qh(u,i),yy(Ia),es=!!Aa,Ia=Aa=null,i.current=u,Ky(u),x0(),pe=C,we=w,jt.transition=g}else i.current=u;if(Fs&&(Fs=!1,Kn=i,js=p),g=i.pendingLanes,g===0&&(Un=null),M0(u.stateNode),Ct(i,Re()),s!==null)for(f=i.onRecoverableError,u=0;u<s.length;u++)p=s[u],f(p.value,{componentStack:p.stack,digest:p.digest});if(Bs)throw Bs=!1,i=Ou,Ou=null,i;return js&1&&i.tag!==0&&hi(),g=i.pendingLanes,g&1?i===Nu?vo++:(vo=0,Nu=i):vo=0,jn(),null}function hi(){if(Kn!==null){var i=Wd(js),s=jt.transition,u=we;try{if(jt.transition=null,we=16>i?16:i,Kn===null)var f=!1;else{if(i=Kn,Kn=null,js=0,pe&6)throw Error(t(331));var p=pe;for(pe|=4,H=i.current;H!==null;){var g=H,w=g.child;if(H.flags&16){var C=g.deletions;if(C!==null){for(var M=0;M<C.length;M++){var D=C[M];for(H=D;H!==null;){var I=H;switch(I.tag){case 0:case 11:case 15:mo(8,I,g)}var z=I.child;if(z!==null)z.return=I,H=z;else for(;H!==null;){I=H;var R=I.sibling,V=I.return;if(Vh(I),I===D){H=null;break}if(R!==null){R.return=V,H=R;break}H=V}}}var U=g.alternate;if(U!==null){var q=U.child;if(q!==null){U.child=null;do{var Ae=q.sibling;q.sibling=null,q=Ae}while(q!==null)}}H=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,H=w;else e:for(;H!==null;){if(g=H,g.flags&2048)switch(g.tag){case 0:case 11:case 15:mo(9,g,g.return)}var T=g.sibling;if(T!==null){T.return=g.return,H=T;break e}H=g.return}}var E=i.current;for(H=E;H!==null;){w=H;var O=w.child;if(w.subtreeFlags&2064&&O!==null)O.return=w,H=O;else e:for(w=E;H!==null;){if(C=H,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:$s(9,C)}}catch(J){De(C,C.return,J)}if(C===w){H=null;break e}var B=C.sibling;if(B!==null){B.return=C.return,H=B;break e}H=C.return}}if(pe=p,jn(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Jo,i)}catch{}f=!0}return f}finally{we=u,jt.transition=s}}return!1}function ip(i,s,u){s=ui(u,s),s=xh(i,s,1),i=Hn(i,s,1),s=ft(),i!==null&&(ji(i,1,s),Ct(i,s))}function De(i,s,u){if(i.tag===3)ip(i,i,u);else for(;s!==null;){if(s.tag===3){ip(s,i,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Un===null||!Un.has(f))){i=ui(u,i),i=Ch(s,i,1),s=Hn(s,i,1),i=ft(),s!==null&&(ji(s,1,i),Ct(s,i));break}}s=s.return}}function Xy(i,s,u){var f=i.pingCache;f!==null&&f.delete(s),s=ft(),i.pingedLanes|=i.suspendedLanes&u,Ve===i&&(Ge&u)===u&&(Le===4||Le===3&&(Ge&130023424)===Ge&&500>Re()-Tu?Er(i,0):_u|=u),Ct(i,s)}function op(i,s){s===0&&(i.mode&1?(s=Go,Go<<=1,!(Go&130023424)&&(Go=4194304)):s=1);var u=ft();i=xn(i,s),i!==null&&(ji(i,s,u),Ct(i,u))}function Zy(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),op(i,u)}function ev(i,s){var u=0;switch(i.tag){case 13:var f=i.stateNode,p=i.memoizedState;p!==null&&(u=p.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(s),op(i,u)}var sp;sp=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||kt.current)St=!0;else{if(!(i.lanes&u)&&!(s.flags&128))return St=!1,jy(i,s,u);St=!!(i.flags&131072)}else St=!1,_e&&s.flags&1048576&&Bf(s,ks,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;As(i,s),i=s.pendingProps;var p=ti(s,tt.current);li(s,u),p=ou(null,s,f,i,p,u);var g=su();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,wt(f)?(g=!0,gs(s)):g=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Xa(s),p.updater=Ps,s.stateNode=p,p._reactInternals=s,fu(s,f,i,u),s=gu(null,s,f,!0,g,u)):(s.tag=0,_e&&g&&Va(s),dt(null,s,p,u),s=s.child),s;case 16:f=s.elementType;e:{switch(As(i,s),i=s.pendingProps,p=f._init,f=p(f._payload),s.type=f,p=s.tag=nv(f),i=Xt(f,i),p){case 0:s=mu(null,s,f,i,u);break e;case 1:s=Ph(null,s,f,i,u);break e;case 11:s=_h(null,s,f,i,u);break e;case 14:s=Th(null,s,f,Xt(f.type,i),u);break e}throw Error(t(306,f,""))}return s;case 0:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:Xt(f,p),mu(i,s,f,p,u);case 1:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:Xt(f,p),Ph(i,s,f,p,u);case 3:e:{if(Rh(s),i===null)throw Error(t(387));f=s.pendingProps,g=s.memoizedState,p=g.element,Jf(i,s),Ms(s,f,null,u);var w=s.memoizedState;if(f=w.element,g.isDehydrated)if(g={element:f,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){p=ui(Error(t(423)),s),s=Ah(i,s,f,u,p);break e}else if(f!==p){p=ui(Error(t(424)),s),s=Ah(i,s,f,u,p);break e}else for(Pt=Ln(s.stateNode.containerInfo.firstChild),Dt=s,_e=!0,Yt=null,u=Kf(s,null,f,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ii(),f===p){s=bn(i,s,u);break e}dt(i,s,f,u)}s=s.child}return s;case 5:return Yf(s),i===null&&Ua(s),f=s.type,p=s.pendingProps,g=i!==null?i.memoizedProps:null,w=p.children,$a(f,p)?w=null:g!==null&&$a(f,g)&&(s.flags|=32),Dh(i,s),dt(i,s,w,u),s.child;case 6:return i===null&&Ua(s),null;case 13:return Ih(i,s,u);case 4:return Za(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=oi(s,null,f,u):dt(i,s,f,u),s.child;case 11:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:Xt(f,p),_h(i,s,f,p,u);case 7:return dt(i,s,s.pendingProps,u),s.child;case 8:return dt(i,s,s.pendingProps.children,u),s.child;case 12:return dt(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(f=s.type._context,p=s.pendingProps,g=s.memoizedProps,w=p.value,Ce(xs,f._currentValue),f._currentValue=w,g!==null)if(Gt(g.value,w)){if(g.children===p.children&&!kt.current){s=bn(i,s,u);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var C=g.dependencies;if(C!==null){w=g.child;for(var M=C.firstContext;M!==null;){if(M.context===f){if(g.tag===1){M=Cn(-1,u&-u),M.tag=2;var D=g.updateQueue;if(D!==null){D=D.shared;var I=D.pending;I===null?M.next=M:(M.next=I.next,I.next=M),D.pending=M}}g.lanes|=u,M=g.alternate,M!==null&&(M.lanes|=u),Ga(g.return,u,s),C.lanes|=u;break}M=M.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=u,C=w.alternate,C!==null&&(C.lanes|=u),Ga(w,u,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}dt(i,s,p.children,u),s=s.child}return s;case 9:return p=s.type,f=s.pendingProps.children,li(s,u),p=Bt(p),f=f(p),s.flags|=1,dt(i,s,f,u),s.child;case 14:return f=s.type,p=Xt(f,s.pendingProps),p=Xt(f.type,p),Th(i,s,f,p,u);case 15:return Oh(i,s,s.type,s.pendingProps,u);case 17:return f=s.type,p=s.pendingProps,p=s.elementType===f?p:Xt(f,p),As(i,s),s.tag=1,wt(f)?(i=!0,gs(s)):i=!1,li(s,u),wh(s,f,p),fu(s,f,p,u),gu(null,s,f,!0,i,u);case 19:return zh(i,s,u);case 22:return Nh(i,s,u)}throw Error(t(156,s.tag))};function lp(i,s){return Bd(i,s)}function tv(i,s,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(i,s,u,f){return new tv(i,s,u,f)}function $u(i){return i=i.prototype,!(!i||!i.isReactComponent)}function nv(i){if(typeof i=="function")return $u(i)?1:0;if(i!=null){if(i=i.$$typeof,i===$t)return 11;if(i===sn)return 14}return 2}function Qn(i,s){var u=i.alternate;return u===null?(u=Vt(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Us(i,s,u,f,p,g){var w=2;if(f=i,typeof i=="function")$u(i)&&(w=1);else if(typeof i=="string")w=5;else e:switch(i){case he:return Tr(u.children,p,g,s);case ve:w=8,p|=8;break;case se:return i=Vt(12,u,s,p|2),i.elementType=se,i.lanes=g,i;case Tt:return i=Vt(13,u,s,p),i.elementType=Tt,i.lanes=g,i;case Jt:return i=Vt(19,u,s,p),i.elementType=Jt,i.lanes=g,i;case Ne:return Ks(u,p,g,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Fe:w=10;break e;case It:w=9;break e;case $t:w=11;break e;case sn:w=14;break e;case vt:w=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Vt(w,u,s,p),s.elementType=i,s.type=f,s.lanes=g,s}function Tr(i,s,u,f){return i=Vt(7,i,f,s),i.lanes=u,i}function Ks(i,s,u,f){return i=Vt(22,i,f,s),i.elementType=Ne,i.lanes=u,i.stateNode={isHidden:!1},i}function zu(i,s,u){return i=Vt(6,i,null,s),i.lanes=u,i}function Lu(i,s,u){return s=Vt(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function rv(i,s,u,f,p){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=da(0),this.expirationTimes=da(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=da(0),this.identifierPrefix=f,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Bu(i,s,u,f,p,g,w,C,M){return i=new rv(i,s,u,C,M),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Vt(3,null,null,s),i.current=g,g.stateNode=i,g.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xa(g),i}function iv(i,s,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:f==null?null:""+f,children:i,containerInfo:s,implementation:u}}function ap(i){if(!i)return Fn;i=i._reactInternals;e:{if(gr(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(wt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(wt(u))return $f(i,u,s)}return s}function up(i,s,u,f,p,g,w,C,M){return i=Bu(u,f,!0,i,p,g,w,C,M),i.context=ap(null),u=i.current,f=ft(),p=qn(u),g=Cn(f,p),g.callback=s??null,Hn(u,g,p),i.current.lanes=p,ji(i,p,f),Ct(i,f),i}function qs(i,s,u,f){var p=s.current,g=ft(),w=qn(p);return u=ap(u),s.context===null?s.context=u:s.pendingContext=u,s=Cn(g,w),s.payload={element:i},f=f===void 0?null:f,f!==null&&(s.callback=f),i=Hn(p,s,w),i!==null&&(tn(i,p,w,g),bs(i,p,w)),w}function Js(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function cp(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function Fu(i,s){cp(i,s),(i=i.alternate)&&cp(i,s)}var dp=typeof reportError=="function"?reportError:function(i){console.error(i)};function ju(i){this._internalRoot=i}Qs.prototype.render=ju.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));qs(i,s,null,null)},Qs.prototype.unmount=ju.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Mr(function(){qs(null,i,null,null)}),s[vn]=null}};function Qs(i){this._internalRoot=i}Qs.prototype.unstable_scheduleHydration=function(i){if(i){var s=qd();i={blockedOn:null,target:i,priority:s};for(var u=0;u<In.length&&s!==0&&s<In[u].priority;u++);In.splice(u,0,i),u===0&&Gd(i)}};function Vu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Gs(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function fp(){}function ov(i,s,u,f,p){if(p){if(typeof f=="function"){var g=f;f=function(){var D=Js(w);g.call(D)}}var w=up(s,f,i,0,null,!1,!1,"",fp);return i._reactRootContainer=w,i[vn]=w.current,to(i.nodeType===8?i.parentNode:i),Mr(),w}for(;p=i.lastChild;)i.removeChild(p);if(typeof f=="function"){var C=f;f=function(){var D=Js(M);C.call(D)}}var M=Bu(i,0,!1,null,null,!1,!1,"",fp);return i._reactRootContainer=M,i[vn]=M.current,to(i.nodeType===8?i.parentNode:i),Mr(function(){qs(s,M,u,f)}),M}function Ys(i,s,u,f,p){var g=u._reactRootContainer;if(g){var w=g;if(typeof p=="function"){var C=p;p=function(){var M=Js(w);C.call(M)}}qs(s,w,i,p)}else w=ov(u,s,i,p,f);return Js(w)}Ud=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=Fi(s.pendingLanes);u!==0&&(fa(s,u|1),Ct(s,Re()),!(pe&6)&&(fi=Re()+500,jn()))}break;case 13:Mr(function(){var f=xn(i,1);if(f!==null){var p=ft();tn(f,i,1,p)}}),Fu(i,1)}},ha=function(i){if(i.tag===13){var s=xn(i,134217728);if(s!==null){var u=ft();tn(s,i,134217728,u)}Fu(i,134217728)}},Kd=function(i){if(i.tag===13){var s=qn(i),u=xn(i,s);if(u!==null){var f=ft();tn(u,i,s,f)}Fu(i,s)}},qd=function(){return we},Jd=function(i,s){var u=we;try{return we=i,s()}finally{we=u}},oa=function(i,s,u){switch(s){case"input":if(Yl(i,u),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var f=u[s];if(f!==i&&f.form===i.form){var p=ps(f);if(!p)throw Error(t(90));vd(f),Yl(f,p)}}}break;case"textarea":Cd(i,u);break;case"select":s=u.value,s!=null&&Hr(i,!!u.multiple,s,!1)}},Pd=Ru,Rd=Mr;var sv={usingClientEntryPoint:!1,Events:[io,Zr,ps,Nd,Dd,Ru]},ko={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lv={bundleType:ko.bundleType,version:ko.version,rendererPackageName:ko.rendererPackageName,rendererConfig:ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=zd(i),i===null?null:i.stateNode},findFiberByHostInstance:ko.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xs.isDisabled&&Xs.supportsFiber)try{Jo=Xs.inject(lv),ln=Xs}catch{}}return bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sv,bt.createPortal=function(i,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vu(s))throw Error(t(200));return iv(i,s,null,u)},bt.createRoot=function(i,s){if(!Vu(i))throw Error(t(299));var u=!1,f="",p=dp;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Bu(i,1,!1,null,null,u,!1,f,p),i[vn]=s.current,to(i.nodeType===8?i.parentNode:i),new ju(s)},bt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=zd(s),i=i===null?null:i.stateNode,i},bt.flushSync=function(i){return Mr(i)},bt.hydrate=function(i,s,u){if(!Gs(s))throw Error(t(200));return Ys(null,i,s,!0,u)},bt.hydrateRoot=function(i,s,u){if(!Vu(i))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,p=!1,g="",w=dp;if(u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(w=u.onRecoverableError)),s=up(s,null,i,1,u??null,p,!1,g,w),i[vn]=s.current,to(i),f)for(i=0;i<f.length;i++)u=f[i],p=u._getVersion,p=p(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,p]:s.mutableSourceEagerHydrationData.push(u,p);return new Qs(s)},bt.render=function(i,s,u){if(!Gs(s))throw Error(t(200));return Ys(null,i,s,!1,u)},bt.unmountComponentAtNode=function(i){if(!Gs(i))throw Error(t(40));return i._reactRootContainer?(Mr(function(){Ys(null,null,i,!1,function(){i._reactRootContainer=null,i[vn]=null})}),!0):!1},bt.unstable_batchedUpdates=Ru,bt.unstable_renderSubtreeIntoContainer=function(i,s,u,f){if(!Gs(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Ys(i,s,u,!1,f)},bt.version="18.3.1-next-f1338f8080-20240426",bt}var wp;function o1(){if(wp)return Uu.exports;wp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Uu.exports=pv(),Uu.exports}var Sp;function mv(){if(Sp)return Zs;Sp=1;var n=o1();return Zs.createRoot=n.createRoot,Zs.hydrateRoot=n.hydrateRoot,Zs}var gv=mv();function Ye(n){this.content=n}Ye.prototype={constructor:Ye,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,o=r.find(n),l=r.content.slice();return o==-1?l.push(t||n,e):(l[o+1]=e,t&&(l[o]=t)),new Ye(l)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Ye(t)},addToStart:function(n,e){return new Ye([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new Ye(t)},addBefore:function(n,e,t){var r=this.remove(e),o=r.content.slice(),l=r.find(n);return o.splice(l==-1?o.length:l,0,e,t),new Ye(o)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=Ye.from(n),n.size?new Ye(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=Ye.from(n),n.size?new Ye(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=Ye.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};Ye.from=function(n){if(n instanceof Ye)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new Ye(e)};function s1(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let o=n.child(r),l=e.child(r);if(o==l){t+=o.nodeSize;continue}if(!o.sameMarkup(l))return t;if(o.isText&&o.text!=l.text){for(let a=0;o.text[a]==l.text[a];a++)t++;return t}if(o.content.size||l.content.size){let a=s1(o.content,l.content,t+1);if(a!=null)return a}t+=o.nodeSize}}function l1(n,e,t,r){for(let o=n.childCount,l=e.childCount;;){if(o==0||l==0)return o==l?null:{a:t,b:r};let a=n.child(--o),c=e.child(--l),d=a.nodeSize;if(a==c){t-=d,r-=d;continue}if(!a.sameMarkup(c))return{a:t,b:r};if(a.isText&&a.text!=c.text){let h=0,m=Math.min(a.text.length,c.text.length);for(;h<m&&a.text[a.text.length-h-1]==c.text[c.text.length-h-1];)h++,t--,r--;return{a:t,b:r}}if(a.content.size||c.content.size){let h=l1(a.content,c.content,t-1,r-1);if(h)return h}t-=d,r-=d}}class ${constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,o=0,l){for(let a=0,c=0;c<t;a++){let d=this.content[a],h=c+d.nodeSize;if(h>e&&r(d,o+c,l||null,a)!==!1&&d.content.size){let m=c+1;d.nodesBetween(Math.max(0,e-m),Math.min(d.content.size,t-m),r,o+m)}c=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,o){let l="",a=!0;return this.nodesBetween(e,t,(c,d)=>{let h=c.isText?c.text.slice(Math.max(e,d)-d,t-d):c.isLeaf?o?typeof o=="function"?o(c):o:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&h||c.isTextblock)&&r&&(a?a=!1:l+=r),l+=h},0),l}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,o=this.content.slice(),l=0;for(t.isText&&t.sameMarkup(r)&&(o[o.length-1]=t.withText(t.text+r.text),l=1);l<e.content.length;l++)o.push(e.content[l]);return new $(o,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],o=0;if(t>e)for(let l=0,a=0;a<t;l++){let c=this.content[l],d=a+c.nodeSize;d>e&&((a<e||d>t)&&(c.isText?c=c.cut(Math.max(0,e-a),Math.min(c.text.length,t-a)):c=c.cut(Math.max(0,e-a-1),Math.min(c.content.size,t-a-1))),r.push(c),o+=c.nodeSize),a=d}return new $(r,o)}cutByIndex(e,t){return e==t?$.empty:e==0&&t==this.content.length?this:new $(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let o=this.content.slice(),l=this.size+t.nodeSize-r.nodeSize;return o[e]=t,new $(o,l)}addToStart(e){return new $([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new $(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let o=this.content[t];e(o,r,t),r+=o.nodeSize}}findDiffStart(e,t=0){return s1(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return l1(this,e,t,r)}findIndex(e,t=-1){if(e==0)return el(0,e);if(e==this.size)return el(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,o=0;;r++){let l=this.child(r),a=o+l.nodeSize;if(a>=e)return a==e||t>0?el(r+1,a):el(r,o);o=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return $.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new $(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return $.empty;let t,r=0;for(let o=0;o<e.length;o++){let l=e[o];r+=l.nodeSize,o&&l.isText&&e[o-1].sameMarkup(l)?(t||(t=e.slice(0,o)),t[t.length-1]=l.withText(t[t.length-1].text+l.text)):t&&t.push(l)}return new $(t||e,r)}static from(e){if(!e)return $.empty;if(e instanceof $)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new $([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}$.empty=new $([],0);const Ju={index:0,offset:0};function el(n,e){return Ju.index=n,Ju.offset=e,Ju}function ml(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!ml(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!ml(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Se=class wc{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let o=0;o<e.length;o++){let l=e[o];if(this.eq(l))return e;if(this.type.excludes(l.type))t||(t=e.slice(0,o));else{if(l.type.excludes(this.type))return e;!r&&l.type.rank>this.type.rank&&(t||(t=e.slice(0,o)),t.push(this),r=!0),t&&t.push(l)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ml(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let o=r.create(t.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return wc.none;if(e instanceof wc)return[e];let t=e.slice();return t.sort((r,o)=>r.type.rank-o.type.rank),t}};Se.none=[];class gl extends Error{}class j{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=u1(this.content,e+this.openStart,t);return r&&new j(r,this.openStart,this.openEnd)}removeBetween(e,t){return new j(a1(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return j.empty;let r=t.openStart||0,o=t.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new j($.fromJSON(e,t.content),r,o)}static maxOpen(e,t=!0){let r=0,o=0;for(let l=e.firstChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.firstChild)r++;for(let l=e.lastChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.lastChild)o++;return new j(e,r,o)}}j.empty=new j($.empty,0,0);function a1(n,e,t){let{index:r,offset:o}=n.findIndex(e),l=n.maybeChild(r),{index:a,offset:c}=n.findIndex(t);if(o==e||l.isText){if(c!=t&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(r,l.copy(a1(l.content,e-o-1,t-o-1)))}function u1(n,e,t,r){let{index:o,offset:l}=n.findIndex(e),a=n.maybeChild(o);if(l==e||a.isText)return n.cut(0,e).append(t).append(n.cut(e));let c=u1(a.content,e-l-1,t);return c&&n.replaceChild(o,a.copy(c))}function yv(n,e,t){if(t.openStart>n.depth)throw new gl("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new gl("Inconsistent open depths");return c1(n,e,t,0)}function c1(n,e,t,r){let o=n.index(r),l=n.node(r);if(o==e.index(r)&&r<n.depth-t.openStart){let a=c1(n,e,t,r+1);return l.copy(l.content.replaceChild(o,a))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let a=n.parent,c=a.content;return Ir(a,c.cut(0,n.parentOffset).append(t.content).append(c.cut(e.parentOffset)))}else{let{start:a,end:c}=vv(t,n);return Ir(l,f1(n,a,c,e,r))}else return Ir(l,yl(n,e,r))}function d1(n,e){if(!e.type.compatibleContent(n.type))throw new gl("Cannot join "+e.type.name+" onto "+n.type.name)}function Sc(n,e,t){let r=n.node(t);return d1(r,e.node(t)),r}function Ar(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Mo(n,e,t,r){let o=(e||n).node(t),l=0,a=e?e.index(t):o.childCount;n&&(l=n.index(t),n.depth>t?l++:n.textOffset&&(Ar(n.nodeAfter,r),l++));for(let c=l;c<a;c++)Ar(o.child(c),r);e&&e.depth==t&&e.textOffset&&Ar(e.nodeBefore,r)}function Ir(n,e){return n.type.checkContent(e),n.copy(e)}function f1(n,e,t,r,o){let l=n.depth>o&&Sc(n,e,o+1),a=r.depth>o&&Sc(t,r,o+1),c=[];return Mo(null,n,o,c),l&&a&&e.index(o)==t.index(o)?(d1(l,a),Ar(Ir(l,f1(n,e,t,r,o+1)),c)):(l&&Ar(Ir(l,yl(n,e,o+1)),c),Mo(e,t,o,c),a&&Ar(Ir(a,yl(t,r,o+1)),c)),Mo(r,null,o,c),new $(c)}function yl(n,e,t){let r=[];if(Mo(null,n,t,r),n.depth>t){let o=Sc(n,e,t+1);Ar(Ir(o,yl(n,e,t+1)),r)}return Mo(e,null,t,r),new $(r)}function vv(n,e){let t=e.depth-n.openStart,o=e.node(t).copy(n.content);for(let l=t-1;l>=0;l--)o=e.node(l).copy($.from(o));return{start:o.resolveNoCache(n.openStart+t),end:o.resolveNoCache(o.content.size-n.openEnd-t)}}class No{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=e.child(t);return r?e.child(t).cut(r):o}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],o=t==0?0:this.path[t*3-1]+1;for(let l=0;l<e;l++)o+=r.child(l).nodeSize;return o}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Se.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),o=e.maybeChild(t);if(!r){let c=r;r=o,o=c}let l=r.marks;for(var a=0;a<l.length;a++)l[a].type.spec.inclusive===!1&&(!o||!l[a].isInSet(o.marks))&&(l=l[a--].removeFromSet(l));return l}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,o=e.parent.maybeChild(e.index());for(var l=0;l<r.length;l++)r[l].type.spec.inclusive===!1&&(!o||!r[l].isInSet(o.marks))&&(r=r[l--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new vl(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],o=0,l=t;for(let a=e;;){let{index:c,offset:d}=a.content.findIndex(l),h=l-d;if(r.push(a,c,o+d),!h||(a=a.child(c),a.isText))break;l=h-1,o+=d+1}return new No(t,r,l)}static resolveCached(e,t){let r=xp.get(e);if(r)for(let l=0;l<r.elts.length;l++){let a=r.elts[l];if(a.pos==t)return a}else xp.set(e,r=new kv);let o=r.elts[r.i]=No.resolve(e,t);return r.i=(r.i+1)%wv,o}}class kv{constructor(){this.elts=[],this.i=0}}const wv=12,xp=new WeakMap;class vl{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Sv=Object.create(null);let or=class xc{constructor(e,t,r,o=Se.none){this.type=e,this.attrs=t,this.marks=o,this.content=r||$.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,o=0){this.content.nodesBetween(e,t,r,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,o){return this.content.textBetween(e,t,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&ml(this.attrs,t||e.defaultAttrs||Sv)&&Se.sameSet(this.marks,r||Se.none)}copy(e=null){return e==this.content?this:new xc(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new xc(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return j.empty;let o=this.resolve(e),l=this.resolve(t),a=r?0:o.sharedDepth(t),c=o.start(a),h=o.node(a).content.cut(o.pos-c,l.pos-c);return new j(h,o.depth-a,l.depth-a)}replace(e,t,r){return yv(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:o}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(o==e||t.isText)return t;e-=o+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let o=this.content.child(t-1);return{node:o,index:t-1,offset:r-o.nodeSize}}resolve(e){return No.resolveCached(this,e)}resolveNoCache(e){return No.resolve(this,e)}rangeHasMark(e,t,r){let o=!1;return t>e&&this.nodesBetween(e,t,l=>(r.isInSet(l.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),h1(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=$.empty,o=0,l=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,o,l),c=a&&a.matchFragment(this.content,t);if(!c||!c.validEnd)return!1;for(let d=o;d<l;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,t,r,o){if(o&&!this.type.allowsMarks(o))return!1;let l=this.contentMatchAt(e).matchType(r),a=l&&l.matchFragment(this.content,t);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Se.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Se.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let o=$.fromJSON(e,t.content),l=e.nodeType(t.type).create(t.attrs,o,r);return l.type.checkAttrs(l.attrs),l}};or.prototype.text=void 0;class kl extends or{constructor(e,t,r,o){if(super(e,t,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):h1(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new kl(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new kl(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function h1(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Br{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new xv(e,t);if(r.next==null)return Br.empty;let o=p1(r);r.next&&r.err("Unexpected trailing text");let l=Ov(Tv(o));return Nv(l,r),l}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let o=this;for(let l=t;o&&l<r;l++)o=o.matchType(e.child(l).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let o=[this];function l(a,c){let d=a.matchFragment(e,r);if(d&&(!t||d.validEnd))return $.from(c.map(h=>h.createAndFill()));for(let h=0;h<a.next.length;h++){let{type:m,next:y}=a.next[h];if(!(m.isText||m.hasRequiredAttrs())&&o.indexOf(y)==-1){o.push(y);let v=l(y,c.concat(m));if(v)return v}}return null}return l(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),l=o.match;if(l.matchType(e)){let a=[];for(let c=o;c.type;c=c.via)a.push(c.type);return a.reverse()}for(let a=0;a<l.next.length;a++){let{type:c,next:d}=l.next[a];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in t)&&(!o.type||d.validEnd)&&(r.push({match:c.contentMatch,type:c,via:o}),t[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let o=0;o<r.next.length;o++)e.indexOf(r.next[o].next)==-1&&t(r.next[o].next)}return t(this),e.map((r,o)=>{let l=o+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)l+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return l}).join(`
`)}}Br.empty=new Br(!0);class xv{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function p1(n){let e=[];do e.push(Cv(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Cv(n){let e=[];do e.push(bv(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function bv(n){let e=_v(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=Mv(n,e);else break;return e}function Cp(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function Mv(n,e){let t=Cp(n),r=t;return n.eat(",")&&(n.next!="}"?r=Cp(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function Ev(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let o=[];for(let l in t){let a=t[l];a.isInGroup(e)&&o.push(a)}return o.length==0&&n.err("No node type or group '"+e+"' found"),o}function _v(n){if(n.eat("(")){let e=p1(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=Ev(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Tv(n){let e=[[]];return o(l(n,0),t()),e;function t(){return e.push([])-1}function r(a,c,d){let h={term:d,to:c};return e[a].push(h),h}function o(a,c){a.forEach(d=>d.to=c)}function l(a,c){if(a.type=="choice")return a.exprs.reduce((d,h)=>d.concat(l(h,c)),[]);if(a.type=="seq")for(let d=0;;d++){let h=l(a.exprs[d],c);if(d==a.exprs.length-1)return h;o(h,c=t())}else if(a.type=="star"){let d=t();return r(c,d),o(l(a.expr,d),d),[r(d)]}else if(a.type=="plus"){let d=t();return o(l(a.expr,c),d),o(l(a.expr,d),d),[r(d)]}else{if(a.type=="opt")return[r(c)].concat(l(a.expr,c));if(a.type=="range"){let d=c;for(let h=0;h<a.min;h++){let m=t();o(l(a.expr,d),m),d=m}if(a.max==-1)o(l(a.expr,d),d);else for(let h=a.min;h<a.max;h++){let m=t();r(d,m),o(l(a.expr,d),m),d=m}return[r(d)]}else{if(a.type=="name")return[r(c,void 0,a.value)];throw new Error("Unknown expr type")}}}}function m1(n,e){return e-n}function bp(n,e){let t=[];return r(e),t.sort(m1);function r(o){let l=n[o];if(l.length==1&&!l[0].term)return r(l[0].to);t.push(o);for(let a=0;a<l.length;a++){let{term:c,to:d}=l[a];!c&&t.indexOf(d)==-1&&r(d)}}}function Ov(n){let e=Object.create(null);return t(bp(n,0));function t(r){let o=[];r.forEach(a=>{n[a].forEach(({term:c,to:d})=>{if(!c)return;let h;for(let m=0;m<o.length;m++)o[m][0]==c&&(h=o[m][1]);bp(n,d).forEach(m=>{h||o.push([c,h=[]]),h.indexOf(m)==-1&&h.push(m)})})});let l=e[r.join(",")]=new Br(r.indexOf(n.length-1)>-1);for(let a=0;a<o.length;a++){let c=o[a][1].sort(m1);l.next.push({type:o[a][0],next:e[c.join(",")]||t(c)})}return l}}function Nv(n,e){for(let t=0,r=[n];t<r.length;t++){let o=r[t],l=!o.validEnd,a=[];for(let c=0;c<o.next.length;c++){let{type:d,next:h}=o.next[c];a.push(d.name),l&&!(d.isText||d.hasRequiredAttrs())&&(l=!1),r.indexOf(h)==-1&&r.push(h)}l&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function g1(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function y1(n,e){let t=Object.create(null);for(let r in n){let o=e&&e[r];if(o===void 0){let l=n[r];if(l.hasDefault)o=l.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=o}return t}function v1(n,e,t,r){for(let o in e)if(!(o in n))throw new RangeError(`Unsupported attribute ${o} for ${t} of type ${o}`);for(let o in n){let l=n[o];l.validate&&l.validate(e[o])}}function k1(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new Pv(n,r,e[r]);return t}let Mp=class w1{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=k1(e,r.attrs),this.defaultAttrs=g1(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Br.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:y1(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new or(this,this.computeAttrs(e),$.from(t),Se.setFrom(r))}createChecked(e=null,t,r){return t=$.from(t),this.checkContent(t),new or(this,this.computeAttrs(e),t,Se.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=$.from(t),t.size){let a=this.contentMatch.fillBefore(t);if(!a)return null;t=a.append(t)}let o=this.contentMatch.matchFragment(t),l=o&&o.fillBefore($.empty,!0);return l?new or(this,e,t.append(l),Se.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){v1(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Se.none:e}static compile(e,t){let r=Object.create(null);e.forEach((l,a)=>r[l]=new w1(l,t,a));let o=t.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let l in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Dv(n,e,t){let r=t.split("|");return o=>{let l=o===null?"null":typeof o;if(r.indexOf(l)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${l}`)}}class Pv{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Dv(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Il{constructor(e,t,r,o){this.name=e,this.rank=t,this.schema=r,this.spec=o,this.attrs=k1(e,o.attrs),this.excluded=null;let l=g1(this.attrs);this.instance=l?new Se(this,l):null}create(e=null){return!e&&this.instance?this.instance:new Se(this,y1(this.attrs,e))}static compile(e,t){let r=Object.create(null),o=0;return e.forEach((l,a)=>r[l]=new Il(l,o++,t,a)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){v1(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class S1{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let o in e)t[o]=e[o];t.nodes=Ye.from(e.nodes),t.marks=Ye.from(e.marks||{}),this.nodes=Mp.compile(this.spec.nodes,this),this.marks=Il.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let l=this.nodes[o],a=l.spec.content||"",c=l.spec.marks;if(l.contentMatch=r[a]||(r[a]=Br.parse(a,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=c=="_"?null:c?Ep(this,c.split(" ")):c==""||!l.inlineContent?[]:null}for(let o in this.marks){let l=this.marks[o],a=l.spec.excludes;l.excluded=a==null?[l]:a==""?[]:Ep(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Mp){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,o)}text(e,t){let r=this.nodes.text;return new kl(r,r.defaultAttrs,e,Se.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return or.fromJSON(this,e)}markFromJSON(e){return Se.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function Ep(n,e){let t=[];for(let r=0;r<e.length;r++){let o=e[r],l=n.marks[o],a=l;if(l)t.push(l);else for(let c in n.marks){let d=n.marks[c];(o=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(o)>-1)&&t.push(a=d)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function Rv(n){return n.tag!=null}function Av(n){return n.style!=null}class sr{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(o=>{if(Rv(o))this.tags.push(o);else if(Av(o)){let l=/[^=]*/.exec(o.style)[0];r.indexOf(l)<0&&r.push(l),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let l=e.nodes[o.node];return l.contentMatch.matchType(l)})}parse(e,t={}){let r=new Tp(this,t,!1);return r.addAll(e,Se.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new Tp(this,t,!0);return r.addAll(e,Se.none,t.from,t.to),j.maxOpen(r.finish())}matchTag(e,t,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let l=this.tags[o];if(zv(e,l.tag)&&(l.namespace===void 0||e.namespaceURI==l.namespace)&&(!l.context||t.matchesContext(l.context))){if(l.getAttrs){let a=l.getAttrs(e);if(a===!1)continue;l.attrs=a||void 0}return l}}}matchStyle(e,t,r,o){for(let l=o?this.styles.indexOf(o)+1:0;l<this.styles.length;l++){let a=this.styles[l],c=a.style;if(!(c.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=t))){if(a.getAttrs){let d=a.getAttrs(t);if(d===!1)continue;a.attrs=d||void 0}return a}}}static schemaRules(e){let t=[];function r(o){let l=o.priority==null?50:o.priority,a=0;for(;a<t.length;a++){let c=t[a];if((c.priority==null?50:c.priority)<l)break}t.splice(a,0,o)}for(let o in e.marks){let l=e.marks[o].spec.parseDOM;l&&l.forEach(a=>{r(a=Op(a)),a.mark||a.ignore||a.clearMark||(a.mark=o)})}for(let o in e.nodes){let l=e.nodes[o].spec.parseDOM;l&&l.forEach(a=>{r(a=Op(a)),a.node||a.ignore||a.mark||(a.node=o)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new sr(e,sr.schemaRules(e)))}}const x1={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Iv={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},C1={ol:!0,ul:!0},Do=1,Cc=2,Eo=4;function _p(n,e,t){return e!=null?(e?Do:0)|(e==="full"?Cc:0):n&&n.whitespace=="pre"?Do|Cc:t&~Eo}class tl{constructor(e,t,r,o,l,a){this.type=e,this.attrs=t,this.marks=r,this.solid=o,this.options=a,this.content=[],this.activeMarks=Se.none,this.match=l||(a&Eo?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore($.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Do)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let l=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-o[0].length))}}let t=$.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore($.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!x1.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Tp{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=t.topNode,l,a=_p(null,t.preserveWhitespace,0)|(r?Eo:0);o?l=new tl(o.type,o.attrs,Se.none,!0,t.topMatch||o.type.contentMatch,a):r?l=new tl(null,null,Se.none,!0,null,a):l=new tl(e.schema.topNodeType,null,Se.none,!0,null,a),this.nodes=[l],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,o=this.top,l=o.options&Cc?"full":this.localPreserveWS||(o.options&Do)>0;if(l==="full"||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(l)l!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=o.content[o.content.length-1],c=e.previousSibling;(!a||c&&c.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let o=this.localPreserveWS,l=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),c;C1.hasOwnProperty(a)&&this.parser.normalizeLists&&$v(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(d?d.ignore:Iv.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,m=this.needsBlock;if(x1.hasOwnProperty(a))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),h=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let y=d&&d.skip?t:this.readStyles(e,t);y&&this.addAll(e,y),h&&this.sync(l),this.needsBlock=m}else{let h=this.readStyles(e,t);h&&this.addElementByRule(e,d,h,d.consuming===!1?c:void 0)}this.localPreserveWS=o}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let l=this.parser.matchedStyles[o],a=r.getPropertyValue(l);if(a)for(let c=void 0;;){let d=this.parser.matchStyle(l,a,this,c);if(!d)break;if(d.ignore)return null;if(d.clearMark?t=t.filter(h=>!d.clearMark(h)):t=t.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)c=d;else break}}return t}addElementByRule(e,t,r,o){let l,a;if(t.node)if(a=this.parser.schema.nodes[t.node],a.isLeaf)this.insertNode(a.create(t.attrs),r)||this.leafFallback(e,r);else{let d=this.enter(a,t.attrs||null,r,t.preserveWhitespace);d&&(l=!0,r=d)}else{let d=this.parser.schema.marks[t.mark];r=r.concat(d.create(t.attrs))}let c=this.top;if(a&&a.isLeaf)this.findInside(e);else if(o)this.addElement(e,r,o);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r));else{let d=e;typeof t.contentElement=="string"?d=e.querySelector(t.contentElement):typeof t.contentElement=="function"?d=t.contentElement(e):t.contentElement&&(d=t.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}l&&this.sync(c)&&this.open--}addAll(e,t,r,o){let l=r||0;for(let a=r?e.childNodes[r]:e.firstChild,c=o==null?null:e.childNodes[o];a!=c;a=a.nextSibling,++l)this.findAtPoint(e,l),this.addDOM(a,t);this.findAtPoint(e,l)}findPlace(e,t){let r,o;for(let l=this.open;l>=0;l--){let a=this.nodes[l],c=a.findWrapping(e);if(c&&(!r||r.length>c.length)&&(r=c,o=a,!c.length)||a.solid)break}if(!r)return null;this.sync(o);for(let l=0;l<r.length;l++)t=this.enterInner(r[l],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(t=this.enterInner(o,null,t))}let r=this.findPlace(e,t);if(r){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let l=Se.none;for(let a of r.concat(e.marks))(o.type?o.type.allowsMarkType(a.type):Np(a.type,e.type))&&(l=a.addToSet(l));return o.content.push(e.mark(l)),!0}return!1}enter(e,t,r,o){let l=this.findPlace(e.create(t),r);return l&&(l=this.enterInner(e,t,r,!0,o)),l}enterInner(e,t,r,o=!1,l){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let c=_p(e,l,a.options);a.options&Eo&&a.content.length==0&&(c|=Eo);let d=Se.none;return r=r.filter(h=>(a.type?a.type.allowsMarkType(h.type):Np(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new tl(e,t,d,o,null,c)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Do)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let o=r.length-1;o>=0;o--)e+=r[o].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&t.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),l=-(r?r.depth+1:0)+(o?0:1),a=(c,d)=>{for(;c>=0;c--){let h=t[c];if(h==""){if(c==t.length-1||c==0)continue;for(;d>=l;d--)if(a(c-1,d))return!0;return!1}else{let m=d>0||d==0&&o?this.nodes[d].type:r&&d>=l?r.node(d-l).type:null;if(!m||m.name!=h&&!m.isInGroup(h))return!1;d--}}return!0};return a(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function $v(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&C1.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function zv(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function Op(n){let e={};for(let t in n)e[t]=n[t];return e}function Np(n,e){let t=e.schema.nodes;for(let r in t){let o=t[r];if(!o.allowsMarkType(n))continue;let l=[],a=c=>{l.push(c);for(let d=0;d<c.edgeCount;d++){let{type:h,next:m}=c.edge(d);if(h==e||l.indexOf(m)<0&&a(m))return!0}};if(a(o.contentMatch))return!0}}class Vr{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Qu(t).createDocumentFragment());let o=r,l=[];return e.forEach(a=>{if(l.length||a.marks.length){let c=0,d=0;for(;c<l.length&&d<a.marks.length;){let h=a.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(l[c][0])||h.type.spec.spanning===!1)break;c++,d++}for(;c<l.length;)o=l.pop()[1];for(;d<a.marks.length;){let h=a.marks[d++],m=this.serializeMark(h,a.isInline,t);m&&(l.push([h,o]),o.appendChild(m.dom),o=m.contentDOM||m.dom)}}o.appendChild(this.serializeNodeInner(a,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:o}=ul(Qu(t),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,o)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let o=e.marks.length-1;o>=0;o--){let l=this.serializeMark(e.marks[o],e.isInline,t);l&&((l.contentDOM||l.dom).appendChild(r),r=l.dom)}return r}serializeMark(e,t,r={}){let o=this.marks[e.type.name];return o&&ul(Qu(r),o(e,t),null,e.attrs)}static renderSpec(e,t,r=null,o){return ul(e,t,r,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Vr(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Dp(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return Dp(e.marks)}}function Dp(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Qu(n){return n.document||window.document}const Pp=new WeakMap;function Lv(n){let e=Pp.get(n);return e===void 0&&Pp.set(n,e=Bv(n)),e}function Bv(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let o=0;o<r.length;o++)t(r[o]);else for(let o in r)t(r[o])}return t(n),e}function ul(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],l;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(l=Lv(r))&&l.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=o.indexOf(" ");a>0&&(t=o.slice(0,a),o=o.slice(a+1));let c,d=t?n.createElementNS(t,o):n.createElement(o),h=e[1],m=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){m=2;for(let y in h)if(h[y]!=null){let v=y.indexOf(" ");v>0?d.setAttributeNS(y.slice(0,v),y.slice(v+1),h[y]):d.setAttribute(y,h[y])}}for(let y=m;y<e.length;y++){let v=e[y];if(v===0){if(y<e.length-1||y>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:k,contentDOM:S}=ul(n,v,t,r);if(d.appendChild(k),S){if(c)throw new RangeError("Multiple content holes");c=S}}}return{dom:d,contentDOM:c}}const b1=65535,M1=Math.pow(2,16);function Fv(n,e){return n+e*M1}function Rp(n){return n&b1}function jv(n){return(n-(n&b1))/M1}const E1=1,_1=2,cl=4,T1=8;class bc{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&T1)>0}get deletedBefore(){return(this.delInfo&(E1|cl))>0}get deletedAfter(){return(this.delInfo&(_1|cl))>0}get deletedAcross(){return(this.delInfo&cl)>0}}class At{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&At.empty)return At.empty}recover(e){let t=0,r=Rp(e);if(!this.inverted)for(let o=0;o<r;o++)t+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+t+jv(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let o=0,l=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?o:0);if(d>e)break;let h=this.ranges[c+l],m=this.ranges[c+a],y=d+h;if(e<=y){let v=h?e==d?-1:e==y?1:t:t,k=d+o+(v<0?0:m);if(r)return k;let S=e==(t<0?d:y)?null:Fv(c/3,e-d),x=e==d?_1:e==y?E1:cl;return(t<0?e!=d:e!=y)&&(x|=T1),new bc(k,x,S)}o+=m-h}return r?e+o:new bc(e+o,0,null)}touches(e,t){let r=0,o=Rp(t),l=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?r:0);if(d>e)break;let h=this.ranges[c+l],m=d+h;if(e<=m&&c==o*3)return!0;r+=this.ranges[c+a]-h}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,l=0;o<this.ranges.length;o+=3){let a=this.ranges[o],c=a-(this.inverted?l:0),d=a+(this.inverted?0:l),h=this.ranges[o+t],m=this.ranges[o+r];e(c,c+h,d,d+m),l+=m-h}}invert(){return new At(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?At.empty:new At(e<0?[0,-e,0]:[0,0,e])}}At.empty=new At([]);class wi{constructor(e=[],t,r=0,o=e.length){this.maps=e,this.mirror=t,this.from=r,this.to=o}slice(e=0,t=this.maps.length){return new wi(this.maps,this.mirror,e,t)}copy(){return new wi(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,r=this.maps.length;t<e.maps.length;t++){let o=e.getMirror(t);this.appendMap(e.maps[t],o!=null&&o<t?r+o:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this.maps.length+e.maps.length;t>=0;t--){let o=e.getMirror(t);this.appendMap(e.maps[t].invert(),o!=null&&o>t?r-o-1:void 0)}}invert(){let e=new wi;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let o=0;for(let l=this.from;l<this.to;l++){let a=this.maps[l],c=a.mapResult(e,t);if(c.recover!=null){let d=this.getMirror(l);if(d!=null&&d>l&&d<this.to){l=d,e=this.maps[d].recover(c.recover);continue}}o|=c.delInfo,e=c.pos}return r?e:new bc(e,o,null)}}const Gu=Object.create(null);class ct{getMap(){return At.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Gu[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Gu)throw new RangeError("Duplicate use of step JSON ID "+e);return Gu[e]=t,t.prototype.jsonID=e,t}}class $e{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new $e(e,null)}static fail(e){return new $e(null,e)}static fromReplace(e,t,r,o){try{return $e.ok(e.replace(t,r,o))}catch(l){if(l instanceof gl)return $e.fail(l.message);throw l}}}function Jc(n,e,t){let r=[];for(let o=0;o<n.childCount;o++){let l=n.child(o);l.content.size&&(l=l.copy(Jc(l.content,e,l))),l.isInline&&(l=e(l,t,o)),r.push(l)}return $.fromArray(r)}class tr extends ct{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),l=new j(Jc(t.content,(a,c)=>!a.isAtom||!c.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),o),t.openStart,t.openEnd);return $e.fromReplace(e,this.from,this.to,l)}invert(){return new hn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new tr(t.pos,r.pos,this.mark)}merge(e){return e instanceof tr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new tr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new tr(t.from,t.to,e.markFromJSON(t.mark))}}ct.jsonID("addMark",tr);class hn extends ct{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new j(Jc(t.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),t.openStart,t.openEnd);return $e.fromReplace(e,this.from,this.to,r)}invert(){return new tr(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new hn(t.pos,r.pos,this.mark)}merge(e){return e instanceof hn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new hn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new hn(t.from,t.to,e.markFromJSON(t.mark))}}ct.jsonID("removeMark",hn);class nr extends ct{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return $e.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return $e.fromReplace(e,this.pos,this.pos+1,new j($.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let o=0;o<t.marks.length;o++)if(!t.marks[o].isInSet(r))return new nr(this.pos,t.marks[o]);return new nr(this.pos,this.mark)}}return new Mi(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new nr(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new nr(t.pos,e.markFromJSON(t.mark))}}ct.jsonID("addNodeMark",nr);class Mi extends ct{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return $e.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return $e.fromReplace(e,this.pos,this.pos+1,new j($.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new nr(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Mi(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Mi(t.pos,e.markFromJSON(t.mark))}}ct.jsonID("removeNodeMark",Mi);class We extends ct{constructor(e,t,r,o=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=o}apply(e){return this.structure&&Mc(e,this.from,this.to)?$e.fail("Structure replace would overwrite content"):$e.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new At([this.from,this.to-this.from,this.slice.size])}invert(e){return new We(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new We(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof We)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?j.empty:new j(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new We(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?j.empty:new j(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new We(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new We(t.from,t.to,j.fromJSON(e,t.slice),!!t.structure)}}ct.jsonID("replace",We);class Ke extends ct{constructor(e,t,r,o,l,a,c=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=o,this.slice=l,this.insert=a,this.structure=c}apply(e){if(this.structure&&(Mc(e,this.from,this.gapFrom)||Mc(e,this.gapTo,this.to)))return $e.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return $e.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?$e.fromReplace(e,this.from,this.to,r):$e.fail("Content does not fit in gap")}getMap(){return new At([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Ke(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),l=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||o<t.pos||l>r.pos?null:new Ke(t.pos,r.pos,o,l,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ke(t.from,t.to,t.gapFrom,t.gapTo,j.fromJSON(e,t.slice),t.insert,!!t.structure)}}ct.jsonID("replaceAround",Ke);function Mc(n,e,t){let r=n.resolve(e),o=t-e,l=r.depth;for(;o>0&&l>0&&r.indexAfter(l)==r.node(l).childCount;)l--,o--;if(o>0){let a=r.node(l).maybeChild(r.indexAfter(l));for(;o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}}return!1}function Vv(n,e,t,r){let o=[],l=[],a,c;n.doc.nodesBetween(e,t,(d,h,m)=>{if(!d.isInline)return;let y=d.marks;if(!r.isInSet(y)&&m.type.allowsMarkType(r.type)){let v=Math.max(h,e),k=Math.min(h+d.nodeSize,t),S=r.addToSet(y);for(let x=0;x<y.length;x++)y[x].isInSet(S)||(a&&a.to==v&&a.mark.eq(y[x])?a.to=k:o.push(a=new hn(v,k,y[x])));c&&c.to==v?c.to=k:l.push(c=new tr(v,k,r))}}),o.forEach(d=>n.step(d)),l.forEach(d=>n.step(d))}function Hv(n,e,t,r){let o=[],l=0;n.doc.nodesBetween(e,t,(a,c)=>{if(!a.isInline)return;l++;let d=null;if(r instanceof Il){let h=a.marks,m;for(;m=r.isInSet(h);)(d||(d=[])).push(m),h=m.removeFromSet(h)}else r?r.isInSet(a.marks)&&(d=[r]):d=a.marks;if(d&&d.length){let h=Math.min(c+a.nodeSize,t);for(let m=0;m<d.length;m++){let y=d[m],v;for(let k=0;k<o.length;k++){let S=o[k];S.step==l-1&&y.eq(o[k].style)&&(v=S)}v?(v.to=h,v.step=l):o.push({style:y,from:Math.max(c,e),to:h,step:l})}}}),o.forEach(a=>n.step(new hn(a.from,a.to,a.style)))}function Qc(n,e,t,r=t.contentMatch,o=!0){let l=n.doc.nodeAt(e),a=[],c=e+1;for(let d=0;d<l.childCount;d++){let h=l.child(d),m=c+h.nodeSize,y=r.matchType(h.type);if(!y)a.push(new We(c,m,j.empty));else{r=y;for(let v=0;v<h.marks.length;v++)t.allowsMarkType(h.marks[v].type)||n.step(new hn(c,m,h.marks[v]));if(o&&h.isText&&t.whitespace!="pre"){let v,k=/\r?\n|\r/g,S;for(;v=k.exec(h.text);)S||(S=new j($.from(t.schema.text(" ",t.allowedMarks(h.marks))),0,0)),a.push(new We(c+v.index,c+v.index+v[0].length,S))}}c=m}if(!r.validEnd){let d=r.fillBefore($.empty,!0);n.replace(c,c,new j(d,0,0))}for(let d=a.length-1;d>=0;d--)n.step(a[d])}function Wv(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Ri(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let o=n.$from.node(r),l=n.$from.index(r),a=n.$to.indexAfter(r);if(r<n.depth&&o.canReplace(l,a,t))return r;if(r==0||o.type.spec.isolating||!Wv(o,l,a))break}return null}function Uv(n,e,t){let{$from:r,$to:o,depth:l}=e,a=r.before(l+1),c=o.after(l+1),d=a,h=c,m=$.empty,y=0;for(let S=l,x=!1;S>t;S--)x||r.index(S)>0?(x=!0,m=$.from(r.node(S).copy(m)),y++):d--;let v=$.empty,k=0;for(let S=l,x=!1;S>t;S--)x||o.after(S+1)<o.end(S)?(x=!0,v=$.from(o.node(S).copy(v)),k++):h++;n.step(new Ke(d,h,a,c,new j(m.append(v),y,k),m.size-y,!0))}function Gc(n,e,t=null,r=n){let o=Kv(n,e),l=o&&qv(r,e);return l?o.map(Ap).concat({type:e,attrs:t}).concat(l.map(Ap)):null}function Ap(n){return{type:n,attrs:null}}function Kv(n,e){let{parent:t,startIndex:r,endIndex:o}=n,l=t.contentMatchAt(r).findWrapping(e);if(!l)return null;let a=l.length?l[0]:e;return t.canReplaceWith(r,o,a)?l:null}function qv(n,e){let{parent:t,startIndex:r,endIndex:o}=n,l=t.child(r),a=e.contentMatch.findWrapping(l.type);if(!a)return null;let d=(a.length?a[a.length-1]:e).contentMatch;for(let h=r;d&&h<o;h++)d=d.matchType(t.child(h).type);return!d||!d.validEnd?null:a}function Jv(n,e,t){let r=$.empty;for(let a=t.length-1;a>=0;a--){if(r.size){let c=t[a].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=$.from(t[a].type.create(t[a].attrs,r))}let o=e.start,l=e.end;n.step(new Ke(o,l,o,l,new j(r,0,0),t.length,!0))}function Qv(n,e,t,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=n.steps.length;n.doc.nodesBetween(e,t,(a,c)=>{let d=typeof o=="function"?o(a):o;if(a.isTextblock&&!a.hasMarkup(r,d)&&Gv(n.doc,n.mapping.slice(l).map(c),r)){let h=null;if(r.schema.linebreakReplacement){let k=r.whitespace=="pre",S=!!r.contentMatch.matchType(r.schema.linebreakReplacement);k&&!S?h=!1:!k&&S&&(h=!0)}h===!1&&N1(n,a,c,l),Qc(n,n.mapping.slice(l).map(c,1),r,void 0,h===null);let m=n.mapping.slice(l),y=m.map(c,1),v=m.map(c+a.nodeSize,1);return n.step(new Ke(y,v,y+1,v-1,new j($.from(r.create(d,null,a.marks)),0,0),1,!0)),h===!0&&O1(n,a,c,l),!1}})}function O1(n,e,t,r){e.forEach((o,l)=>{if(o.isText){let a,c=/\r?\n|\r/g;for(;a=c.exec(o.text);){let d=n.mapping.slice(r).map(t+1+l+a.index);n.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function N1(n,e,t,r){e.forEach((o,l)=>{if(o.type==o.type.schema.linebreakReplacement){let a=n.mapping.slice(r).map(t+1+l);n.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function Gv(n,e,t){let r=n.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,t)}function Yv(n,e,t,r,o){let l=n.doc.nodeAt(e);if(!l)throw new RangeError("No node at given position");t||(t=l.type);let a=t.create(r,null,o||l.marks);if(l.isLeaf)return n.replaceWith(e,e+l.nodeSize,a);if(!t.validContent(l.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Ke(e,e+l.nodeSize,e+1,e+l.nodeSize-1,new j($.from(a),0,0),1,!0))}function Si(n,e,t=1,r){let o=n.resolve(e),l=o.depth-t,a=r&&r[r.length-1]||o.parent;if(l<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let h=o.depth-1,m=t-2;h>l;h--,m--){let y=o.node(h),v=o.index(h);if(y.type.spec.isolating)return!1;let k=y.content.cutByIndex(v,y.childCount),S=r&&r[m+1];S&&(k=k.replaceChild(0,S.type.create(S.attrs)));let x=r&&r[m]||y;if(!y.canReplace(v+1,y.childCount)||!x.type.validContent(k))return!1}let c=o.indexAfter(l),d=r&&r[0];return o.node(l).canReplaceWith(c,c,d?d.type:o.node(l+1).type)}function Xv(n,e,t=1,r){let o=n.doc.resolve(e),l=$.empty,a=$.empty;for(let c=o.depth,d=o.depth-t,h=t-1;c>d;c--,h--){l=$.from(o.node(c).copy(l));let m=r&&r[h];a=$.from(m?m.type.create(m.attrs,a):o.node(c).copy(a))}n.step(new We(e,e,new j(l.append(a),t,t),!0))}function hr(n,e){let t=n.resolve(e),r=t.index();return D1(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function Zv(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let o=0;o<e.childCount;o++){let l=e.child(o),a=l.type==r?n.type.schema.nodes.text:l.type;if(t=t.matchType(a),!t||!n.type.allowsMarks(l.marks))return!1}return t.validEnd}function D1(n,e){return!!(n&&e&&!n.isLeaf&&Zv(n,e))}function $l(n,e,t=-1){let r=n.resolve(e);for(let o=r.depth;;o--){let l,a,c=r.index(o);if(o==r.depth?(l=r.nodeBefore,a=r.nodeAfter):t>0?(l=r.node(o+1),c++,a=r.node(o).maybeChild(c)):(l=r.node(o).maybeChild(c-1),a=r.node(o+1)),l&&!l.isTextblock&&D1(l,a)&&r.node(o).canReplace(c,c+1))return e;if(o==0)break;e=t<0?r.before(o):r.after(o)}}function e2(n,e,t){let r=null,{linebreakReplacement:o}=n.doc.type.schema,l=n.doc.resolve(e-t),a=l.node().type;if(o&&a.inlineContent){let m=a.whitespace=="pre",y=!!a.contentMatch.matchType(o);m&&!y?r=!1:!m&&y&&(r=!0)}let c=n.steps.length;if(r===!1){let m=n.doc.resolve(e+t);N1(n,m.node(),m.before(),c)}a.inlineContent&&Qc(n,e+t-1,a,l.node().contentMatchAt(l.index()),r==null);let d=n.mapping.slice(c),h=d.map(e-t);if(n.step(new We(h,d.map(e+t,-1),j.empty,!0)),r===!0){let m=n.doc.resolve(h);O1(n,m.node(),m.before(),n.steps.length)}return n}function t2(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let l=r.index(o);if(r.node(o).canReplaceWith(l,l,t))return r.before(o+1);if(l>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let l=r.indexAfter(o);if(r.node(o).canReplaceWith(l,l,t))return r.after(o+1);if(l<r.node(o).childCount)return null}return null}function P1(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let o=t.content;for(let l=0;l<t.openStart;l++)o=o.firstChild.content;for(let l=1;l<=(t.openStart==0&&t.size?2:1);l++)for(let a=r.depth;a>=0;a--){let c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,d=r.index(a)+(c>0?1:0),h=r.node(a),m=!1;if(l==1)m=h.canReplace(d,d,o);else{let y=h.contentMatchAt(d).findWrapping(o.firstChild.type);m=y&&h.canReplaceWith(d,d,y[0])}if(m)return c==0?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}function zl(n,e,t=e,r=j.empty){if(e==t&&!r.size)return null;let o=n.resolve(e),l=n.resolve(t);return R1(o,l,r)?new We(e,t,r):new n2(o,l,r).fit()}function R1(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class n2{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=$.empty;for(let o=0;o<=e.depth;o++){let l=e.node(o);this.frontier.push({type:l.type,match:l.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=$.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let l=this.placed,a=r.depth,c=o.depth;for(;a&&c&&l.childCount==1;)l=l.firstChild.content,a--,c--;let d=new j(l,a,c);return e>-1?new Ke(r.pos,e,this.$to.pos,this.$to.end(),d,t):d.size||r.pos!=this.$to.pos?new We(r.pos,o.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let l=t.firstChild;if(t.childCount>1&&(o=0),l.type.spec.isolating&&o<=r){e=r;break}t=l.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let o,l=null;r?(l=Yu(this.unplaced.content,r-1).firstChild,o=l.content):o=this.unplaced.content;let a=o.firstChild;for(let c=this.depth;c>=0;c--){let{type:d,match:h}=this.frontier[c],m,y=null;if(t==1&&(a?h.matchType(a.type)||(y=h.fillBefore($.from(a),!1)):l&&d.compatibleContent(l.type)))return{sliceDepth:r,frontierDepth:c,parent:l,inject:y};if(t==2&&a&&(m=h.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:c,parent:l,wrap:m};if(l&&h.matchType(l.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,o=Yu(e,t);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new j(e,t+1,Math.max(r,o.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,o=Yu(e,t);if(o.childCount<=1&&t>0){let l=e.size-t<=t+o.size;this.unplaced=new j(xo(e,t-1,1),t-1,l?t-1:r)}else this.unplaced=new j(xo(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:o,wrap:l}){for(;this.depth>t;)this.closeFrontierNode();if(l)for(let x=0;x<l.length;x++)this.openFrontierNode(l[x]);let a=this.unplaced,c=r?r.content:a.content,d=a.openStart-e,h=0,m=[],{match:y,type:v}=this.frontier[t];if(o){for(let x=0;x<o.childCount;x++)m.push(o.child(x));y=y.matchFragment(o)}let k=c.size+e-(a.content.size-a.openEnd);for(;h<c.childCount;){let x=c.child(h),b=y.matchType(x.type);if(!b)break;h++,(h>1||d==0||x.content.size)&&(y=b,m.push(A1(x.mark(v.allowedMarks(x.marks)),h==1?d:0,h==c.childCount?k:-1)))}let S=h==c.childCount;S||(k=-1),this.placed=Co(this.placed,t,$.from(m)),this.frontier[t].match=y,S&&k<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let x=0,b=c;x<k;x++){let N=b.lastChild;this.frontier.push({type:N.type,match:N.contentMatchAt(N.childCount)}),b=N.content}this.unplaced=S?e==0?j.empty:new j(xo(a.content,e-1,1),e-1,k<0?a.openEnd:e-1):new j(xo(a.content,e,h),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Xu(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:o}=this.frontier[t],l=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=Xu(e,t,o,r,l);if(a){for(let c=t-1;c>=0;c--){let{match:d,type:h}=this.frontier[c],m=Xu(e,c,h,d,!0);if(!m||m.childCount)continue e}return{depth:t,fit:a,move:l?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Co(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let o=e.node(r),l=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,l)}return e}openFrontierNode(e,t=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=Co(this.placed,this.depth,$.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore($.empty,!0);t.childCount&&(this.placed=Co(this.placed,this.frontier.length,t))}}function xo(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(xo(n.firstChild.content,e-1,t)))}function Co(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Co(n.lastChild.content,e-1,t)))}function Yu(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function A1(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,A1(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore($.empty,!0)))),n.copy(r)}function Xu(n,e,t,r,o){let l=n.node(e),a=o?n.indexAfter(e):n.index(e);if(a==l.childCount&&!t.compatibleContent(l.type))return null;let c=r.fillBefore(l.content,!0,a);return c&&!r2(t,l.content,a)?c:null}function r2(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function i2(n){return n.spec.defining||n.spec.definingForContent}function o2(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let o=n.doc.resolve(e),l=n.doc.resolve(t);if(R1(o,l,r))return n.step(new We(e,t,r));let a=$1(o,n.doc.resolve(t));a[a.length-1]==0&&a.pop();let c=-(o.depth+1);a.unshift(c);for(let v=o.depth,k=o.pos-1;v>0;v--,k--){let S=o.node(v).type.spec;if(S.defining||S.definingAsContext||S.isolating)break;a.indexOf(v)>-1?c=v:o.before(v)==k&&a.splice(1,0,-v)}let d=a.indexOf(c),h=[],m=r.openStart;for(let v=r.content,k=0;;k++){let S=v.firstChild;if(h.push(S),k==r.openStart)break;v=S.content}for(let v=m-1;v>=0;v--){let k=h[v],S=i2(k.type);if(S&&!k.sameMarkup(o.node(Math.abs(c)-1)))m=v;else if(S||!k.type.isTextblock)break}for(let v=r.openStart;v>=0;v--){let k=(v+m+1)%(r.openStart+1),S=h[k];if(S)for(let x=0;x<a.length;x++){let b=a[(x+d)%a.length],N=!0;b<0&&(N=!1,b=-b);let L=o.node(b-1),Q=o.index(b-1);if(L.canReplaceWith(Q,Q,S.type,S.marks))return n.replace(o.before(b),N?l.after(b):t,new j(I1(r.content,0,r.openStart,k),k,r.openEnd))}}let y=n.steps.length;for(let v=a.length-1;v>=0&&(n.replace(e,t,r),!(n.steps.length>y));v--){let k=a[v];k<0||(e=o.before(k),t=l.after(k))}}function I1(n,e,t,r,o){if(e<t){let l=n.firstChild;n=n.replaceChild(0,l.copy(I1(l.content,e+1,t,r,l)))}if(e>r){let l=o.contentMatchAt(0),a=l.fillBefore(n).append(n);n=a.append(l.matchFragment(a).fillBefore($.empty,!0))}return n}function s2(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let o=t2(n.doc,e,r.type);o!=null&&(e=t=o)}n.replaceRange(e,t,new j($.from(r),0,0))}function l2(n,e,t){let r=n.doc.resolve(e),o=n.doc.resolve(t),l=$1(r,o);for(let a=0;a<l.length;a++){let c=l[a],d=a==l.length-1;if(d&&c==0||r.node(c).type.contentMatch.validEnd)return n.delete(r.start(c),o.end(c));if(c>0&&(d||r.node(c-1).canReplace(r.index(c-1),o.indexAfter(c-1))))return n.delete(r.before(c),o.after(c))}for(let a=1;a<=r.depth&&a<=o.depth;a++)if(e-r.start(a)==r.depth-a&&t>r.end(a)&&o.end(a)-t!=o.depth-a&&r.start(a-1)==o.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),o.index(a-1)))return n.delete(r.before(a),t);n.delete(e,t)}function $1(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let o=r;o>=0;o--){let l=n.start(o);if(l<n.pos-(n.depth-o)||e.end(o)>e.pos+(e.depth-o)||n.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(l==e.start(o)||o==n.depth&&o==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==l-1)&&t.push(o)}return t}class xi extends ct{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return $e.fail("No node at attribute step's position");let r=Object.create(null);for(let l in t.attrs)r[l]=t.attrs[l];r[this.attr]=this.value;let o=t.type.create(r,null,t.marks);return $e.fromReplace(e,this.pos,this.pos+1,new j($.from(o),0,t.isLeaf?0:1))}getMap(){return At.empty}invert(e){return new xi(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new xi(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new xi(t.pos,t.attr,t.value)}}ct.jsonID("attr",xi);class Po extends ct{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let o in e.attrs)t[o]=e.attrs[o];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return $e.ok(r)}getMap(){return At.empty}invert(e){return new Po(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Po(t.attr,t.value)}}ct.jsonID("docAttr",Po);let Ei=class extends Error{};Ei=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Ei.prototype=Object.create(Error.prototype);Ei.prototype.constructor=Ei;Ei.prototype.name="TransformError";class a2{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new wi}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Ei(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=j.empty){let o=zl(this.doc,e,t,r);return o&&this.step(o),this}replaceWith(e,t,r){return this.replace(e,t,new j($.from(r),0,0))}delete(e,t){return this.replace(e,t,j.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return o2(this,e,t,r),this}replaceRangeWith(e,t,r){return s2(this,e,t,r),this}deleteRange(e,t){return l2(this,e,t),this}lift(e,t){return Uv(this,e,t),this}join(e,t=1){return e2(this,e,t),this}wrap(e,t){return Jv(this,e,t),this}setBlockType(e,t=e,r,o=null){return Qv(this,e,t,r,o),this}setNodeMarkup(e,t,r=null,o){return Yv(this,e,t,r,o),this}setNodeAttribute(e,t,r){return this.step(new xi(e,t,r)),this}setDocAttribute(e,t){return this.step(new Po(e,t)),this}addNodeMark(e,t){return this.step(new nr(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Se)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t=t.isInSet(r.marks),!t)return this}return this.step(new Mi(e,t)),this}split(e,t=1,r){return Xv(this,e,t,r),this}addMark(e,t,r){return Vv(this,e,t,r),this}removeMark(e,t,r){return Hv(this,e,t,r),this}clearIncompatible(e,t,r){return Qc(this,e,t,r),this}}const Zu=Object.create(null);class le{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new u2(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=j.empty){let r=t.content.lastChild,o=null;for(let c=0;c<t.openEnd;c++)o=r,r=r.lastChild;let l=e.steps.length,a=this.ranges;for(let c=0;c<a.length;c++){let{$from:d,$to:h}=a[c],m=e.mapping.slice(l);e.replaceRange(m.map(d.pos),m.map(h.pos),c?j.empty:t),c==0&&zp(e,l,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:a,$to:c}=o[l],d=e.mapping.slice(r),h=d.map(a.pos),m=d.map(c.pos);l?e.deleteRange(h,m):(e.replaceRangeWith(h,m,t),zp(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let o=e.parent.inlineContent?new oe(e):gi(e.node(0),e.parent,e.pos,e.index(),t,r);if(o)return o;for(let l=e.depth-1;l>=0;l--){let a=t<0?gi(e.node(0),e.node(l),e.before(l+1),e.index(l),t,r):gi(e.node(0),e.node(l),e.after(l+1),e.index(l)+1,t,r);if(a)return a}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new rn(e.node(0))}static atStart(e){return gi(e,e,0,0,1)||new rn(e)}static atEnd(e){return gi(e,e,e.content.size,e.childCount,-1)||new rn(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Zu[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Zu)throw new RangeError("Duplicate use of selection JSON ID "+e);return Zu[e]=t,t.prototype.jsonID=e,t}getBookmark(){return oe.between(this.$anchor,this.$head).getBookmark()}}le.prototype.visible=!0;class u2{constructor(e,t){this.$from=e,this.$to=t}}let Ip=!1;function $p(n){!Ip&&!n.parent.inlineContent&&(Ip=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class oe extends le{constructor(e,t=e){$p(e),$p(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return le.near(r);let o=e.resolve(t.map(this.anchor));return new oe(o.parent.inlineContent?o:r,r)}replace(e,t=j.empty){if(super.replace(e,t),t==j.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof oe&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ll(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new oe(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let o=e.resolve(t);return new this(o,r==t?o:e.resolve(r))}static between(e,t,r){let o=e.pos-t.pos;if((!r||o)&&(r=o>=0?1:-1),!t.parent.inlineContent){let l=le.findFrom(t,r,!0)||le.findFrom(t,-r,!0);if(l)t=l.$head;else return le.near(t,r)}return e.parent.inlineContent||(o==0?e=t:(e=(le.findFrom(e,-r,!0)||le.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=o<0&&(e=t))),new oe(e,t)}}le.jsonID("text",oe);class Ll{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Ll(e.map(this.anchor),e.map(this.head))}resolve(e){return oe.between(e.resolve(this.anchor),e.resolve(this.head))}}class ee extends le{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:o}=t.mapResult(this.anchor),l=e.resolve(o);return r?le.near(l):new ee(l)}content(){return new j($.from(this.node),0,0)}eq(e){return e instanceof ee&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Yc(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ee(e.resolve(t.anchor))}static create(e,t){return new ee(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ee.prototype.visible=!1;le.jsonID("node",ee);class Yc{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Ll(r,r):new Yc(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&ee.isSelectable(r)?new ee(t):le.near(t)}}class rn extends le{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=j.empty){if(t==j.empty){e.delete(0,e.doc.content.size);let r=le.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new rn(e)}map(e){return new rn(e)}eq(e){return e instanceof rn}getBookmark(){return c2}}le.jsonID("all",rn);const c2={map(){return this},resolve(n){return new rn(n)}};function gi(n,e,t,r,o,l=!1){if(e.inlineContent)return oe.create(n,t);for(let a=r-(o>0?0:1);o>0?a<e.childCount:a>=0;a+=o){let c=e.child(a);if(c.isAtom){if(!l&&ee.isSelectable(c))return ee.create(n,t-(o<0?c.nodeSize:0))}else{let d=gi(n,c,t+o,o<0?c.childCount:0,o,l);if(d)return d}t+=c.nodeSize*o}return null}function zp(n,e,t){let r=n.steps.length-1;if(r<e)return;let o=n.steps[r];if(!(o instanceof We||o instanceof Ke))return;let l=n.mapping.maps[r],a;l.forEach((c,d,h,m)=>{a==null&&(a=m)}),n.setSelection(le.near(n.doc.resolve(a),t))}const Lp=1,nl=2,Bp=4;class d2 extends a2{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Lp)&~nl,this.storedMarks=null,this}get selectionSet(){return(this.updated&Lp)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=nl,this}ensureMarks(e){return Se.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&nl)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~nl,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Se.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let o=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let l=this.storedMarks;if(!l){let a=this.doc.resolve(t);l=r==t?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,o.text(e,l)),this.selection.empty||this.setSelection(le.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Bp,this}get scrolledIntoView(){return(this.updated&Bp)>0}}function Fp(n,e){return!e||!n?n:n.bind(e)}class bo{constructor(e,t,r){this.name=e,this.init=Fp(t.init,r),this.apply=Fp(t.apply,r)}}const f2=[new bo("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new bo("selection",{init(n,e){return n.selection||le.atStart(e.doc)},apply(n){return n.selection}}),new bo("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new bo("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class ec{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=f2.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new bo(r.key,r.spec.state,r))})}}class vi{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),o=null;for(;;){let l=!1;for(let a=0;a<this.config.plugins.length;a++){let c=this.config.plugins[a];if(c.spec.appendTransaction){let d=o?o[a].n:0,h=o?o[a].state:this,m=d<t.length&&c.spec.appendTransaction.call(c,d?t.slice(d):t,h,r);if(m&&r.filterTransaction(m,a)){if(m.setMeta("appendedTransaction",e),!o){o=[];for(let y=0;y<this.config.plugins.length;y++)o.push(y<a?{state:r,n:t.length}:{state:this,n:0})}t.push(m),r=r.applyInner(m),l=!0}o&&(o[a]={state:r,n:t.length})}}if(!l)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new vi(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let l=r[o];t[l.name]=l.apply(e,this[l.name],this,t)}return t}get tr(){return new d2(this)}static create(e){let t=new ec(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new vi(t);for(let o=0;o<t.fields.length;o++)r[t.fields[o].name]=t.fields[o].init(e,r);return r}reconfigure(e){let t=new ec(this.schema,e.plugins),r=t.fields,o=new vi(t);for(let l=0;l<r.length;l++){let a=r[l].name;o[a]=this.hasOwnProperty(a)?this[a]:r[l].init(e,o)}return o}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[r],l=o.spec.state;l&&l.toJSON&&(t[r]=l.toJSON.call(o,this[o.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new ec(e.schema,e.plugins),l=new vi(o);return o.fields.forEach(a=>{if(a.name=="doc")l.doc=or.fromJSON(e.schema,t.doc);else if(a.name=="selection")l.selection=le.fromJSON(l.doc,t.selection);else if(a.name=="storedMarks")t.storedMarks&&(l.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let d=r[c],h=d.spec.state;if(d.key==a.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(t,c)){l[a.name]=h.fromJSON.call(d,e,t[c],l);return}}l[a.name]=a.init(e,l)}}),l}}function z1(n,e,t){for(let r in n){let o=n[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=z1(o,e,{})),t[r]=o}return t}class _t{constructor(e){this.spec=e,this.props={},e.props&&z1(e.props,this,this.props),this.key=e.key?e.key.key:L1("plugin")}getState(e){return e[this.key]}}const tc=Object.create(null);function L1(n){return n in tc?n+"$"+ ++tc[n]:(tc[n]=0,n+"$")}class yn{constructor(e="key"){this.key=L1(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ze=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Ro=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Ec=null;const Tn=function(n,e,t){let r=Ec||(Ec=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},h2=function(){Ec=null},Fr=function(n,e,t,r){return t&&(jp(n,e,t,r,-1)||jp(n,e,t,r,1))},p2=/^(img|br|input|textarea|hr)$/i;function jp(n,e,t,r,o){for(;;){if(n==t&&e==r)return!0;if(e==(o<0?0:Ut(n))){let l=n.parentNode;if(!l||l.nodeType!=1||Bo(n)||p2.test(n.nodeName)||n.contentEditable=="false")return!1;e=Ze(n)+(o<0?0:1),n=l}else if(n.nodeType==1){if(n=n.childNodes[e+(o<0?-1:0)],n.contentEditable=="false")return!1;e=o<0?Ut(n):0}else return!1}}function Ut(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function m2(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Ut(n)}else if(n.parentNode&&!Bo(n))e=Ze(n),n=n.parentNode;else return null}}function g2(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Bo(n))e=Ze(n)+1,n=n.parentNode;else return null}}function y2(n,e,t){for(let r=e==0,o=e==Ut(n);r||o;){if(n==t)return!0;let l=Ze(n);if(n=n.parentNode,!n)return!1;r=r&&l==0,o=o&&l==Ut(n)}}function Bo(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Bl=function(n){return n.focusNode&&Fr(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Or(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function v2(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function k2(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Ut(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Ut(r.startContainer),r.startOffset)}}}const mn=typeof navigator<"u"?navigator:null,Vp=typeof document<"u"?document:null,pr=mn&&mn.userAgent||"",_c=/Edge\/(\d+)/.exec(pr),B1=/MSIE \d/.exec(pr),Tc=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pr),Mt=!!(B1||Tc||_c),lr=B1?document.documentMode:Tc?+Tc[1]:_c?+_c[1]:0,on=!Mt&&/gecko\/(\d+)/i.test(pr);on&&+(/Firefox\/(\d+)/.exec(pr)||[0,0])[1];const Oc=!Mt&&/Chrome\/(\d+)/.exec(pr),at=!!Oc,F1=Oc?+Oc[1]:0,pt=!Mt&&!!mn&&/Apple Computer/.test(mn.vendor),_i=pt&&(/Mobile\/\w+/.test(pr)||!!mn&&mn.maxTouchPoints>2),Wt=_i||(mn?/Mac/.test(mn.platform):!1),w2=mn?/Win/.test(mn.platform):!1,Nn=/Android \d/.test(pr),Fo=!!Vp&&"webkitFontSmoothing"in Vp.documentElement.style,S2=Fo?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function x2(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function En(n,e){return typeof n=="number"?n:n[e]}function C2(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function Hp(n,e,t){let r=n.someProp("scrollThreshold")||0,o=n.someProp("scrollMargin")||5,l=n.dom.ownerDocument;for(let a=t||n.dom;a;a=Ro(a)){if(a.nodeType!=1)continue;let c=a,d=c==l.body,h=d?x2(l):C2(c),m=0,y=0;if(e.top<h.top+En(r,"top")?y=-(h.top-e.top+En(o,"top")):e.bottom>h.bottom-En(r,"bottom")&&(y=e.bottom-e.top>h.bottom-h.top?e.top+En(o,"top")-h.top:e.bottom-h.bottom+En(o,"bottom")),e.left<h.left+En(r,"left")?m=-(h.left-e.left+En(o,"left")):e.right>h.right-En(r,"right")&&(m=e.right-h.right+En(o,"right")),m||y)if(d)l.defaultView.scrollBy(m,y);else{let v=c.scrollLeft,k=c.scrollTop;y&&(c.scrollTop+=y),m&&(c.scrollLeft+=m);let S=c.scrollLeft-v,x=c.scrollTop-k;e={left:e.left-S,top:e.top-x,right:e.right-S,bottom:e.bottom-x}}if(d||/^(fixed|sticky)$/.test(getComputedStyle(a).position))break}}function b2(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,o;for(let l=(e.left+e.right)/2,a=t+1;a<Math.min(innerHeight,e.bottom);a+=5){let c=n.root.elementFromPoint(l,a);if(!c||c==n.dom||!n.dom.contains(c))continue;let d=c.getBoundingClientRect();if(d.top>=t-20){r=c,o=d.top;break}}return{refDOM:r,refTop:o,stack:j1(n.dom)}}function j1(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Ro(r));return e}function M2({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;V1(t,r==0?0:r-e)}function V1(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:o,left:l}=n[t];r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=l&&(r.scrollLeft=l)}}let pi=null;function E2(n){if(n.setActive)return n.setActive();if(pi)return n.focus(pi);let e=j1(n);n.focus(pi==null?{get preventScroll(){return pi={preventScroll:!0},!0}}:void 0),pi||(pi=!1,V1(e,0))}function H1(n,e){let t,r=2e8,o,l=0,a=e.top,c=e.top,d,h;for(let m=n.firstChild,y=0;m;m=m.nextSibling,y++){let v;if(m.nodeType==1)v=m.getClientRects();else if(m.nodeType==3)v=Tn(m).getClientRects();else continue;for(let k=0;k<v.length;k++){let S=v[k];if(S.top<=a&&S.bottom>=c){a=Math.max(S.bottom,a),c=Math.min(S.top,c);let x=S.left>e.left?S.left-e.left:S.right<e.left?e.left-S.right:0;if(x<r){t=m,r=x,o=x&&t.nodeType==3?{left:S.right<e.left?S.right:S.left,top:e.top}:e,m.nodeType==1&&x&&(l=y+(e.left>=(S.left+S.right)/2?1:0));continue}}else S.top>e.top&&!d&&S.left<=e.left&&S.right>=e.left&&(d=m,h={left:Math.max(S.left,Math.min(S.right,e.left)),top:S.top});!t&&(e.left>=S.right&&e.top>=S.top||e.left>=S.left&&e.top>=S.bottom)&&(l=y+1)}}return!t&&d&&(t=d,o=h,r=0),t&&t.nodeType==3?_2(t,o):!t||r&&t.nodeType==1?{node:n,offset:l}:H1(t,o)}function _2(n,e){let t=n.nodeValue.length,r=document.createRange();for(let o=0;o<t;o++){r.setEnd(n,o+1),r.setStart(n,o);let l=Yn(r,1);if(l.top!=l.bottom&&Xc(e,l))return{node:n,offset:o+(e.left>=(l.left+l.right)/2?1:0)}}return{node:n,offset:0}}function Xc(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function T2(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function O2(n,e,t){let{node:r,offset:o}=H1(e,t),l=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();l=a.left!=a.right&&t.left>(a.left+a.right)/2?1:-1}return n.docView.posFromDOM(r,o,l)}function N2(n,e,t,r){let o=-1;for(let l=e,a=!1;l!=n.dom;){let c=n.docView.nearestDesc(l,!0),d;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((d=c.dom.getBoundingClientRect()).width||d.height)&&(c.node.isBlock&&c.parent&&(!a&&d.left>r.left||d.top>r.top?o=c.posBefore:(!a&&d.right<r.left||d.bottom<r.top)&&(o=c.posAfter),a=!0),!c.contentDOM&&o<0&&!c.node.isText))return(c.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?c.posBefore:c.posAfter;l=c.dom.parentNode}return o>-1?o:n.docView.posFromDOM(e,t,-1)}function W1(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),l=o;;){let a=n.childNodes[l];if(a.nodeType==1){let c=a.getClientRects();for(let d=0;d<c.length;d++){let h=c[d];if(Xc(e,h))return W1(a,e,h)}}if((l=(l+1)%r)==o)break}return n}function D2(n,e){let t=n.dom.ownerDocument,r,o=0,l=k2(t,e.left,e.top);l&&({node:r,offset:o}=l);let a=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),c;if(!a||!n.dom.contains(a.nodeType!=1?a.parentNode:a)){let h=n.dom.getBoundingClientRect();if(!Xc(e,h)||(a=W1(n.dom,e,h),!a))return null}if(pt)for(let h=a;r&&h;h=Ro(h))h.draggable&&(r=void 0);if(a=T2(a,e),r){if(on&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let m=r.childNodes[o],y;m.nodeName=="IMG"&&(y=m.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&o++}let h;Fo&&o&&r.nodeType==1&&(h=r.childNodes[o-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&o--,r==n.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=n.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(c=N2(n,r,o,e))}c==null&&(c=O2(n,a,e));let d=n.docView.nearestDesc(a,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function Wp(n){return n.top<n.bottom||n.left<n.right}function Yn(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(Wp(r))return r}return Array.prototype.find.call(t,Wp)||n.getBoundingClientRect()}const P2=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function U1(n,e,t){let{node:r,offset:o,atom:l}=n.docView.domFromPos(e,t<0?-1:1),a=Fo||on;if(r.nodeType==3)if(a&&(P2.test(r.nodeValue)||(t<0?!o:o==r.nodeValue.length))){let d=Yn(Tn(r,o,o),t);if(on&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let h=Yn(Tn(r,o-1,o-1),-1);if(h.top==d.top){let m=Yn(Tn(r,o,o+1),-1);if(m.top!=d.top)return So(m,m.left<h.left)}}return d}else{let d=o,h=o,m=t<0?1:-1;return t<0&&!o?(h++,m=-1):t>=0&&o==r.nodeValue.length?(d--,m=1):t<0?d--:h++,So(Yn(Tn(r,d,h),m),m<0)}if(!n.state.doc.resolve(e-(l||0)).parent.inlineContent){if(l==null&&o&&(t<0||o==Ut(r))){let d=r.childNodes[o-1];if(d.nodeType==1)return nc(d.getBoundingClientRect(),!1)}if(l==null&&o<Ut(r)){let d=r.childNodes[o];if(d.nodeType==1)return nc(d.getBoundingClientRect(),!0)}return nc(r.getBoundingClientRect(),t>=0)}if(l==null&&o&&(t<0||o==Ut(r))){let d=r.childNodes[o-1],h=d.nodeType==3?Tn(d,Ut(d)-(a?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return So(Yn(h,1),!1)}if(l==null&&o<Ut(r)){let d=r.childNodes[o];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?Tn(d,0,a?0:1):d.nodeType==1?d:null:null;if(h)return So(Yn(h,-1),!0)}return So(Yn(r.nodeType==3?Tn(r):r,-t),t>=0)}function So(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function nc(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function K1(n,e,t){let r=n.state,o=n.root.activeElement;r!=e&&n.updateState(e),o!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),o!=n.dom&&o&&o.focus()}}function R2(n,e,t){let r=e.selection,o=t=="up"?r.$from:r.$to;return K1(n,e,()=>{let{node:l}=n.docView.domFromPos(o.pos,t=="up"?-1:1);for(;;){let c=n.docView.nearestDesc(l,!0);if(!c)break;if(c.node.isBlock){l=c.contentDOM||c.dom;break}l=c.dom.parentNode}let a=U1(n,o.pos,1);for(let c=l.firstChild;c;c=c.nextSibling){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=Tn(c,0,c.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let m=d[h];if(m.bottom>m.top+1&&(t=="up"?a.top-m.top>(m.bottom-a.top)*2:m.bottom-a.bottom>(a.bottom-m.top)*2))return!1}}return!0})}const A2=/[\u0590-\u08ac]/;function I2(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,l=!o,a=o==r.parent.content.size,c=n.domSelection();return c?!A2.test(r.parent.textContent)||!c.modify?t=="left"||t=="backward"?l:a:K1(n,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:m,anchorOffset:y}=n.domSelectionRange(),v=c.caretBidiLevel;c.modify("move",t,"character");let k=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:S,focusOffset:x}=n.domSelectionRange(),b=S&&!k.contains(S.nodeType==1?S:S.parentNode)||d==S&&h==x;try{c.collapse(m,y),d&&(d!=m||h!=y)&&c.extend&&c.extend(d,h)}catch{}return v!=null&&(c.caretBidiLevel=v),b}):r.pos==r.start()||r.pos==r.end()}let Up=null,Kp=null,qp=!1;function $2(n,e,t){return Up==e&&Kp==t?qp:(Up=e,Kp=t,qp=t=="up"||t=="down"?R2(n,e,t):I2(n,e,t))}const qt=0,Jp=1,Dr=2,gn=3;class jo{constructor(e,t,r,o){this.parent=e,this.children=t,this.dom=r,this.contentDOM=o,this.dirty=qt,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let o=this.children[t];if(o==e)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let l,a;if(e==this.contentDOM)l=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.previousSibling}for(;l&&!((a=l.pmViewDesc)&&a.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(a)+a.size:this.posAtStart}else{let l,a;if(e==this.contentDOM)l=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.nextSibling}for(;l&&!((a=l.pmViewDesc)&&a.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(a):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=t>Ze(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let l=e;;l=l.parentNode){if(l==this.dom){o=!1;break}if(l.previousSibling)break}if(o==null&&t==e.childNodes.length)for(let l=e;;l=l.parentNode){if(l==this.dom){o=!0;break}if(l.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,o=e;o;o=o.parentNode){let l=this.getDesc(o),a;if(l&&(!t||l.node))if(r&&(a=l.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return l}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let o=e;o;o=o.parentNode){let l=this.getDesc(o);if(l)return l.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let o=this.children[t],l=r+o.size;if(r==e&&l!=r){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<l)return o.descAt(e-r-o.border);r=l}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,o=0;for(let l=0;r<this.children.length;r++){let a=this.children[r],c=l+a.size;if(c>e||a instanceof J1){o=e-l;break}l=c}if(o)return this.children[r].domFromPos(o-this.children[r].border,t);for(let l;r&&!(l=this.children[r-1]).size&&l instanceof q1&&l.side>=0;r--);if(t<=0){let l,a=!0;for(;l=r?this.children[r-1]:null,!(!l||l.dom.parentNode==this.contentDOM);r--,a=!1);return l&&t&&a&&!l.border&&!l.domAtom?l.domFromPos(l.size,t):{node:this.contentDOM,offset:l?Ze(l.dom)+1:0}}else{let l,a=!0;for(;l=r<this.children.length?this.children[r]:null,!(!l||l.dom.parentNode==this.contentDOM);r++,a=!1);return l&&a&&!l.border&&!l.domAtom?l.domFromPos(0,t):{node:this.contentDOM,offset:l?Ze(l.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,l=-1;for(let a=r,c=0;;c++){let d=this.children[c],h=a+d.size;if(o==-1&&e<=h){let m=a+d.border;if(e>=m&&t<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,t,m);e=a;for(let y=c;y>0;y--){let v=this.children[y-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){o=Ze(v.dom)+1;break}e-=v.size}o==-1&&(o=0)}if(o>-1&&(h>t||c==this.children.length-1)){t=h;for(let m=c+1;m<this.children.length;m++){let y=this.children[m];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){l=Ze(y.dom);break}t+=y.size}l==-1&&(l=this.contentDOM.childNodes.length);break}a=h}return{node:this.contentDOM,from:e,to:t,fromOffset:o,toOffset:l}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,o=!1){let l=Math.min(e,t),a=Math.max(e,t);for(let k=0,S=0;k<this.children.length;k++){let x=this.children[k],b=S+x.size;if(l>S&&a<b)return x.setSelection(e-S-x.border,t-S-x.border,r,o);S=b}let c=this.domFromPos(e,e?-1:1),d=t==e?c:this.domFromPos(t,t?-1:1),h=r.root.getSelection(),m=r.domSelectionRange(),y=!1;if((on||pt)&&e==t){let{node:k,offset:S}=c;if(k.nodeType==3){if(y=!!(S&&k.nodeValue[S-1]==`
`),y&&S==k.nodeValue.length)for(let x=k,b;x;x=x.parentNode){if(b=x.nextSibling){b.nodeName=="BR"&&(c=d={node:b.parentNode,offset:Ze(b)+1});break}let N=x.pmViewDesc;if(N&&N.node&&N.node.isBlock)break}}else{let x=k.childNodes[S-1];y=x&&(x.nodeName=="BR"||x.contentEditable=="false")}}if(on&&m.focusNode&&m.focusNode!=d.node&&m.focusNode.nodeType==1){let k=m.focusNode.childNodes[m.focusOffset];k&&k.contentEditable=="false"&&(o=!0)}if(!(o||y&&pt)&&Fr(c.node,c.offset,m.anchorNode,m.anchorOffset)&&Fr(d.node,d.offset,m.focusNode,m.focusOffset))return;let v=!1;if((h.extend||e==t)&&!y){h.collapse(c.node,c.offset);try{e!=t&&h.extend(d.node,d.offset),v=!0}catch{}}if(!v){if(e>t){let S=c;c=d,d=S}let k=document.createRange();k.setEnd(d.node,d.offset),k.setStart(c.node,c.offset),h.removeAllRanges(),h.addRange(k)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,o=0;o<this.children.length;o++){let l=this.children[o],a=r+l.size;if(r==a?e<=a&&t>=r:e<a&&t>r){let c=r+l.border,d=a-l.border;if(e>=c&&t<=d){this.dirty=e==r||t==a?Dr:Jp,e==c&&t==d&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=gn:l.markDirty(e-c,t-c);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?Dr:gn}r=a}this.dirty=Dr}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Dr:Jp;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class q1 extends jo{constructor(e,t,r,o){let l,a=t.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)})),!t.type.spec.raw){if(a.nodeType!=1){let c=document.createElement("span");c.appendChild(a),a=c}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=t,this.widget=t,l=this}matchesWidget(e){return this.dirty==qt&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class z2 extends jo{constructor(e,t,r,o){super(e,[],t,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class jr extends jo{constructor(e,t,r,o,l){super(e,[],r,o),this.mark=t,this.spec=l}static create(e,t,r,o){let l=o.nodeViews[t.type.name],a=l&&l(t,o,r);return(!a||!a.dom)&&(a=Vr.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new jr(e,t,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&gn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=gn&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=qt){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=qt}}slice(e,t,r){let o=jr.create(this.parent,this.mark,!0,r),l=this.children,a=this.size;t<a&&(l=Dc(l,t,a,r)),e>0&&(l=Dc(l,0,e,r));for(let c=0;c<l.length;c++)l[c].parent=o;return o.children=l,o}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ar extends jo{constructor(e,t,r,o,l,a,c,d,h){super(e,[],l,a),this.node=t,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=c}static create(e,t,r,o,l,a){let c=l.nodeViews[t.type.name],d,h=c&&c(t,l,()=>{if(!d)return a;if(d.parent)return d.parent.posBeforeChild(d)},r,o),m=h&&h.dom,y=h&&h.contentDOM;if(t.isText){if(!m)m=document.createTextNode(t.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:y}=Vr.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!y&&!t.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),t.type.spec.draggable&&(m.draggable=!0));let v=m;return m=Y1(m,r,t),h?d=new L2(e,t,r,o,m,y||null,v,h,l,a+1):t.isText?new Fl(e,t,r,o,m,v,l):new ar(e,t,r,o,m,y||null,v,l,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>$.empty)}return e}matchesNode(e,t,r){return this.dirty==qt&&e.eq(this.node)&&wl(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,o=t,l=e.composing?this.localCompositionInfo(e,t):null,a=l&&l.pos>-1?l:null,c=l&&l.pos<0,d=new F2(this,a&&a.node,e);H2(this.node,this.innerDeco,(h,m,y)=>{h.spec.marks?d.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!y&&d.syncToMarks(m==this.node.childCount?Se.none:this.node.child(m).marks,r,e),d.placeWidget(h,e,o)},(h,m,y,v)=>{d.syncToMarks(h.marks,r,e);let k;d.findNodeMatch(h,m,y,v)||c&&e.state.selection.from>o&&e.state.selection.to<o+h.nodeSize&&(k=d.findIndexWithChild(l.node))>-1&&d.updateNodeAt(h,m,y,k,e)||d.updateNextNode(h,m,y,e,v,o)||d.addNode(h,m,y,e,o),o+=h.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Dr)&&(a&&this.protectLocalComposition(e,a),Q1(this.contentDOM,this.children,e),_i&&W2(this.dom))}localCompositionInfo(e,t){let{from:r,to:o}=e.state.selection;if(!(e.state.selection instanceof oe)||r<t||o>t+this.node.content.size)return null;let l=e.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let a=l.nodeValue,c=U2(this.node.content,a,r-t,o-t);return c<0?null:{node:l,pos:c,text:a}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:o}){if(this.getDesc(t))return;let l=t;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let a=new z2(this,l,t,o);e.input.compositionNodes.push(a),this.children=Dc(this.children,r,r+o.length,e,a)}update(e,t,r,o){return this.dirty==gn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,o),!0)}updateInner(e,t,r,o){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=qt}updateOuterDeco(e){if(wl(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=G1(this.dom,this.nodeDOM,Nc(this.outerDeco,this.node,t),Nc(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Qp(n,e,t,r,o){Y1(r,e,n);let l=new ar(void 0,n,e,t,r,r,r,o,0);return l.contentDOM&&l.updateChildren(o,0),l}class Fl extends ar{constructor(e,t,r,o,l,a,c){super(e,t,r,o,l,null,a,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,o){return this.dirty==gn||this.dirty!=qt&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=qt||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=qt,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let o=this.node.cut(e,t),l=document.createTextNode(o.text);return new Fl(this.parent,o,this.outerDeco,this.innerDeco,l,l,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=gn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class J1 extends jo{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==qt&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class L2 extends ar{constructor(e,t,r,o,l,a,c,d,h,m){super(e,t,r,o,l,a,c,h,m),this.spec=d}update(e,t,r,o){if(this.dirty==gn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let l=this.spec.update(e,t,r);return l&&this.updateInner(e,t,r,o),l}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,o){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Q1(n,e,t){let r=n.firstChild,o=!1;for(let l=0;l<e.length;l++){let a=e[l],c=a.dom;if(c.parentNode==n){for(;c!=r;)r=Gp(r),o=!0;r=r.nextSibling}else o=!0,n.insertBefore(c,r);if(a instanceof jr){let d=r?r.previousSibling:n.lastChild;Q1(a.contentDOM,a.children,t),r=d?d.nextSibling:n.firstChild}}for(;r;)r=Gp(r),o=!0;o&&t.trackWrites==n&&(t.trackWrites=null)}const _o=function(n){n&&(this.nodeName=n)};_o.prototype=Object.create(null);const Pr=[new _o];function Nc(n,e,t){if(n.length==0)return Pr;let r=t?Pr[0]:new _o,o=[r];for(let l=0;l<n.length;l++){let a=n[l].type.attrs;if(a){a.nodeName&&o.push(r=new _o(a.nodeName));for(let c in a){let d=a[c];d!=null&&(t&&o.length==1&&o.push(r=new _o(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+d:c=="style"?r.style=(r.style?r.style+";":"")+d:c!="nodeName"&&(r[c]=d))}}}return o}function G1(n,e,t,r){if(t==Pr&&r==Pr)return e;let o=e;for(let l=0;l<r.length;l++){let a=r[l],c=t[l];if(l){let d;c&&c.nodeName==a.nodeName&&o!=n&&(d=o.parentNode)&&d.nodeName.toLowerCase()==a.nodeName||(d=document.createElement(a.nodeName),d.pmIsDeco=!0,d.appendChild(o),c=Pr[0]),o=d}B2(o,c||Pr[0],a)}return o}function B2(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=t.class?t.class.split(" ").filter(Boolean):[];for(let l=0;l<r.length;l++)o.indexOf(r[l])==-1&&n.classList.remove(r[l]);for(let l=0;l<o.length;l++)r.indexOf(o[l])==-1&&n.classList.add(o[l]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(e.style);)n.style.removeProperty(o[1])}t.style&&(n.style.cssText+=t.style)}}function Y1(n,e,t){return G1(n,n,Pr,Nc(e,t,n.nodeType!=1))}function wl(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function Gp(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class F2{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=j2(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let o=0,l=this.stack.length>>1,a=Math.min(l,e.length);for(;o<a&&(o==l-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<l;)this.destroyRest(),this.top.dirty=qt,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let h=this.top.children[d];if(h.matchesMark(e[l])&&!this.isLocked(h.dom)){c=d;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let d=jr.create(this.top,e[l],t,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,l++}}findNodeMatch(e,t,r,o){let l=-1,a;if(o>=this.preMatch.index&&(a=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,r))l=this.top.children.indexOf(a,this.index);else for(let c=this.index,d=Math.min(this.top.children.length,c+5);c<d;c++){let h=this.top.children[c];if(h.matchesNode(e,t,r)&&!this.preMatch.matched.has(h)){l=c;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(e,t,r,o,l){let a=this.top.children[o];return a.dirty==gn&&a.dom==a.contentDOM&&(a.dirty=Dr),a.update(e,t,r,l)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=t}}updateNextNode(e,t,r,o,l,a){for(let c=this.index;c<this.top.children.length;c++){let d=this.top.children[c];if(d instanceof ar){let h=this.preMatch.matched.get(d);if(h!=null&&h!=l)return!1;let m=d.dom,y,v=this.isLocked(m)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=gn&&wl(t,d.outerDeco));if(!v&&d.update(e,t,r,o))return this.destroyBetween(this.index,c),d.dom!=m&&(this.changed=!0),this.index++,!0;if(!v&&(y=this.recreateWrapper(d,e,t,r,o,a)))return this.destroyBetween(this.index,c),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=Dr,y.updateChildren(o,a+1),y.dirty=qt),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,o,l,a){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!wl(r,e.outerDeco)||!o.eq(e.innerDeco))return null;let c=ar.create(this.top,t,r,o,l,a);if(c.contentDOM){c.children=e.children,e.children=[];for(let d of c.children)d.parent=c}return e.destroy(),c}addNode(e,t,r,o,l){let a=ar.create(this.top,e,t,r,o,l);a.contentDOM&&a.updateChildren(o,l+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,t,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let l=new q1(this.top,e,t,r);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof jr;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Fl)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((pt||at)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new J1(this.top,[],r,null);t!=this.top?t.children.push(o):t.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function j2(n,e){let t=e,r=t.children.length,o=n.childCount,l=new Map,a=[];e:for(;o>0;){let c;for(;;)if(r){let h=t.children[r-1];if(h instanceof jr)t=h,r=h.children.length;else{c=h,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let d=c.node;if(d){if(d!=n.child(o-1))break;--o,l.set(c,o),a.push(c)}}return{index:o,matched:l,matches:a.reverse()}}function V2(n,e){return n.type.side-e.type.side}function H2(n,e,t,r){let o=e.locals(n),l=0;if(o.length==0){for(let h=0;h<n.childCount;h++){let m=n.child(h);r(m,o,e.forChild(l,m),h),l+=m.nodeSize}return}let a=0,c=[],d=null;for(let h=0;;){let m,y;for(;a<o.length&&o[a].to==l;){let b=o[a++];b.widget&&(m?(y||(y=[m])).push(b):m=b)}if(m)if(y){y.sort(V2);for(let b=0;b<y.length;b++)t(y[b],h,!!d)}else t(m,h,!!d);let v,k;if(d)k=-1,v=d,d=null;else if(h<n.childCount)k=h,v=n.child(h++);else break;for(let b=0;b<c.length;b++)c[b].to<=l&&c.splice(b--,1);for(;a<o.length&&o[a].from<=l&&o[a].to>l;)c.push(o[a++]);let S=l+v.nodeSize;if(v.isText){let b=S;a<o.length&&o[a].from<b&&(b=o[a].from);for(let N=0;N<c.length;N++)c[N].to<b&&(b=c[N].to);b<S&&(d=v.cut(b-l),v=v.cut(0,b-l),S=b,k=-1)}else for(;a<o.length&&o[a].to<S;)a++;let x=v.isInline&&!v.isLeaf?c.filter(b=>!b.inline):c.slice();r(v,x,e.forChild(l,v),k),l=S}}function W2(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function U2(n,e,t,r){for(let o=0,l=0;o<n.childCount&&l<=r;){let a=n.child(o++),c=l;if(l+=a.nodeSize,!a.isText)continue;let d=a.text;for(;o<n.childCount;){let h=n.child(o++);if(l+=h.nodeSize,!h.isText)break;d+=h.text}if(l>=t){if(l>=r&&d.slice(r-e.length-c,r-c)==e)return r-e.length;let h=c<r?d.lastIndexOf(e,r-c-1):-1;if(h>=0&&h+e.length+c>=t)return c+h;if(t==r&&d.length>=r+e.length-c&&d.slice(r-c,r-c+e.length)==e)return r}}return-1}function Dc(n,e,t,r,o){let l=[];for(let a=0,c=0;a<n.length;a++){let d=n[a],h=c,m=c+=d.size;h>=t||m<=e?l.push(d):(h<e&&l.push(d.slice(0,e-h,r)),o&&(l.push(o),o=void 0),m>t&&l.push(d.slice(t-h,d.size,r)))}return l}function Zc(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let o=n.docView.nearestDesc(t.focusNode),l=o&&o.size==0,a=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(a<0)return null;let c=r.resolve(a),d,h;if(Bl(t)){for(d=a;o&&!o.node;)o=o.parent;let y=o.node;if(o&&y.isAtom&&ee.isSelectable(y)&&o.parent&&!(y.isInline&&y2(t.focusNode,t.focusOffset,o.dom))){let v=o.posBefore;h=new ee(a==v?c:r.resolve(v))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let y=a,v=a;for(let k=0;k<t.rangeCount;k++){let S=t.getRangeAt(k);y=Math.min(y,n.docView.posFromDOM(S.startContainer,S.startOffset,1)),v=Math.max(v,n.docView.posFromDOM(S.endContainer,S.endOffset,-1))}if(y<0)return null;[d,a]=v==n.state.selection.anchor?[v,y]:[y,v],c=r.resolve(a)}else d=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(d<0)return null}let m=r.resolve(d);if(!h){let y=e=="pointer"||n.state.selection.head<c.pos&&!l?1:-1;h=ed(n,m,c,y)}return h}function X1(n){return n.editable?n.hasFocus():eg(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Dn(n,e=!1){let t=n.state.selection;if(Z1(n,t),!!X1(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&at){let r=n.domSelectionRange(),o=n.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&Fr(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)q2(n);else{let{anchor:r,head:o}=t,l,a;Yp&&!(t instanceof oe)&&(t.$from.parent.inlineContent||(l=Xp(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(a=Xp(n,t.to))),n.docView.setSelection(r,o,n,e),Yp&&(l&&Zp(l),a&&Zp(a)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&K2(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const Yp=pt||at&&F1<63;function Xp(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),o=r<t.childNodes.length?t.childNodes[r]:null,l=r?t.childNodes[r-1]:null;if(pt&&o&&o.contentEditable=="false")return rc(o);if((!o||o.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(o)return rc(o);if(l)return rc(l)}}function rc(n){return n.contentEditable="true",pt&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function Zp(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function K2(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,o=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=o)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!X1(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function q2(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,o=r.nodeName=="IMG";o?t.setStart(r.parentNode,Ze(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!o&&!n.state.selection.visible&&Mt&&lr<=11&&(r.disabled=!0,r.disabled=!1)}function Z1(n,e){if(e instanceof ee){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(em(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else em(n)}function em(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function ed(n,e,t,r){return n.someProp("createSelectionBetween",o=>o(n,e,t))||oe.between(e,t,r)}function tm(n){return n.editable&&!n.hasFocus()?!1:eg(n)}function eg(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function J2(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Fr(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Pc(n,e){let{$anchor:t,$head:r}=n.selection,o=e>0?t.max(r):t.min(r),l=o.parent.inlineContent?o.depth?n.doc.resolve(e>0?o.after():o.before()):null:o;return l&&le.findFrom(l,e)}function Xn(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function nm(n,e,t){let r=n.state.selection;if(r instanceof oe)if(t.indexOf("s")>-1){let{$head:o}=r,l=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let a=n.state.doc.resolve(o.pos+l.nodeSize*(e<0?-1:1));return Xn(n,new oe(r.$anchor,a))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let o=Pc(n.state,e);return o&&o instanceof ee?Xn(n,o):!1}else if(!(Wt&&t.indexOf("m")>-1)){let o=r.$head,l=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,a;if(!l||l.isText)return!1;let c=e<0?o.pos-l.nodeSize:o.pos;return l.isAtom||(a=n.docView.descAt(c))&&!a.contentDOM?ee.isSelectable(l)?Xn(n,new ee(e<0?n.state.doc.resolve(o.pos-l.nodeSize):o)):Fo?Xn(n,new oe(n.state.doc.resolve(e<0?c:c+l.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ee&&r.node.isInline)return Xn(n,new oe(e>0?r.$to:r.$from));{let o=Pc(n.state,e);return o?Xn(n,o):!1}}}function Sl(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function To(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function mi(n,e){return e<0?Q2(n):G2(n)}function Q2(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let o,l,a=!1;for(on&&t.nodeType==1&&r<Sl(t)&&To(t.childNodes[r],-1)&&(a=!0);;)if(r>0){if(t.nodeType!=1)break;{let c=t.childNodes[r-1];if(To(c,-1))o=t,l=--r;else if(c.nodeType==3)t=c,r=t.nodeValue.length;else break}}else{if(tg(t))break;{let c=t.previousSibling;for(;c&&To(c,-1);)o=t.parentNode,l=Ze(c),c=c.previousSibling;if(c)t=c,r=Sl(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}a?Rc(n,t,r):o&&Rc(n,o,l)}function G2(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let o=Sl(t),l,a;for(;;)if(r<o){if(t.nodeType!=1)break;let c=t.childNodes[r];if(To(c,1))l=t,a=++r;else break}else{if(tg(t))break;{let c=t.nextSibling;for(;c&&To(c,1);)l=c.parentNode,a=Ze(c)+1,c=c.nextSibling;if(c)t=c,r=0,o=Sl(t);else{if(t=t.parentNode,t==n.dom)break;r=o=0}}}l&&Rc(n,l,a)}function tg(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function Y2(n,e){for(;n&&e==n.childNodes.length&&!Bo(n);)e=Ze(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function X2(n,e){for(;n&&!e&&!Bo(n);)e=Ze(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function Rc(n,e,t){if(e.nodeType!=3){let l,a;(a=Y2(e,t))?(e=a,t=0):(l=X2(e,t))&&(e=l,t=l.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Bl(r)){let l=document.createRange();l.setEnd(e,t),l.setStart(e,t),r.removeAllRanges(),r.addRange(l)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:o}=n;setTimeout(()=>{n.state==o&&Dn(n)},50)}function rm(n,e){let t=n.state.doc.resolve(e);if(!(at||w2)&&t.parent.inlineContent){let o=n.coordsAtPos(e);if(e>t.start()){let l=n.coordsAtPos(e-1),a=(l.top+l.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(l.left-o.left)>1)return l.left<o.left?"ltr":"rtl"}if(e<t.end()){let l=n.coordsAtPos(e+1),a=(l.top+l.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(l.left-o.left)>1)return l.left>o.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function im(n,e,t){let r=n.state.selection;if(r instanceof oe&&!r.empty||t.indexOf("s")>-1||Wt&&t.indexOf("m")>-1)return!1;let{$from:o,$to:l}=r;if(!o.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let a=Pc(n.state,e);if(a&&a instanceof ee)return Xn(n,a)}if(!o.parent.inlineContent){let a=e<0?o:l,c=r instanceof rn?le.near(a,e):le.findFrom(a,e);return c?Xn(n,c):!1}return!1}function om(n,e){if(!(n.state.selection instanceof oe))return!0;let{$head:t,$anchor:r,empty:o}=n.state.selection;if(!t.sameParent(r))return!0;if(!o)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let l=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(l&&!l.isText){let a=n.state.tr;return e<0?a.delete(t.pos-l.nodeSize,t.pos):a.delete(t.pos,t.pos+l.nodeSize),n.dispatch(a),!0}return!1}function sm(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function Z2(n){if(!pt||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;sm(n,r,"true"),setTimeout(()=>sm(n,r,"false"),20)}return!1}function ek(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function tk(n,e){let t=e.keyCode,r=ek(e);if(t==8||Wt&&t==72&&r=="c")return om(n,-1)||mi(n,-1);if(t==46&&!e.shiftKey||Wt&&t==68&&r=="c")return om(n,1)||mi(n,1);if(t==13||t==27)return!0;if(t==37||Wt&&t==66&&r=="c"){let o=t==37?rm(n,n.state.selection.from)=="ltr"?-1:1:-1;return nm(n,o,r)||mi(n,o)}else if(t==39||Wt&&t==70&&r=="c"){let o=t==39?rm(n,n.state.selection.from)=="ltr"?1:-1:1;return nm(n,o,r)||mi(n,o)}else{if(t==38||Wt&&t==80&&r=="c")return im(n,-1,r)||mi(n,-1);if(t==40||Wt&&t==78&&r=="c")return Z2(n)||im(n,1,r)||mi(n,1);if(r==(Wt?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function ng(n,e){n.someProp("transformCopied",k=>{e=k(e,n)});let t=[],{content:r,openStart:o,openEnd:l}=e;for(;o>1&&l>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,l--;let k=r.firstChild;t.push(k.type.name,k.attrs!=k.type.defaultAttrs?k.attrs:null),r=k.content}let a=n.someProp("clipboardSerializer")||Vr.fromSchema(n.state.schema),c=ag(),d=c.createElement("div");d.appendChild(a.serializeFragment(r,{document:c}));let h=d.firstChild,m,y=0;for(;h&&h.nodeType==1&&(m=lg[h.nodeName.toLowerCase()]);){for(let k=m.length-1;k>=0;k--){let S=c.createElement(m[k]);for(;d.firstChild;)S.appendChild(d.firstChild);d.appendChild(S),y++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${o} ${l}${y?` -${y}`:""} ${JSON.stringify(t)}`);let v=n.someProp("clipboardTextSerializer",k=>k(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:v,slice:e}}function rg(n,e,t,r,o){let l=o.parent.type.spec.code,a,c;if(!t&&!e)return null;let d=e&&(r||l||!t);if(d){if(n.someProp("transformPastedText",v=>{e=v(e,l||r,n)}),l)return e?new j($.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):j.empty;let y=n.someProp("clipboardTextParser",v=>v(e,o,r,n));if(y)c=y;else{let v=o.marks(),{schema:k}=n.state,S=Vr.fromSchema(k);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(x=>{let b=a.appendChild(document.createElement("p"));x&&b.appendChild(S.serializeNode(k.text(x,v)))})}}else n.someProp("transformPastedHTML",y=>{t=y(t,n)}),a=ok(t),Fo&&sk(a);let h=a&&a.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let y=+m[3];y>0;y--){let v=a.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;a=v}if(c||(c=(n.someProp("clipboardParser")||n.someProp("domParser")||sr.fromSchema(n.state.schema)).parseSlice(a,{preserveWhitespace:!!(d||m),context:o,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!nk.test(v.parentNode.nodeName)?{ignore:!0}:null}})),m)c=lk(lm(c,+m[1],+m[2]),m[4]);else if(c=j.maxOpen(rk(c.content,o),!0),c.openStart||c.openEnd){let y=0,v=0;for(let k=c.content.firstChild;y<c.openStart&&!k.type.spec.isolating;y++,k=k.firstChild);for(let k=c.content.lastChild;v<c.openEnd&&!k.type.spec.isolating;v++,k=k.lastChild);c=lm(c,y,v)}return n.someProp("transformPasted",y=>{c=y(c,n)}),c}const nk=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function rk(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let o=e.node(t).contentMatchAt(e.index(t)),l,a=[];if(n.forEach(c=>{if(!a)return;let d=o.findWrapping(c.type),h;if(!d)return a=null;if(h=a.length&&l.length&&og(d,l,c,a[a.length-1],0))a[a.length-1]=h;else{a.length&&(a[a.length-1]=sg(a[a.length-1],l.length));let m=ig(c,d);a.push(m),o=o.matchType(m.type),l=d}}),a)return $.from(a)}return n}function ig(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,$.from(n));return n}function og(n,e,t,r,o){if(o<n.length&&o<e.length&&n[o]==e[o]){let l=og(n,e,t,r.lastChild,o+1);if(l)return r.copy(r.content.replaceChild(r.childCount-1,l));if(r.contentMatchAt(r.childCount).matchType(o==n.length-1?t.type:n[o+1]))return r.copy(r.content.append($.from(ig(t,n,o+1))))}}function sg(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,sg(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore($.empty,!0);return n.copy(t.append(r))}function Ac(n,e,t,r,o,l){let a=e<0?n.firstChild:n.lastChild,c=a.content;return n.childCount>1&&(l=0),o<r-1&&(c=Ac(c,e,t,r,o+1,l)),o>=t&&(c=e<0?a.contentMatchAt(0).fillBefore(c,l<=o).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore($.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,a.copy(c))}function lm(n,e,t){return e<n.openStart&&(n=new j(Ac(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new j(Ac(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const lg={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let am=null;function ag(){return am||(am=document.implementation.createHTMLDocument("title"))}let ic=null;function ik(n){let e=window.trustedTypes;return e?(ic||(ic=e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),ic.createHTML(n)):n}function ok(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=ag().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),o;if((o=r&&lg[r[1].toLowerCase()])&&(n=o.map(l=>"<"+l+">").join("")+n+o.map(l=>"</"+l+">").reverse().join("")),t.innerHTML=ik(n),o)for(let l=0;l<o.length;l++)t=t.querySelector(o[l])||t;return t}function sk(n){let e=n.querySelectorAll(at?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function lk(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:o,openStart:l,openEnd:a}=n;for(let c=r.length-2;c>=0;c-=2){let d=t.nodes[r[c]];if(!d||d.hasRequiredAttrs())break;o=$.from(d.create(r[c+1],o)),l++,a++}return new j(o,l,a)}const mt={},gt={},ak={touchstart:!0,touchmove:!0};class uk{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function ck(n){for(let e in mt){let t=mt[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{fk(n,r)&&!td(n,r)&&(n.editable||!(r.type in gt))&&t(n,r)},ak[e]?{passive:!0}:void 0)}pt&&n.dom.addEventListener("input",()=>null),Ic(n)}function rr(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function dk(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Ic(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>td(n,r))})}function td(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function fk(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function hk(n,e){!td(n,e)&&mt[e.type]&&(n.editable||!(e.type in gt))&&mt[e.type](n,e)}gt.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!cg(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Nn&&at&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),_i&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",o=>o(n,Or(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||tk(n,t)?t.preventDefault():rr(n,"key")};gt.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};gt.keypress=(n,e)=>{let t=e;if(cg(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Wt&&t.metaKey)return;if(n.someProp("handleKeyPress",o=>o(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof oe)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(t.charCode);!/[\r\n]/.test(o)&&!n.someProp("handleTextInput",l=>l(n,r.$from.pos,r.$to.pos,o))&&n.dispatch(n.state.tr.insertText(o).scrollIntoView()),t.preventDefault()}};function jl(n){return{left:n.clientX,top:n.clientY}}function pk(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function nd(n,e,t,r,o){if(r==-1)return!1;let l=n.state.doc.resolve(r);for(let a=l.depth+1;a>0;a--)if(n.someProp(e,c=>a>l.depth?c(n,t,l.nodeAfter,l.before(a),o,!0):c(n,t,l.node(a),l.before(a),o,!1)))return!0;return!1}function Ci(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function mk(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&ee.isSelectable(r)?(Ci(n,new ee(t)),!0):!1}function gk(n,e){if(e==-1)return!1;let t=n.state.selection,r,o;t instanceof ee&&(r=t.node);let l=n.state.doc.resolve(e);for(let a=l.depth+1;a>0;a--){let c=a>l.depth?l.nodeAfter:l.node(a);if(ee.isSelectable(c)){r&&t.$from.depth>0&&a>=t.$from.depth&&l.before(t.$from.depth+1)==t.$from.pos?o=l.before(t.$from.depth):o=l.before(a);break}}return o!=null?(Ci(n,ee.create(n.state.doc,o)),!0):!1}function yk(n,e,t,r,o){return nd(n,"handleClickOn",e,t,r)||n.someProp("handleClick",l=>l(n,e,r))||(o?gk(n,t):mk(n,t))}function vk(n,e,t,r){return nd(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",o=>o(n,e,r))}function kk(n,e,t,r){return nd(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",o=>o(n,e,r))||wk(n,t,r)}function wk(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Ci(n,oe.create(r,0,r.content.size)),!0):!1;let o=r.resolve(e);for(let l=o.depth+1;l>0;l--){let a=l>o.depth?o.nodeAfter:o.node(l),c=o.before(l);if(a.inlineContent)Ci(n,oe.create(r,c+1,c+1+a.content.size));else if(ee.isSelectable(a))Ci(n,ee.create(r,c));else continue;return!0}}function rd(n){return xl(n)}const ug=Wt?"metaKey":"ctrlKey";mt.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=rd(n),o=Date.now(),l="singleClick";o-n.input.lastClick.time<500&&pk(t,n.input.lastClick)&&!t[ug]&&(n.input.lastClick.type=="singleClick"?l="doubleClick":n.input.lastClick.type=="doubleClick"&&(l="tripleClick")),n.input.lastClick={time:o,x:t.clientX,y:t.clientY,type:l};let a=n.posAtCoords(jl(t));a&&(l=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new Sk(n,a,t,!!r)):(l=="doubleClick"?vk:kk)(n,a.pos,a.inside,t)?t.preventDefault():rr(n,"pointer"))};class Sk{constructor(e,t,r,o){this.view=e,this.pos=t,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[ug],this.allowDefault=r.shiftKey;let l,a;if(t.inside>-1)l=e.state.doc.nodeAt(t.inside),a=t.inside;else{let m=e.state.doc.resolve(t.pos);l=m.parent,a=m.depth?m.before():0}const c=o?null:r.target,d=c?e.docView.nearestDesc(c,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:h}=e.state;(r.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||h instanceof ee&&h.from<=a&&h.to>a)&&(this.mightDrag={node:l,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&on&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),rr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Dn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(jl(e))),this.updateAllowDefault(e),this.allowDefault||!t?rr(this.view,"pointer"):yk(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||pt&&this.mightDrag&&!this.mightDrag.node.isAtom||at&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Ci(this.view,le.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):rr(this.view,"pointer")}move(e){this.updateAllowDefault(e),rr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}mt.touchstart=n=>{n.input.lastTouch=Date.now(),rd(n),rr(n,"pointer")};mt.touchmove=n=>{n.input.lastTouch=Date.now(),rr(n,"pointer")};mt.contextmenu=n=>rd(n);function cg(n,e){return n.composing?!0:pt&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const xk=Nn?5e3:-1;gt.compositionstart=gt.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof oe&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),xl(n,!0),n.markCursor=null;else if(xl(n,!e.selection.empty),on&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let o=r.focusNode,l=r.focusOffset;o&&o.nodeType==1&&l!=0;){let a=l<0?o.lastChild:o.childNodes[l-1];if(!a)break;if(a.nodeType==3){let c=n.domSelection();c&&c.collapse(a,a.nodeValue.length);break}else o=a,l=-1}}n.input.composing=!0}dg(n,xk)};gt.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,dg(n,20))};function dg(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>xl(n),e))}function fg(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=bk());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function Ck(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=m2(e.focusNode,e.focusOffset),r=g2(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let o=r.pmViewDesc,l=n.domObserver.lastChangedTextNode;if(t==l||r==l)return l;if(!o||!o.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let a=t.pmViewDesc;if(!(!a||!a.isText(t.nodeValue)))return r}}return t||r}function bk(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function xl(n,e=!1){if(!(Nn&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),fg(n),e||n.docView&&n.docView.dirty){let t=Zc(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!n.state.selection.empty?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function Mk(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Ao=Mt&&lr<15||_i&&S2<604;mt.copy=gt.cut=(n,e)=>{let t=e,r=n.state.selection,o=t.type=="cut";if(r.empty)return;let l=Ao?null:t.clipboardData,a=r.content(),{dom:c,text:d}=ng(n,a);l?(t.preventDefault(),l.clearData(),l.setData("text/html",c.innerHTML),l.setData("text/plain",d)):Mk(n,c),o&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Ek(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function _k(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Io(n,r.value,null,o,e):Io(n,r.textContent,r.innerHTML,o,e)},50)}function Io(n,e,t,r,o){let l=rg(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",d=>d(n,o,l||j.empty)))return!0;if(!l)return!1;let a=Ek(l),c=a?n.state.tr.replaceSelectionWith(a,r):n.state.tr.replaceSelection(l);return n.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function hg(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}gt.paste=(n,e)=>{let t=e;if(n.composing&&!Nn)return;let r=Ao?null:t.clipboardData,o=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Io(n,hg(r),r.getData("text/html"),o,t)?t.preventDefault():_k(n,t)};class pg{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const mg=Wt?"altKey":"ctrlKey";mt.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let o=n.state.selection,l=o.empty?null:n.posAtCoords(jl(t)),a;if(!(l&&l.pos>=o.from&&l.pos<=(o instanceof ee?o.to-1:o.to))){if(r&&r.mightDrag)a=ee.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let y=n.docView.nearestDesc(t.target,!0);y&&y.node.type.spec.draggable&&y!=n.docView&&(a=ee.create(n.state.doc,y.posBefore))}}let c=(a||n.state.selection).content(),{dom:d,text:h,slice:m}=ng(n,c);(!t.dataTransfer.files.length||!at||F1>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Ao?"Text":"text/html",d.innerHTML),t.dataTransfer.effectAllowed="copyMove",Ao||t.dataTransfer.setData("text/plain",h),n.dragging=new pg(m,!t[mg],a)};mt.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};gt.dragover=gt.dragenter=(n,e)=>e.preventDefault();gt.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let o=n.posAtCoords(jl(t));if(!o)return;let l=n.state.doc.resolve(o.pos),a=r&&r.slice;a?n.someProp("transformPasted",S=>{a=S(a,n)}):a=rg(n,hg(t.dataTransfer),Ao?null:t.dataTransfer.getData("text/html"),!1,l);let c=!!(r&&!t[mg]);if(n.someProp("handleDrop",S=>S(n,t,a||j.empty,c))){t.preventDefault();return}if(!a)return;t.preventDefault();let d=a?P1(n.state.doc,l.pos,a):l.pos;d==null&&(d=l.pos);let h=n.state.tr;if(c){let{node:S}=r;S?S.replace(h):h.deleteSelection()}let m=h.mapping.map(d),y=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,v=h.doc;if(y?h.replaceRangeWith(m,m,a.content.firstChild):h.replaceRange(m,m,a),h.doc.eq(v))return;let k=h.doc.resolve(m);if(y&&ee.isSelectable(a.content.firstChild)&&k.nodeAfter&&k.nodeAfter.sameMarkup(a.content.firstChild))h.setSelection(new ee(k));else{let S=h.mapping.map(d);h.mapping.maps[h.mapping.maps.length-1].forEach((x,b,N,L)=>S=L),h.setSelection(ed(n,k,h.doc.resolve(S)))}n.focus(),n.dispatch(h.setMeta("uiEvent","drop"))};mt.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Dn(n)},20))};mt.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};mt.beforeinput=(n,e)=>{if(at&&Nn&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",l=>l(n,Or(8,"Backspace")))))return;let{$cursor:o}=n.state.selection;o&&o.pos>0&&n.dispatch(n.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let n in gt)mt[n]=gt[n];function $o(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Cl{constructor(e,t){this.toDOM=e,this.spec=t||$r,this.side=this.spec.side||0}map(e,t,r,o){let{pos:l,deleted:a}=e.mapResult(t.from+o,this.side<0?-1:1);return a?null:new Kt(l-r,l-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Cl&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&$o(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ur{constructor(e,t){this.attrs=e,this.spec=t||$r}map(e,t,r,o){let l=e.map(t.from+o,this.spec.inclusiveStart?-1:1)-r,a=e.map(t.to+o,this.spec.inclusiveEnd?1:-1)-r;return l>=a?null:new Kt(l,a,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof ur&&$o(this.attrs,e.attrs)&&$o(this.spec,e.spec)}static is(e){return e.type instanceof ur}destroy(){}}class id{constructor(e,t){this.attrs=e,this.spec=t||$r}map(e,t,r,o){let l=e.mapResult(t.from+o,1);if(l.deleted)return null;let a=e.mapResult(t.to+o,-1);return a.deleted||a.pos<=l.pos?null:new Kt(l.pos-r,a.pos-r,this)}valid(e,t){let{index:r,offset:o}=e.content.findIndex(t.from),l;return o==t.from&&!(l=e.child(r)).isText&&o+l.nodeSize==t.to}eq(e){return this==e||e instanceof id&&$o(this.attrs,e.attrs)&&$o(this.spec,e.spec)}destroy(){}}class Kt{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Kt(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Kt(e,e,new Cl(t,r))}static inline(e,t,r,o){return new Kt(e,t,new ur(r,o))}static node(e,t,r,o){return new Kt(e,t,new id(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof ur}get widget(){return this.type instanceof Cl}}const yi=[],$r={};class Be{constructor(e,t){this.local=e.length?e:yi,this.children=t.length?t:yi}static create(e,t){return t.length?bl(t,e,0,$r):st}find(e,t,r){let o=[];return this.findInner(e??0,t??1e9,o,0,r),o}findInner(e,t,r,o,l){for(let a=0;a<this.local.length;a++){let c=this.local[a];c.from<=t&&c.to>=e&&(!l||l(c.spec))&&r.push(c.copy(c.from+o,c.to+o))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){let c=this.children[a]+1;this.children[a+2].findInner(e-c,t-c,r,o+c,l)}}map(e,t,r){return this==st||e.maps.length==0?this:this.mapInner(e,t,0,0,r||$r)}mapInner(e,t,r,o,l){let a;for(let c=0;c<this.local.length;c++){let d=this.local[c].map(e,r,o);d&&d.type.valid(t,d)?(a||(a=[])).push(d):l.onRemove&&l.onRemove(this.local[c].spec)}return this.children.length?Tk(this.children,a||[],e,t,r,o,l):a?new Be(a.sort(zr),yi):st}add(e,t){return t.length?this==st?Be.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let o,l=0;e.forEach((c,d)=>{let h=d+r,m;if(m=yg(t,c,h)){for(o||(o=this.children.slice());l<o.length&&o[l]<d;)l+=3;o[l]==d?o[l+2]=o[l+2].addInner(c,m,h+1):o.splice(l,0,d,d+c.nodeSize,bl(m,c,h+1,$r)),l+=3}});let a=gg(l?vg(t):t,-r);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||a.splice(c--,1);return new Be(a.length?this.local.concat(a).sort(zr):this.local,o||this.children)}remove(e){return e.length==0||this==st?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,o=this.local;for(let l=0;l<r.length;l+=3){let a,c=r[l]+t,d=r[l+1]+t;for(let m=0,y;m<e.length;m++)(y=e[m])&&y.from>c&&y.to<d&&(e[m]=null,(a||(a=[])).push(y));if(!a)continue;r==this.children&&(r=this.children.slice());let h=r[l+2].removeInner(a,c+1);h!=st?r[l+2]=h:(r.splice(l,3),l-=3)}if(o.length){for(let l=0,a;l<e.length;l++)if(a=e[l])for(let c=0;c<o.length;c++)o[c].eq(a,t)&&(o==this.local&&(o=this.local.slice()),o.splice(c--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new Be(o,r):st}forChild(e,t){if(this==st)return this;if(t.isLeaf)return Be.empty;let r,o;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let l=e+1,a=l+t.content.size;for(let c=0;c<this.local.length;c++){let d=this.local[c];if(d.from<a&&d.to>l&&d.type instanceof ur){let h=Math.max(l,d.from)-l,m=Math.min(a,d.to)-l;h<m&&(o||(o=[])).push(d.copy(h,m))}}if(o){let c=new Be(o.sort(zr),yi);return r?new er([c,r]):c}return r||st}eq(e){if(this==e)return!0;if(!(e instanceof Be)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return od(this.localsInner(e))}localsInner(e){if(this==st)return yi;if(e.inlineContent||!this.local.some(ur.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof ur||t.push(this.local[r]);return t}forEachSet(e){e(this)}}Be.empty=new Be([],[]);Be.removeOverlap=od;const st=Be.empty;class er{constructor(e){this.members=e}map(e,t){const r=this.members.map(o=>o.map(e,t,$r));return er.from(r)}forChild(e,t){if(t.isLeaf)return Be.empty;let r=[];for(let o=0;o<this.members.length;o++){let l=this.members[o].forChild(e,t);l!=st&&(l instanceof er?r=r.concat(l.members):r.push(l))}return er.from(r)}eq(e){if(!(e instanceof er)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let o=0;o<this.members.length;o++){let l=this.members[o].localsInner(e);if(l.length)if(!t)t=l;else{r&&(t=t.slice(),r=!1);for(let a=0;a<l.length;a++)t.push(l[a])}}return t?od(r?t:t.sort(zr)):yi}static from(e){switch(e.length){case 0:return st;case 1:return e[0];default:return new er(e.every(t=>t instanceof Be)?e:e.reduce((t,r)=>t.concat(r instanceof Be?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function Tk(n,e,t,r,o,l,a){let c=n.slice();for(let h=0,m=l;h<t.maps.length;h++){let y=0;t.maps[h].forEach((v,k,S,x)=>{let b=x-S-(k-v);for(let N=0;N<c.length;N+=3){let L=c[N+1];if(L<0||v>L+m-y)continue;let Q=c[N]+m-y;k>=Q?c[N+1]=v<=Q?-2:-1:v>=m&&b&&(c[N]+=b,c[N+1]+=b)}y+=b}),m=t.maps[h].map(m,-1)}let d=!1;for(let h=0;h<c.length;h+=3)if(c[h+1]<0){if(c[h+1]==-2){d=!0,c[h+1]=-1;continue}let m=t.map(n[h]+l),y=m-o;if(y<0||y>=r.content.size){d=!0;continue}let v=t.map(n[h+1]+l,-1),k=v-o,{index:S,offset:x}=r.content.findIndex(y),b=r.maybeChild(S);if(b&&x==y&&x+b.nodeSize==k){let N=c[h+2].mapInner(t,b,m+1,n[h]+l+1,a);N!=st?(c[h]=y,c[h+1]=k,c[h+2]=N):(c[h+1]=-2,d=!0)}else d=!0}if(d){let h=Ok(c,n,e,t,o,l,a),m=bl(h,r,0,a);e=m.local;for(let y=0;y<c.length;y+=3)c[y+1]<0&&(c.splice(y,3),y-=3);for(let y=0,v=0;y<m.children.length;y+=3){let k=m.children[y];for(;v<c.length&&c[v]<k;)v+=3;c.splice(v,0,m.children[y],m.children[y+1],m.children[y+2])}}return new Be(e.sort(zr),c)}function gg(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let o=n[r];t.push(new Kt(o.from+e,o.to+e,o.type))}return t}function Ok(n,e,t,r,o,l,a){function c(d,h){for(let m=0;m<d.local.length;m++){let y=d.local[m].map(r,o,h);y?t.push(y):a.onRemove&&a.onRemove(d.local[m].spec)}for(let m=0;m<d.children.length;m+=3)c(d.children[m+2],d.children[m]+h+1)}for(let d=0;d<n.length;d+=3)n[d+1]==-1&&c(n[d+2],e[d]+l+1);return t}function yg(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,o=null;for(let l=0,a;l<n.length;l++)(a=n[l])&&a.from>t&&a.to<r&&((o||(o=[])).push(a),n[l]=null);return o}function vg(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function bl(n,e,t,r){let o=[],l=!1;e.forEach((c,d)=>{let h=yg(n,c,d+t);if(h){l=!0;let m=bl(h,c,t+d+1,r);m!=st&&o.push(d,d+c.nodeSize,m)}});let a=gg(l?vg(n):n,-t).sort(zr);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||(r.onRemove&&r.onRemove(a[c].spec),a.splice(c--,1));return a.length||o.length?new Be(a,o):st}function zr(n,e){return n.from-e.from||n.to-e.to}function od(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let o=t+1;o<e.length;o++){let l=e[o];if(l.from==r.from){l.to!=r.to&&(e==n&&(e=n.slice()),e[o]=l.copy(l.from,r.to),um(e,o+1,l.copy(r.to,l.to)));continue}else{l.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,l.from),um(e,o,r.copy(l.from,r.to)));break}}}return e}function um(n,e,t){for(;e<n.length&&zr(t,n[e])>0;)e++;n.splice(e,0,t)}function oc(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=st&&e.push(r)}),n.cursorWrapper&&e.push(Be.create(n.state.doc,[n.cursorWrapper.deco])),er.from(e)}const Nk={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Dk=Mt&&lr<=11;class Pk{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Rk{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Pk,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);Mt&&lr<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),Dk&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Nk)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(tm(this.view)){if(this.suppressingSelectionUpdates)return Dn(this.view);if(Mt&&lr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Fr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let l=e.focusNode;l;l=Ro(l))t.add(l);for(let l=e.anchorNode;l;l=Ro(l))if(t.has(l)){r=l;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&tm(e)&&!this.ignoreSelectionChange(r),l=-1,a=-1,c=!1,d=[];if(e.editable)for(let m=0;m<t.length;m++){let y=this.registerMutation(t[m],d);y&&(l=l<0?y.from:Math.min(y.from,l),a=a<0?y.to:Math.max(y.to,a),y.typeOver&&(c=!0))}if(on&&d.length){let m=d.filter(y=>y.nodeName=="BR");if(m.length==2){let[y,v]=m;y.parentNode&&y.parentNode.parentNode==v.parentNode?v.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let v of m){let k=v.parentNode;k&&k.nodeName=="LI"&&(!y||$k(e,y)!=k)&&v.remove()}}}let h=null;l<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Bl(r)&&(h=Zc(e))&&h.eq(le.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Dn(e),this.currentSelection.set(r),e.scrollToSelection()):(l>-1||o)&&(l>-1&&(e.docView.markDirty(l,a),Ak(e)),this.handleDOMChange(l,a,c,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Dn(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let y=e.addedNodes[m];t.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let o=e.previousSibling,l=e.nextSibling;if(Mt&&lr<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:y,nextSibling:v}=e.addedNodes[m];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(o=y),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(l=v)}let a=o&&o.parentNode==e.target?Ze(o)+1:0,c=r.localPosFromDOM(e.target,a,-1),d=l&&l.parentNode==e.target?Ze(l):e.target.childNodes.length,h=r.localPosFromDOM(e.target,d,1);return{from:c,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let cm=new WeakMap,dm=!1;function Ak(n){if(!cm.has(n)&&(cm.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=on,dm)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),dm=!0}}function fm(n,e){let t=e.startContainer,r=e.startOffset,o=e.endContainer,l=e.endOffset,a=n.domAtPos(n.state.selection.anchor);return Fr(a.node,a.offset,o,l)&&([t,r,o,l]=[o,l,t,r]),{anchorNode:t,anchorOffset:r,focusNode:o,focusOffset:l}}function Ik(n,e){if(e.getComposedRanges){let o=e.getComposedRanges(n.root)[0];if(o)return fm(n,o)}let t;function r(o){o.preventDefault(),o.stopImmediatePropagation(),t=o.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?fm(n,t):null}function $k(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function zk(n,e,t){let{node:r,fromOffset:o,toOffset:l,from:a,to:c}=n.docView.parseRange(e,t),d=n.domSelectionRange(),h,m=d.anchorNode;if(m&&n.dom.contains(m.nodeType==1?m:m.parentNode)&&(h=[{node:m,offset:d.anchorOffset}],Bl(d)||h.push({node:d.focusNode,offset:d.focusOffset})),at&&n.input.lastKeyCode===8)for(let b=l;b>o;b--){let N=r.childNodes[b-1],L=N.pmViewDesc;if(N.nodeName=="BR"&&!L){l=b;break}if(!L||L.size)break}let y=n.state.doc,v=n.someProp("domParser")||sr.fromSchema(n.state.schema),k=y.resolve(a),S=null,x=v.parse(r,{topNode:k.parent,topMatch:k.parent.contentMatchAt(k.index()),topOpen:!0,from:o,to:l,preserveWhitespace:k.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:Lk,context:k});if(h&&h[0].pos!=null){let b=h[0].pos,N=h[1]&&h[1].pos;N==null&&(N=b),S={anchor:b+a,head:N+a}}return{doc:x,sel:S,from:a,to:c}}function Lk(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(pt&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||pt&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Bk=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Fk(n,e,t,r,o){let l=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let se=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,Fe=Zc(n,se);if(Fe&&!n.state.selection.eq(Fe)){if(at&&Nn&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",$t=>$t(n,Or(13,"Enter"))))return;let It=n.state.tr.setSelection(Fe);se=="pointer"?It.setMeta("pointer",!0):se=="key"&&It.scrollIntoView(),l&&It.setMeta("composition",l),n.dispatch(It)}return}let a=n.state.doc.resolve(e),c=a.sharedDepth(t);e=a.before(c+1),t=n.state.doc.resolve(t).after(c+1);let d=n.state.selection,h=zk(n,e,t),m=n.state.doc,y=m.slice(h.from,h.to),v,k;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(v=n.state.selection.to,k="end"):(v=n.state.selection.from,k="start"),n.input.lastKeyCode=null;let S=Hk(y.content,h.doc.content,h.from,v,k);if(S&&n.input.domChangeCount++,(_i&&n.input.lastIOSEnter>Date.now()-225||Nn)&&o.some(se=>se.nodeType==1&&!Bk.test(se.nodeName))&&(!S||S.endA>=S.endB)&&n.someProp("handleKeyDown",se=>se(n,Or(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!S)if(r&&d instanceof oe&&!d.empty&&d.$head.sameParent(d.$anchor)&&!n.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))S={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let se=hm(n,n.state.doc,h.sel);if(se&&!se.eq(n.state.selection)){let Fe=n.state.tr.setSelection(se);l&&Fe.setMeta("composition",l),n.dispatch(Fe)}}return}n.state.selection.from<n.state.selection.to&&S.start==S.endB&&n.state.selection instanceof oe&&(S.start>n.state.selection.from&&S.start<=n.state.selection.from+2&&n.state.selection.from>=h.from?S.start=n.state.selection.from:S.endA<n.state.selection.to&&S.endA>=n.state.selection.to-2&&n.state.selection.to<=h.to&&(S.endB+=n.state.selection.to-S.endA,S.endA=n.state.selection.to)),Mt&&lr<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>h.from&&h.doc.textBetween(S.start-h.from-1,S.start-h.from+1)==" "&&(S.start--,S.endA--,S.endB--);let x=h.doc.resolveNoCache(S.start-h.from),b=h.doc.resolveNoCache(S.endB-h.from),N=m.resolve(S.start),L=x.sameParent(b)&&x.parent.inlineContent&&N.end()>=S.endA,Q;if((_i&&n.input.lastIOSEnter>Date.now()-225&&(!L||o.some(se=>se.nodeName=="DIV"||se.nodeName=="P"))||!L&&x.pos<h.doc.content.size&&!x.sameParent(b)&&(Q=le.findFrom(h.doc.resolve(x.pos+1),1,!0))&&Q.head==b.pos)&&n.someProp("handleKeyDown",se=>se(n,Or(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>S.start&&Vk(m,S.start,S.endA,x,b)&&n.someProp("handleKeyDown",se=>se(n,Or(8,"Backspace")))){Nn&&at&&n.domObserver.suppressSelectionUpdates();return}at&&S.endB==S.start&&(n.input.lastChromeDelete=Date.now()),Nn&&!L&&x.start()!=b.start()&&b.parentOffset==0&&x.depth==b.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==S.endA&&(S.endB-=2,b=h.doc.resolveNoCache(S.endB-h.from),setTimeout(()=>{n.someProp("handleKeyDown",function(se){return se(n,Or(13,"Enter"))})},20));let G=S.start,re=S.endA,Y,he,ve;if(L){if(x.pos==b.pos)Mt&&lr<=11&&x.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Dn(n),20)),Y=n.state.tr.delete(G,re),he=m.resolve(S.start).marksAcross(m.resolve(S.endA));else if(S.endA==S.endB&&(ve=jk(x.parent.content.cut(x.parentOffset,b.parentOffset),N.parent.content.cut(N.parentOffset,S.endA-N.start()))))Y=n.state.tr,ve.type=="add"?Y.addMark(G,re,ve.mark):Y.removeMark(G,re,ve.mark);else if(x.parent.child(x.index()).isText&&x.index()==b.index()-(b.textOffset?0:1)){let se=x.parent.textBetween(x.parentOffset,b.parentOffset);if(n.someProp("handleTextInput",Fe=>Fe(n,G,re,se)))return;Y=n.state.tr.insertText(se,G,re)}}if(Y||(Y=n.state.tr.replace(G,re,h.doc.slice(S.start-h.from,S.endB-h.from))),h.sel){let se=hm(n,Y.doc,h.sel);se&&!(at&&n.composing&&se.empty&&(S.start!=S.endB||n.input.lastChromeDelete<Date.now()-100)&&(se.head==G||se.head==Y.mapping.map(re)-1)||Mt&&se.empty&&se.head==G)&&Y.setSelection(se)}he&&Y.ensureMarks(he),l&&Y.setMeta("composition",l),n.dispatch(Y.scrollIntoView())}function hm(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:ed(n,e.resolve(t.anchor),e.resolve(t.head))}function jk(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,o=t,l=r,a,c,d;for(let m=0;m<r.length;m++)o=r[m].removeFromSet(o);for(let m=0;m<t.length;m++)l=t[m].removeFromSet(l);if(o.length==1&&l.length==0)c=o[0],a="add",d=m=>m.mark(c.addToSet(m.marks));else if(o.length==0&&l.length==1)c=l[0],a="remove",d=m=>m.mark(c.removeFromSet(m.marks));else return null;let h=[];for(let m=0;m<e.childCount;m++)h.push(d(e.child(m)));if($.from(h).eq(n))return{mark:c,type:a}}function Vk(n,e,t,r,o){if(t-e<=o.pos-r.pos||sc(r,!0,!1)<o.pos)return!1;let l=n.resolve(e);if(!r.parent.isTextblock){let c=l.nodeAfter;return c!=null&&t==e+c.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let a=n.resolve(sc(l,!0,!0));return!a.parent.isTextblock||a.pos>t||sc(a,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function sc(n,e,t){let r=n.depth,o=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,o++,e=!1;if(t){let l=n.node(r).maybeChild(n.indexAfter(r));for(;l&&!l.isLeaf;)l=l.firstChild,o++}return o}function Hk(n,e,t,r,o){let l=n.findDiffStart(e,t);if(l==null)return null;let{a,b:c}=n.findDiffEnd(e,t+n.size,t+e.size);if(o=="end"){let d=Math.max(0,l-Math.min(a,c));r-=a+d-l}if(a<l&&n.size<e.size){let d=r<=l&&r>=a?l-r:0;l-=d,l&&l<e.size&&pm(e.textBetween(l-1,l+1))&&(l+=d?1:-1),c=l+(c-a),a=l}else if(c<l){let d=r<=l&&r>=c?l-r:0;l-=d,l&&l<n.size&&pm(n.textBetween(l-1,l+1))&&(l+=d?1:-1),a=l+(a-c),c=l}return{start:l,endA:a,endB:c}}function pm(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class Wk{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new uk,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(km),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=ym(this),gm(this),this.nodeViews=vm(this),this.docView=Qp(this.state.doc,mm(this),oc(this),this.dom,this),this.domObserver=new Rk(this,(r,o,l,a)=>Fk(this,r,o,l,a)),this.domObserver.start(),ck(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Ic(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(km),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let o=this.state,l=!1,a=!1;e.storedMarks&&this.composing&&(fg(this),a=!0),this.state=e;let c=o.plugins!=e.plugins||this._props.plugins!=t.plugins;if(c||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let k=vm(this);Kk(k,this.nodeViews)&&(this.nodeViews=k,l=!0)}(c||t.handleDOMEvents!=this._props.handleDOMEvents)&&Ic(this),this.editable=ym(this),gm(this);let d=oc(this),h=mm(this),m=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",y=l||!this.docView.matchesNode(e.doc,h,d);(y||!e.selection.eq(o.selection))&&(a=!0);let v=m=="preserve"&&a&&this.dom.style.overflowAnchor==null&&b2(this);if(a){this.domObserver.stop();let k=y&&(Mt||at)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&Uk(o.selection,e.selection);if(y){let S=at?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Ck(this)),(l||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=Qp(e.doc,h,d,this.dom,this)),S&&!this.trackWrites&&(k=!0)}k||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&J2(this))?Dn(this,k):(Z1(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():v&&M2(v)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof ee){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&Hp(this,t.getBoundingClientRect(),e)}else Hp(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let l=r.from+(this.state.doc.content.size-t.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==r.node&&(o=l)}this.dragging=new pg(e.slice,e.move,o<0?void 0:ee.create(this.state.doc,o))}someProp(e,t){let r=this._props&&this._props[e],o;if(r!=null&&(o=t?t(r):r))return o;for(let a=0;a<this.directPlugins.length;a++){let c=this.directPlugins[a].props[e];if(c!=null&&(o=t?t(c):c))return o}let l=this.state.plugins;if(l)for(let a=0;a<l.length;a++){let c=l[a].props[e];if(c!=null&&(o=t?t(c):c))return o}}hasFocus(){if(Mt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&E2(this.dom),Dn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return D2(this,e)}coordsAtPos(e,t=1){return U1(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let o=this.docView.posFromDOM(e,t,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,t){return $2(this,t||this.state,e)}pasteHTML(e,t){return Io(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Io(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(dk(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],oc(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,h2())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return hk(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?pt&&this.root.nodeType===11&&v2(this.dom.ownerDocument)==this.dom&&Ik(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function mm(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Kt.node(0,n.state.doc.content.size,e)]}function gm(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Kt.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function ym(n){return!n.someProp("editable",e=>e(n.state)===!1)}function Uk(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function vm(n){let e=Object.create(null);function t(r){for(let o in r)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=r[o])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function Kk(n,e){let t=0,r=0;for(let o in n){if(n[o]!=e[o])return!0;t++}for(let o in e)r++;return t!=r}function km(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var dr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ml={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},qk=typeof navigator<"u"&&/Mac/.test(navigator.platform),Jk=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var et=0;et<10;et++)dr[48+et]=dr[96+et]=String(et);for(var et=1;et<=24;et++)dr[et+111]="F"+et;for(var et=65;et<=90;et++)dr[et]=String.fromCharCode(et+32),Ml[et]=String.fromCharCode(et);for(var lc in dr)Ml.hasOwnProperty(lc)||(Ml[lc]=dr[lc]);function Qk(n){var e=qk&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Jk&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Ml:dr)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const Gk=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Yk(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,o,l,a;for(let c=0;c<e.length-1;c++){let d=e[c];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))o=!0;else if(/^s(hift)?$/i.test(d))l=!0;else if(/^mod$/i.test(d))Gk?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(t="Alt-"+t),o&&(t="Ctrl-"+t),a&&(t="Meta-"+t),l&&(t="Shift-"+t),t}function Xk(n){let e=Object.create(null);for(let t in n)e[Yk(t)]=n[t];return e}function ac(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function Zk(n){return new _t({props:{handleKeyDown:kg(n)}})}function kg(n){let e=Xk(n);return function(t,r){let o=Qk(r),l,a=e[ac(o,r)];if(a&&a(t.state,t.dispatch,t))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let c=e[ac(o,r,!1)];if(c&&c(t.state,t.dispatch,t))return!0}if((r.shiftKey||r.altKey||r.metaKey||o.charCodeAt(0)>127)&&(l=dr[r.keyCode])&&l!=o){let c=e[ac(l,r)];if(c&&c(t.state,t.dispatch,t))return!0}}return!1}}const ew=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function wg(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const tw=(n,e,t)=>{let r=wg(n,t);if(!r)return!1;let o=sd(r);if(!o){let a=r.blockRange(),c=a&&Ri(a);return c==null?!1:(e&&e(n.tr.lift(a,c).scrollIntoView()),!0)}let l=o.nodeBefore;if(bg(n,o,e,-1))return!0;if(r.parent.content.size==0&&(Ti(l,"end")||ee.isSelectable(l)))for(let a=r.depth;;a--){let c=zl(n.doc,r.before(a),r.after(a),j.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=n.tr.step(c);d.setSelection(Ti(l,"end")?le.findFrom(d.doc.resolve(d.mapping.map(o.pos,-1)),-1):ee.create(d.doc,o.pos-l.nodeSize)),e(d.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return l.isAtom&&o.depth==r.depth-1?(e&&e(n.tr.delete(o.pos-l.nodeSize,o.pos).scrollIntoView()),!0):!1},nw=(n,e,t)=>{let r=wg(n,t);if(!r)return!1;let o=sd(r);return o?Sg(n,o,e):!1},rw=(n,e,t)=>{let r=xg(n,t);if(!r)return!1;let o=ld(r);return o?Sg(n,o,e):!1};function Sg(n,e,t){let r=e.nodeBefore,o=r,l=e.pos-1;for(;!o.isTextblock;l--){if(o.type.spec.isolating)return!1;let m=o.lastChild;if(!m)return!1;o=m}let a=e.nodeAfter,c=a,d=e.pos+1;for(;!c.isTextblock;d++){if(c.type.spec.isolating)return!1;let m=c.firstChild;if(!m)return!1;c=m}let h=zl(n.doc,l,d,j.empty);if(!h||h.from!=l||h instanceof We&&h.slice.size>=d-l)return!1;if(t){let m=n.tr.step(h);m.setSelection(oe.create(m.doc,l)),t(m.scrollIntoView())}return!0}function Ti(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const iw=(n,e,t)=>{let{$head:r,empty:o}=n.selection,l=r;if(!o)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;l=sd(r)}let a=l&&l.nodeBefore;return!a||!ee.isSelectable(a)?!1:(e&&e(n.tr.setSelection(ee.create(n.doc,l.pos-a.nodeSize)).scrollIntoView()),!0)};function sd(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function xg(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const ow=(n,e,t)=>{let r=xg(n,t);if(!r)return!1;let o=ld(r);if(!o)return!1;let l=o.nodeAfter;if(bg(n,o,e,1))return!0;if(r.parent.content.size==0&&(Ti(l,"start")||ee.isSelectable(l))){let a=zl(n.doc,r.before(),r.after(),j.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=n.tr.step(a);c.setSelection(Ti(l,"start")?le.findFrom(c.doc.resolve(c.mapping.map(o.pos)),1):ee.create(c.doc,c.mapping.map(o.pos))),e(c.scrollIntoView())}return!0}}return l.isAtom&&o.depth==r.depth-1?(e&&e(n.tr.delete(o.pos,o.pos+l.nodeSize).scrollIntoView()),!0):!1},sw=(n,e,t)=>{let{$head:r,empty:o}=n.selection,l=r;if(!o)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;l=ld(r)}let a=l&&l.nodeAfter;return!a||!ee.isSelectable(a)?!1:(e&&e(n.tr.setSelection(ee.create(n.doc,l.pos)).scrollIntoView()),!0)};function ld(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const lw=(n,e)=>{let t=n.selection,r=t instanceof ee,o;if(r){if(t.node.isTextblock||!hr(n.doc,t.from))return!1;o=t.from}else if(o=$l(n.doc,t.from,-1),o==null)return!1;if(e){let l=n.tr.join(o);r&&l.setSelection(ee.create(l.doc,o-n.doc.resolve(o).nodeBefore.nodeSize)),e(l.scrollIntoView())}return!0},aw=(n,e)=>{let t=n.selection,r;if(t instanceof ee){if(t.node.isTextblock||!hr(n.doc,t.to))return!1;r=t.to}else if(r=$l(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},uw=(n,e)=>{let{$from:t,$to:r}=n.selection,o=t.blockRange(r),l=o&&Ri(o);return l==null?!1:(e&&e(n.tr.lift(o,l).scrollIntoView()),!0)},cw=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Cg(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const dw=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let o=t.node(-1),l=t.indexAfter(-1),a=Cg(o.contentMatchAt(l));if(!a||!o.canReplaceWith(l,l,a))return!1;if(e){let c=t.after(),d=n.tr.replaceWith(c,c,a.createAndFill());d.setSelection(le.near(d.doc.resolve(c),1)),e(d.scrollIntoView())}return!0},fw=(n,e)=>{let t=n.selection,{$from:r,$to:o}=t;if(t instanceof rn||r.parent.inlineContent||o.parent.inlineContent)return!1;let l=Cg(o.parent.contentMatchAt(o.indexAfter()));if(!l||!l.isTextblock)return!1;if(e){let a=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,c=n.tr.insert(a,l.createAndFill());c.setSelection(oe.create(c.doc,a+1)),e(c.scrollIntoView())}return!0},hw=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let l=t.before();if(Si(n.doc,l))return e&&e(n.tr.split(l).scrollIntoView()),!0}let r=t.blockRange(),o=r&&Ri(r);return o==null?!1:(e&&e(n.tr.lift(r,o).scrollIntoView()),!0)},pw=(n,e)=>{let{$from:t,to:r}=n.selection,o,l=t.sharedDepth(r);return l==0?!1:(o=t.before(l),e&&e(n.tr.setSelection(ee.create(n.doc,o))),!0)};function mw(n,e,t){let r=e.nodeBefore,o=e.nodeAfter,l=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(l-1,l)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(l,l+1)||!(o.isTextblock||hr(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function bg(n,e,t,r){let o=e.nodeBefore,l=e.nodeAfter,a,c,d=o.type.spec.isolating||l.type.spec.isolating;if(!d&&mw(n,e,t))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(a=(c=o.contentMatchAt(o.childCount)).findWrapping(l.type))&&c.matchType(a[0]||l.type).validEnd){if(t){let k=e.pos+l.nodeSize,S=$.empty;for(let N=a.length-1;N>=0;N--)S=$.from(a[N].create(null,S));S=$.from(o.copy(S));let x=n.tr.step(new Ke(e.pos-1,k,e.pos,k,new j(S,1,0),a.length,!0)),b=x.doc.resolve(k+2*a.length);b.nodeAfter&&b.nodeAfter.type==o.type&&hr(x.doc,b.pos)&&x.join(b.pos),t(x.scrollIntoView())}return!0}let m=l.type.spec.isolating||r>0&&d?null:le.findFrom(e,1),y=m&&m.$from.blockRange(m.$to),v=y&&Ri(y);if(v!=null&&v>=e.depth)return t&&t(n.tr.lift(y,v).scrollIntoView()),!0;if(h&&Ti(l,"start",!0)&&Ti(o,"end")){let k=o,S=[];for(;S.push(k),!k.isTextblock;)k=k.lastChild;let x=l,b=1;for(;!x.isTextblock;x=x.firstChild)b++;if(k.canReplace(k.childCount,k.childCount,x.content)){if(t){let N=$.empty;for(let Q=S.length-1;Q>=0;Q--)N=$.from(S[Q].copy(N));let L=n.tr.step(new Ke(e.pos-S.length,e.pos+l.nodeSize,e.pos+b,e.pos+l.nodeSize-b,new j(N,S.length,0),0,!0));t(L.scrollIntoView())}return!0}}return!1}function Mg(n){return function(e,t){let r=e.selection,o=n<0?r.$from:r.$to,l=o.depth;for(;o.node(l).isInline;){if(!l)return!1;l--}return o.node(l).isTextblock?(t&&t(e.tr.setSelection(oe.create(e.doc,n<0?o.start(l):o.end(l)))),!0):!1}}const gw=Mg(-1),yw=Mg(1);function vw(n,e=null){return function(t,r){let{$from:o,$to:l}=t.selection,a=o.blockRange(l),c=a&&Gc(a,n,e);return c?(r&&r(t.tr.wrap(a,c).scrollIntoView()),!0):!1}}function wm(n,e=null){return function(t,r){let o=!1;for(let l=0;l<t.selection.ranges.length&&!o;l++){let{$from:{pos:a},$to:{pos:c}}=t.selection.ranges[l];t.doc.nodesBetween(a,c,(d,h)=>{if(o)return!1;if(!(!d.isTextblock||d.hasMarkup(n,e)))if(d.type==n)o=!0;else{let m=t.doc.resolve(h),y=m.index();o=m.parent.canReplaceWith(y,y+1,n)}})}if(!o)return!1;if(r){let l=t.tr;for(let a=0;a<t.selection.ranges.length;a++){let{$from:{pos:c},$to:{pos:d}}=t.selection.ranges[a];l.setBlockType(c,d,n,e)}r(l.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function kw(n,e=null){return function(t,r){let{$from:o,$to:l}=t.selection,a=o.blockRange(l);if(!a)return!1;let c=r?t.tr:null;return ww(c,a,n,e)?(r&&r(c.scrollIntoView()),!0):!1}}function ww(n,e,t,r=null){let o=!1,l=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=a.resolve(e.start-2);l=new vl(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new vl(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let c=Gc(l,t,r,e);return c?(n&&Sw(n,e,c,o,t),!0):!1}function Sw(n,e,t,r,o){let l=$.empty;for(let m=t.length-1;m>=0;m--)l=$.from(t[m].type.create(t[m].attrs,l));n.step(new Ke(e.start-(r?2:0),e.end,e.start,e.end,new j(l,0,0),t.length,!0));let a=0;for(let m=0;m<t.length;m++)t[m].type==o&&(a=m+1);let c=t.length-a,d=e.start+t.length-(r?2:0),h=e.parent;for(let m=e.startIndex,y=e.endIndex,v=!0;m<y;m++,v=!1)!v&&Si(n.doc,d,c)&&(n.split(d,c),d+=2*c),d+=h.child(m).nodeSize;return n}function xw(n){return function(e,t){let{$from:r,$to:o}=e.selection,l=r.blockRange(o,a=>a.childCount>0&&a.firstChild.type==n);return l?t?r.node(l.depth-1).type==n?Cw(e,t,n,l):bw(e,t,l):!0:!1}}function Cw(n,e,t,r){let o=n.tr,l=r.end,a=r.$to.end(r.depth);l<a&&(o.step(new Ke(l-1,a,l,a,new j($.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new vl(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));const c=Ri(r);if(c==null)return!1;o.lift(r,c);let d=o.mapping.map(l,-1)-1;return hr(o.doc,d)&&o.join(d),e(o.scrollIntoView()),!0}function bw(n,e,t){let r=n.tr,o=t.parent;for(let k=t.end,S=t.endIndex-1,x=t.startIndex;S>x;S--)k-=o.child(S).nodeSize,r.delete(k-1,k+1);let l=r.doc.resolve(t.start),a=l.nodeAfter;if(r.mapping.map(t.end)!=t.start+l.nodeAfter.nodeSize)return!1;let c=t.startIndex==0,d=t.endIndex==o.childCount,h=l.node(-1),m=l.index(-1);if(!h.canReplace(m+(c?0:1),m+1,a.content.append(d?$.empty:$.from(o))))return!1;let y=l.pos,v=y+a.nodeSize;return r.step(new Ke(y-(c?1:0),v+(d?1:0),y+1,v-1,new j((c?$.empty:$.from(o.copy($.empty))).append(d?$.empty:$.from(o.copy($.empty))),c?0:1,d?0:1),c?0:1)),e(r.scrollIntoView()),!0}function Mw(n){return function(e,t){let{$from:r,$to:o}=e.selection,l=r.blockRange(o,h=>h.childCount>0&&h.firstChild.type==n);if(!l)return!1;let a=l.startIndex;if(a==0)return!1;let c=l.parent,d=c.child(a-1);if(d.type!=n)return!1;if(t){let h=d.lastChild&&d.lastChild.type==c.type,m=$.from(h?n.create():null),y=new j($.from(n.create(null,$.from(c.type.create(null,m)))),h?3:1,0),v=l.start,k=l.end;t(e.tr.step(new Ke(v-(h?3:1),k,v,k,y,1,!0)).scrollIntoView())}return!0}}function Vl(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:o}=t,{storedMarks:l}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return l},get selection(){return r},get doc(){return o},get tr(){return r=t.selection,o=t.doc,l=t.storedMarks,t}}}class Hl{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:o}=t,{tr:l}=r,a=this.buildProps(l);return Object.fromEntries(Object.entries(e).map(([c,d])=>[c,(...m)=>{const y=d(...m)(a);return!l.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(l),y}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:o,state:l}=this,{view:a}=o,c=[],d=!!e,h=e||l.tr,m=()=>(!d&&t&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(h),c.every(v=>v===!0)),y={...Object.fromEntries(Object.entries(r).map(([v,k])=>[v,(...x)=>{const b=this.buildProps(h,t),N=k(...x)(b);return c.push(N),y}])),run:m};return y}createCan(e){const{rawCommands:t,state:r}=this,o=!1,l=e||r.tr,a=this.buildProps(l,o);return{...Object.fromEntries(Object.entries(t).map(([d,h])=>[d,(...m)=>h(...m)({...a,dispatch:void 0})])),chain:()=>this.createChain(l,o)}}buildProps(e,t=!0){const{rawCommands:r,editor:o,state:l}=this,{view:a}=o,c={tr:e,editor:o,view:a,state:Vl({state:l,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([d,h])=>[d,(...m)=>h(...m)(c)]))}};return c}}class Ew{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(o=>o.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(o=>o!==t):delete this.callbacks[e]),this}once(e,t){const r=(...o)=>{this.off(e,r),t.apply(this,o)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function K(n,e,t){return n.config[e]===void 0&&n.parent?K(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?K(n.parent,e,t):null}):n.config[e]}function Wl(n){const e=n.filter(o=>o.type==="extension"),t=n.filter(o=>o.type==="node"),r=n.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function Eg(n){const e=[],{nodeExtensions:t,markExtensions:r}=Wl(n),o=[...t,...r],l={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage,extensions:o},d=K(a,"addGlobalAttributes",c);if(!d)return;d().forEach(m=>{m.types.forEach(y=>{Object.entries(m.attributes).forEach(([v,k])=>{e.push({type:y,name:v,attribute:{...l,...k}})})})})}),o.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage},d=K(a,"addAttributes",c);if(!d)return;const h=d();Object.entries(h).forEach(([m,y])=>{const v={...l,...y};typeof(v==null?void 0:v.default)=="function"&&(v.default=v.default()),v!=null&&v.isRequired&&(v==null?void 0:v.default)===void 0&&delete v.default,e.push({type:a.name,name:m,attribute:v})})}),e}function Je(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function yt(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([o,l])=>{if(!r[o]){r[o]=l;return}if(o==="class"){const c=l?l.split(" "):[],d=r[o]?r[o].split(" "):[],h=c.filter(m=>!d.includes(m));r[o]=[...d,...h].join(" ")}else if(o==="style"){const c=l?l.split(";").map(m=>m.trim()).filter(Boolean):[],d=r[o]?r[o].split(";").map(m=>m.trim()).filter(Boolean):[],h=new Map;d.forEach(m=>{const[y,v]=m.split(":").map(k=>k.trim());h.set(y,v)}),c.forEach(m=>{const[y,v]=m.split(":").map(k=>k.trim());h.set(y,v)}),r[o]=Array.from(h.entries()).map(([m,y])=>`${m}: ${y}`).join("; ")}else r[o]=l}),r},{})}function $c(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>yt(t,r),{})}function _g(n){return typeof n=="function"}function ue(n,e=void 0,...t){return _g(n)?e?n.bind(e)(...t):n(...t):n}function _w(n={}){return Object.keys(n).length===0&&n.constructor===Object}function Tw(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function Sm(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const o=e.reduce((l,a)=>{const c=a.attribute.parseHTML?a.attribute.parseHTML(t):Tw(t.getAttribute(a.name));return c==null?l:{...l,[a.name]:c}},{});return{...r,...o}}}}function xm(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&_w(t)?!1:t!=null))}function Ow(n,e){var t;const r=Eg(n),{nodeExtensions:o,markExtensions:l}=Wl(n),a=(t=o.find(h=>K(h,"topNode")))===null||t===void 0?void 0:t.name,c=Object.fromEntries(o.map(h=>{const m=r.filter(N=>N.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},v=n.reduce((N,L)=>{const Q=K(L,"extendNodeSchema",y);return{...N,...Q?Q(h):{}}},{}),k=xm({...v,content:ue(K(h,"content",y)),marks:ue(K(h,"marks",y)),group:ue(K(h,"group",y)),inline:ue(K(h,"inline",y)),atom:ue(K(h,"atom",y)),selectable:ue(K(h,"selectable",y)),draggable:ue(K(h,"draggable",y)),code:ue(K(h,"code",y)),whitespace:ue(K(h,"whitespace",y)),linebreakReplacement:ue(K(h,"linebreakReplacement",y)),defining:ue(K(h,"defining",y)),isolating:ue(K(h,"isolating",y)),attrs:Object.fromEntries(m.map(N=>{var L;return[N.name,{default:(L=N==null?void 0:N.attribute)===null||L===void 0?void 0:L.default}]}))}),S=ue(K(h,"parseHTML",y));S&&(k.parseDOM=S.map(N=>Sm(N,m)));const x=K(h,"renderHTML",y);x&&(k.toDOM=N=>x({node:N,HTMLAttributes:$c(N,m)}));const b=K(h,"renderText",y);return b&&(k.toText=b),[h.name,k]})),d=Object.fromEntries(l.map(h=>{const m=r.filter(b=>b.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},v=n.reduce((b,N)=>{const L=K(N,"extendMarkSchema",y);return{...b,...L?L(h):{}}},{}),k=xm({...v,inclusive:ue(K(h,"inclusive",y)),excludes:ue(K(h,"excludes",y)),group:ue(K(h,"group",y)),spanning:ue(K(h,"spanning",y)),code:ue(K(h,"code",y)),attrs:Object.fromEntries(m.map(b=>{var N;return[b.name,{default:(N=b==null?void 0:b.attribute)===null||N===void 0?void 0:N.default}]}))}),S=ue(K(h,"parseHTML",y));S&&(k.parseDOM=S.map(b=>Sm(b,m)));const x=K(h,"renderHTML",y);return x&&(k.toDOM=b=>x({mark:b,HTMLAttributes:$c(b,m)})),[h.name,k]}));return new S1({topNode:a,nodes:c,marks:d})}function uc(n,e){return e.nodes[n]||e.marks[n]||null}function Cm(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function ad(n,e){const t=Vr.fromSchema(e).serializeFragment(n),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(t),o.innerHTML}const Nw=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(o,l,a,c)=>{var d,h;const m=((h=(d=o.type.spec).toText)===null||h===void 0?void 0:h.call(d,{node:o,pos:l,parent:a,index:c}))||o.textContent||"%leaf%";t+=o.isAtom&&!o.isText?m:m.slice(0,Math.max(0,r-l))}),t};function ud(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class Ul{constructor(e){this.find=e.find,this.handler=e.handler}}const Dw=(n,e)=>{if(ud(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function rl(n){var e;const{editor:t,from:r,to:o,text:l,rules:a,plugin:c}=n,{view:d}=t;if(d.composing)return!1;const h=d.state.doc.resolve(r);if(h.parent.type.spec.code||!((e=h.nodeBefore||h.nodeAfter)===null||e===void 0)&&e.marks.find(v=>v.type.spec.code))return!1;let m=!1;const y=Nw(h)+l;return a.forEach(v=>{if(m)return;const k=Dw(y,v.find);if(!k)return;const S=d.state.tr,x=Vl({state:d.state,transaction:S}),b={from:r-(k[0].length-l.length),to:o},{commands:N,chain:L,can:Q}=new Hl({editor:t,state:x});v.handler({state:x,range:b,match:k,commands:N,chain:L,can:Q})===null||!S.steps.length||(S.setMeta(c,{transform:S,from:r,to:o,text:l}),d.dispatch(S),m=!0)}),m}function Pw(n){const{editor:e,rules:t}=n,r=new _t({state:{init(){return null},apply(o,l,a){const c=o.getMeta(r);if(c)return c;const d=o.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:m}=d;typeof m=="string"?m=m:m=ad($.from(m),a.schema);const{from:y}=d,v=y+m.length;rl({editor:e,from:y,to:v,text:m,rules:t,plugin:r})}),o.selectionSet||o.docChanged?null:l}},props:{handleTextInput(o,l,a,c){return rl({editor:e,from:l,to:a,text:c,rules:t,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:l}=o.state.selection;l&&rl({editor:e,from:l.pos,to:l.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(o,l){if(l.key!=="Enter")return!1;const{$cursor:a}=o.state.selection;return a?rl({editor:e,from:a.pos,to:a.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function Rw(n){return Object.prototype.toString.call(n).slice(8,-1)}function il(n){return Rw(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function Kl(n,e){const t={...n};return il(n)&&il(e)&&Object.keys(e).forEach(r=>{il(e[r])&&il(n[r])?t[r]=Kl(n[r],e[r]):t[r]=e[r]}),t}class fr{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ue(K(this,"addOptions",{name:this.name}))),this.storage=ue(K(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new fr(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Kl(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new fr(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ue(K(t,"addOptions",{name:t.name})),t.storage=ue(K(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const a=o.marks();if(!!!a.find(h=>(h==null?void 0:h.type.name)===t.name))return!1;const d=a.find(h=>(h==null?void 0:h.type.name)===t.name);return d&&r.removeStoredMark(d),r.insertText(" ",o.pos),e.view.dispatch(r),!0}return!1}}function Aw(n){return typeof n=="number"}class Iw{constructor(e){this.find=e.find,this.handler=e.handler}}const $w=(n,e,t)=>{if(ud(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(o=>{const l=[o.text];return l.index=o.index,l.input=n,l.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(o.replaceWith)),l}):[]};function zw(n){const{editor:e,state:t,from:r,to:o,rule:l,pasteEvent:a,dropEvent:c}=n,{commands:d,chain:h,can:m}=new Hl({editor:e,state:t}),y=[];return t.doc.nodesBetween(r,o,(k,S)=>{if(!k.isTextblock||k.type.spec.code)return;const x=Math.max(r,S),b=Math.min(o,S+k.content.size),N=k.textBetween(x-S,b-S,void 0,"");$w(N,l.find,a).forEach(Q=>{if(Q.index===void 0)return;const G=x+Q.index+1,re=G+Q[0].length,Y={from:t.tr.mapping.map(G),to:t.tr.mapping.map(re)},he=l.handler({state:t,range:Y,match:Q,commands:d,chain:h,can:m,pasteEvent:a,dropEvent:c});y.push(he)})}),y.every(k=>k!==null)}const Lw=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function Bw(n){const{editor:e,rules:t}=n;let r=null,o=!1,l=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const d=({state:m,from:y,to:v,rule:k,pasteEvt:S})=>{const x=m.tr,b=Vl({state:m,transaction:x});if(!(!zw({editor:e,state:b,from:Math.max(y-1,0),to:v.b-1,rule:k,pasteEvent:S,dropEvent:c})||!x.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,x}};return t.map(m=>new _t({view(y){const v=k=>{var S;r=!((S=y.dom.parentElement)===null||S===void 0)&&S.contains(k.target)?y.dom.parentElement:null};return window.addEventListener("dragstart",v),{destroy(){window.removeEventListener("dragstart",v)}}},props:{handleDOMEvents:{drop:(y,v)=>(l=r===y.dom.parentElement,c=v,!1),paste:(y,v)=>{var k;const S=(k=v.clipboardData)===null||k===void 0?void 0:k.getData("text/html");return a=v,o=!!(S!=null&&S.includes("data-pm-slice")),!1}}},appendTransaction:(y,v,k)=>{const S=y[0],x=S.getMeta("uiEvent")==="paste"&&!o,b=S.getMeta("uiEvent")==="drop"&&!l,N=S.getMeta("applyPasteRules"),L=!!N;if(!x&&!b&&!L)return;if(L){let{text:re}=N;typeof re=="string"?re=re:re=ad($.from(re),k.schema);const{from:Y}=N,he=Y+re.length,ve=Lw(re);return d({rule:m,state:k,from:Y,to:{b:he},pasteEvt:ve})}const Q=v.doc.content.findDiffStart(k.doc.content),G=v.doc.content.findDiffEnd(k.doc.content);if(!(!Aw(Q)||!G||Q===G.b))return d({rule:m,state:k,from:Q,to:G,pasteEvt:a})}}))}function Fw(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class ki{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=ki.resolve(e),this.schema=Ow(this.extensions,t),this.setupExtensions()}static resolve(e){const t=ki.sort(ki.flatten(e)),r=Fw(t.map(o=>o.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},o=K(t,"addExtensions",r);return o?[t,...this.flatten(o())]:t}).flat(10)}static sort(e){return e.sort((r,o)=>{const l=K(r,"priority")||100,a=K(o,"priority")||100;return l>a?-1:l<a?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:uc(t.name,this.schema)},o=K(t,"addCommands",r);return o?{...e,...o()}:e},{})}get plugins(){const{editor:e}=this,t=ki.sort([...this.extensions].reverse()),r=[],o=[],l=t.map(a=>{const c={name:a.name,options:a.options,storage:a.storage,editor:e,type:uc(a.name,this.schema)},d=[],h=K(a,"addKeyboardShortcuts",c);let m={};if(a.type==="mark"&&K(a,"exitable",c)&&(m.ArrowRight=()=>fr.handleExit({editor:e,mark:a})),h){const x=Object.fromEntries(Object.entries(h()).map(([b,N])=>[b,()=>N({editor:e})]));m={...m,...x}}const y=Zk(m);d.push(y);const v=K(a,"addInputRules",c);Cm(a,e.options.enableInputRules)&&v&&r.push(...v());const k=K(a,"addPasteRules",c);Cm(a,e.options.enablePasteRules)&&k&&o.push(...k());const S=K(a,"addProseMirrorPlugins",c);if(S){const x=S();d.push(...x)}return d}).flat();return[Pw({editor:e,rules:r}),...Bw({editor:e,rules:o}),...l]}get attributes(){return Eg(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Wl(this.extensions);return Object.fromEntries(t.filter(r=>!!K(r,"addNodeView")).map(r=>{const o=this.attributes.filter(d=>d.type===r.name),l={name:r.name,options:r.options,storage:r.storage,editor:e,type:Je(r.name,this.schema)},a=K(r,"addNodeView",l);if(!a)return[];const c=(d,h,m,y,v)=>{const k=$c(d,o);return a()({node:d,view:h,getPos:m,decorations:y,innerDecorations:v,editor:e,extension:r,HTMLAttributes:k})};return[r.name,c]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:uc(e.name,this.schema)};e.type==="mark"&&(!((t=ue(K(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const o=K(e,"onBeforeCreate",r),l=K(e,"onCreate",r),a=K(e,"onUpdate",r),c=K(e,"onSelectionUpdate",r),d=K(e,"onTransaction",r),h=K(e,"onFocus",r),m=K(e,"onBlur",r),y=K(e,"onDestroy",r);o&&this.editor.on("beforeCreate",o),l&&this.editor.on("create",l),a&&this.editor.on("update",a),c&&this.editor.on("selectionUpdate",c),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),m&&this.editor.on("blur",m),y&&this.editor.on("destroy",y)})}}class ut{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ue(K(this,"addOptions",{name:this.name}))),this.storage=ue(K(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ut(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Kl(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new ut({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ue(K(t,"addOptions",{name:t.name})),t.storage=ue(K(t,"addStorage",{name:t.name,options:t.options})),t}}function Tg(n,e,t){const{from:r,to:o}=e,{blockSeparator:l=`

`,textSerializers:a={}}=t||{};let c="";return n.nodesBetween(r,o,(d,h,m,y)=>{var v;d.isBlock&&h>r&&(c+=l);const k=a==null?void 0:a[d.type.name];if(k)return m&&(c+=k({node:d,pos:h,parent:m,index:y,range:e})),!1;d.isText&&(c+=(v=d==null?void 0:d.text)===null||v===void 0?void 0:v.slice(Math.max(r,h)-h,o-h))}),c}function Og(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const jw=ut.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new _t({key:new yn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:o}=e,{ranges:l}=o,a=Math.min(...l.map(m=>m.$from.pos)),c=Math.max(...l.map(m=>m.$to.pos)),d=Og(t);return Tg(r,{from:a,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),Vw=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),Hw=(n=!1)=>({commands:e})=>e.setContent("",n),Ww=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:o}=r;return t&&o.forEach(({$from:l,$to:a})=>{n.doc.nodesBetween(l.pos,a.pos,(c,d)=>{if(c.type.isText)return;const{doc:h,mapping:m}=e,y=h.resolve(m.map(d)),v=h.resolve(m.map(d+c.nodeSize)),k=y.blockRange(v);if(!k)return;const S=Ri(k);if(c.type.isTextblock){const{defaultType:x}=y.parent.contentMatchAt(y.index());e.setNodeMarkup(k.start,x)}(S||S===0)&&e.lift(k,S)})}),!0},Uw=n=>e=>n(e),Kw=()=>({state:n,dispatch:e})=>fw(n,e),qw=(n,e)=>({editor:t,tr:r})=>{const{state:o}=t,l=o.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const a=r.mapping.map(e);return r.insert(a,l.content),r.setSelection(new oe(r.doc.resolve(a-1))),!0},Jw=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const o=n.selection.$anchor;for(let l=o.depth;l>0;l-=1)if(o.node(l).type===r.type){if(e){const c=o.before(l),d=o.after(l);n.delete(c,d).scrollIntoView()}return!0}return!1},Qw=n=>({tr:e,state:t,dispatch:r})=>{const o=Je(n,t.schema),l=e.selection.$anchor;for(let a=l.depth;a>0;a-=1)if(l.node(a).type===o){if(r){const d=l.before(a),h=l.after(a);e.delete(d,h).scrollIntoView()}return!0}return!1},Gw=n=>({tr:e,dispatch:t})=>{const{from:r,to:o}=n;return t&&e.delete(r,o),!0},Yw=()=>({state:n,dispatch:e})=>ew(n,e),Xw=()=>({commands:n})=>n.keyboardShortcut("Enter"),Zw=()=>({state:n,dispatch:e})=>dw(n,e);function El(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(o=>t.strict?e[o]===n[o]:ud(e[o])?e[o].test(n[o]):e[o]===n[o]):!0}function Ng(n,e,t={}){return n.find(r=>r.type===e&&El(Object.fromEntries(Object.keys(t).map(o=>[o,r.attrs[o]])),t))}function bm(n,e,t={}){return!!Ng(n,e,t)}function cd(n,e,t){var r;if(!n||!e)return;let o=n.parent.childAfter(n.parentOffset);if((!o.node||!o.node.marks.some(m=>m.type===e))&&(o=n.parent.childBefore(n.parentOffset)),!o.node||!o.node.marks.some(m=>m.type===e)||(t=t||((r=o.node.marks[0])===null||r===void 0?void 0:r.attrs),!Ng([...o.node.marks],e,t)))return;let a=o.index,c=n.start()+o.offset,d=a+1,h=c+o.node.nodeSize;for(;a>0&&bm([...n.parent.child(a-1).marks],e,t);)a-=1,c-=n.parent.child(a).nodeSize;for(;d<n.parent.childCount&&bm([...n.parent.child(d).marks],e,t);)h+=n.parent.child(d).nodeSize,d+=1;return{from:c,to:h}}function mr(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const e3=(n,e={})=>({tr:t,state:r,dispatch:o})=>{const l=mr(n,r.schema),{doc:a,selection:c}=t,{$from:d,from:h,to:m}=c;if(o){const y=cd(d,l,e);if(y&&y.from<=h&&y.to>=m){const v=oe.create(a,y.from,y.to);t.setSelection(v)}}return!0},t3=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function Dg(n){return n instanceof oe}function Rr(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function Pg(n,e=null){if(!e)return null;const t=le.atStart(n),r=le.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const o=t.from,l=r.to;return e==="all"?oe.create(n,Rr(0,o,l),Rr(n.content.size,o,l)):oe.create(n,Rr(e,o,l),Rr(e,o,l))}function dd(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const n3=(n=null,e={})=>({editor:t,view:r,tr:o,dispatch:l})=>{e={scrollIntoView:!0,...e};const a=()=>{dd()&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(l&&n===null&&!Dg(t.state.selection))return a(),!0;const c=Pg(o.doc,n)||t.state.selection,d=t.state.selection.eq(c);return l&&(d||o.setSelection(c),d&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},r3=(n,e)=>t=>n.every((r,o)=>e(r,{...t,index:o})),i3=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),Rg=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&Rg(r)}return n};function ol(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return Rg(t)}function _l(n,e,t){if(n instanceof or||n instanceof $)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,o=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return $.fromArray(n.map(c=>e.nodeFromJSON(c)));const a=e.nodeFromJSON(n);return t.errorOnInvalidContent&&a.check(),a}catch(l){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",l),_l("",e,t)}if(o){if(t.errorOnInvalidContent){let a=!1,c="";const d=new S1({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(a=!0,c=typeof h=="string"?h:h.outerHTML,null)}]}})});if(t.slice?sr.fromSchema(d).parseSlice(ol(n),t.parseOptions):sr.fromSchema(d).parse(ol(n),t.parseOptions),t.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const l=sr.fromSchema(e);return t.slice?l.parseSlice(ol(n),t.parseOptions).content:l.parse(ol(n),t.parseOptions)}return _l("",e,t)}function o3(n,e,t){const r=n.steps.length-1;if(r<e)return;const o=n.steps[r];if(!(o instanceof We||o instanceof Ke))return;const l=n.mapping.maps[r];let a=0;l.forEach((c,d,h,m)=>{a===0&&(a=m)}),n.setSelection(le.near(n.doc.resolve(a),t))}const s3=n=>!("type"in n),l3=(n,e,t)=>({tr:r,dispatch:o,editor:l})=>{var a;if(o){t={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let c;try{c=_l(e,l.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(a=t.errorOnInvalidContent)!==null&&a!==void 0?a:l.options.enableContentCheck})}catch(S){return l.emit("contentError",{editor:l,error:S,disableCollaboration:()=>{l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}}),!1}let{from:d,to:h}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},m=!0,y=!0;if((s3(c)?c:[c]).forEach(S=>{S.check(),m=m?S.isText&&S.marks.length===0:!1,y=y?S.isBlock:!1}),d===h&&y){const{parent:S}=r.doc.resolve(d);S.isTextblock&&!S.type.spec.code&&!S.childCount&&(d-=1,h+=1)}let k;if(m){if(Array.isArray(e))k=e.map(S=>S.text||"").join("");else if(e instanceof $){let S="";e.forEach(x=>{x.text&&(S+=x.text)}),k=S}else typeof e=="object"&&e&&e.text?k=e.text:k=e;r.insertText(k,d,h)}else k=c,r.replaceWith(d,h,k);t.updateSelection&&o3(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:k}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:k})}return!0},a3=()=>({state:n,dispatch:e})=>lw(n,e),u3=()=>({state:n,dispatch:e})=>aw(n,e),c3=()=>({state:n,dispatch:e})=>tw(n,e),d3=()=>({state:n,dispatch:e})=>ow(n,e),f3=()=>({state:n,dispatch:e,tr:t})=>{try{const r=$l(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},h3=()=>({state:n,dispatch:e,tr:t})=>{try{const r=$l(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},p3=()=>({state:n,dispatch:e})=>nw(n,e),m3=()=>({state:n,dispatch:e})=>rw(n,e);function Ag(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function g3(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,o,l,a;for(let c=0;c<e.length-1;c+=1){const d=e[c];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))o=!0;else if(/^s(hift)?$/i.test(d))l=!0;else if(/^mod$/i.test(d))dd()||Ag()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(t=`Alt-${t}`),o&&(t=`Ctrl-${t}`),a&&(t=`Meta-${t}`),l&&(t=`Shift-${t}`),t}const y3=n=>({editor:e,view:t,tr:r,dispatch:o})=>{const l=g3(n).split(/-(?!$)/),a=l.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),c=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{t.someProp("handleKeyDown",h=>h(t,c))});return d==null||d.steps.forEach(h=>{const m=h.map(r.mapping);m&&o&&r.maybeStep(m)}),!0};function zo(n,e,t={}){const{from:r,to:o,empty:l}=n.selection,a=e?Je(e,n.schema):null,c=[];n.doc.nodesBetween(r,o,(y,v)=>{if(y.isText)return;const k=Math.max(r,v),S=Math.min(o,v+y.nodeSize);c.push({node:y,from:k,to:S})});const d=o-r,h=c.filter(y=>a?a.name===y.node.type.name:!0).filter(y=>El(y.node.attrs,t,{strict:!1}));return l?!!h.length:h.reduce((y,v)=>y+v.to-v.from,0)>=d}const v3=(n,e={})=>({state:t,dispatch:r})=>{const o=Je(n,t.schema);return zo(t,o,e)?uw(t,r):!1},k3=()=>({state:n,dispatch:e})=>hw(n,e),w3=n=>({state:e,dispatch:t})=>{const r=Je(n,e.schema);return xw(r)(e,t)},S3=()=>({state:n,dispatch:e})=>cw(n,e);function ql(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function Mm(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,o)=>(t.includes(o)||(r[o]=n[o]),r),{})}const x3=(n,e)=>({tr:t,state:r,dispatch:o})=>{let l=null,a=null;const c=ql(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(l=Je(n,r.schema)),c==="mark"&&(a=mr(n,r.schema)),o&&t.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(h,m)=>{l&&l===h.type&&t.setNodeMarkup(m,void 0,Mm(h.attrs,e)),a&&h.marks.length&&h.marks.forEach(y=>{a===y.type&&t.addMark(m,m+h.nodeSize,a.create(Mm(y.attrs,e)))})})}),!0):!1},C3=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),b3=()=>({tr:n,commands:e})=>e.setTextSelection({from:0,to:n.doc.content.size}),M3=()=>({state:n,dispatch:e})=>iw(n,e),E3=()=>({state:n,dispatch:e})=>sw(n,e),_3=()=>({state:n,dispatch:e})=>pw(n,e),T3=()=>({state:n,dispatch:e})=>yw(n,e),O3=()=>({state:n,dispatch:e})=>gw(n,e);function zc(n,e,t={},r={}){return _l(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const N3=(n,e=!1,t={},r={})=>({editor:o,tr:l,dispatch:a,commands:c})=>{var d,h;const{doc:m}=l;if(t.preserveWhitespace!=="full"){const y=zc(n,o.schema,t,{errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:o.options.enableContentCheck});return a&&l.replaceWith(0,m.content.size,y).setMeta("preventUpdate",!e),!0}return a&&l.setMeta("preventUpdate",!e),c.insertContentAt({from:0,to:m.content.size},n,{parseOptions:t,errorOnInvalidContent:(h=r.errorOnInvalidContent)!==null&&h!==void 0?h:o.options.enableContentCheck})};function Ig(n,e){const t=mr(e,n.schema),{from:r,to:o,empty:l}=n.selection,a=[];l?(n.storedMarks&&a.push(...n.storedMarks),a.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,o,d=>{a.push(...d.marks)});const c=a.find(d=>d.type.name===t.name);return c?{...c.attrs}:{}}function D3(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function P3(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function fd(n){return e=>P3(e.$from,n)}function R3(n,e){const t={from:0,to:n.content.size};return Tg(n,t,e)}function A3(n,e){const t=Je(e,n.schema),{from:r,to:o}=n.selection,l=[];n.doc.nodesBetween(r,o,c=>{l.push(c)});const a=l.reverse().find(c=>c.type.name===t.name);return a?{...a.attrs}:{}}function I3(n,e){const t=ql(typeof e=="string"?e:e.name,n.schema);return t==="node"?A3(n,e):t==="mark"?Ig(n,e):{}}function $g(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(o=>{const l=t.resolve(n),a=cd(l,o.type);a&&r.push({mark:o,...a})}):t.nodesBetween(n,e,(o,l)=>{!o||(o==null?void 0:o.nodeSize)===void 0||r.push(...o.marks.map(a=>({from:l,to:l+o.nodeSize,mark:a})))}),r}function dl(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const o=n.find(l=>l.type===e&&l.name===r);return o?o.attribute.keepOnSplit:!1}))}function Lc(n,e,t={}){const{empty:r,ranges:o}=n.selection,l=e?mr(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(y=>l?l.name===y.type.name:!0).find(y=>El(y.attrs,t,{strict:!1}));let a=0;const c=[];if(o.forEach(({$from:y,$to:v})=>{const k=y.pos,S=v.pos;n.doc.nodesBetween(k,S,(x,b)=>{if(!x.isText&&!x.marks.length)return;const N=Math.max(k,b),L=Math.min(S,b+x.nodeSize),Q=L-N;a+=Q,c.push(...x.marks.map(G=>({mark:G,from:N,to:L})))})}),a===0)return!1;const d=c.filter(y=>l?l.name===y.mark.type.name:!0).filter(y=>El(y.mark.attrs,t,{strict:!1})).reduce((y,v)=>y+v.to-v.from,0),h=c.filter(y=>l?y.mark.type!==l&&y.mark.type.excludes(l):!0).reduce((y,v)=>y+v.to-v.from,0);return(d>0?d+h:d)>=a}function $3(n,e,t={}){if(!e)return zo(n,null,t)||Lc(n,null,t);const r=ql(e,n.schema);return r==="node"?zo(n,e,t):r==="mark"?Lc(n,e,t):!1}function Em(n,e){const{nodeExtensions:t}=Wl(e),r=t.find(a=>a.name===n);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},l=ue(K(r,"group",o));return typeof l!="string"?!1:l.split(" ").includes("list")}function hd(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let o=!0;return n.content.forEach(l=>{o!==!1&&(hd(l,{ignoreWhitespace:t,checkChildren:e})||(o=!1))}),o}return!1}function z3(n){return n instanceof ee}function L3(n,e,t){var r;const{selection:o}=e;let l=null;if(Dg(o)&&(l=o.$cursor),l){const c=(r=n.storedMarks)!==null&&r!==void 0?r:l.marks();return!!t.isInSet(c)||!c.some(d=>d.type.excludes(t))}const{ranges:a}=o;return a.some(({$from:c,$to:d})=>{let h=c.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(c.pos,d.pos,(m,y,v)=>{if(h)return!1;if(m.isInline){const k=!v||v.type.allowsMarkType(t),S=!!t.isInSet(m.marks)||!m.marks.some(x=>x.type.excludes(t));h=k&&S}return!h}),h})}const B3=(n,e={})=>({tr:t,state:r,dispatch:o})=>{const{selection:l}=t,{empty:a,ranges:c}=l,d=mr(n,r.schema);if(o)if(a){const h=Ig(r,d);t.addStoredMark(d.create({...h,...e}))}else c.forEach(h=>{const m=h.$from.pos,y=h.$to.pos;r.doc.nodesBetween(m,y,(v,k)=>{const S=Math.max(k,m),x=Math.min(k+v.nodeSize,y);v.marks.find(N=>N.type===d)?v.marks.forEach(N=>{d===N.type&&t.addMark(S,x,d.create({...N.attrs,...e}))}):t.addMark(S,x,d.create(e))})});return L3(r,t,d)},F3=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),j3=(n,e={})=>({state:t,dispatch:r,chain:o})=>{const l=Je(n,t.schema);let a;return t.selection.$anchor.sameParent(t.selection.$head)&&(a=t.selection.$anchor.parent.attrs),l.isTextblock?o().command(({commands:c})=>wm(l,{...a,...e})(t)?!0:c.clearNodes()).command(({state:c})=>wm(l,{...a,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},V3=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,o=Rr(n,0,r.content.size),l=ee.create(r,o);e.setSelection(l)}return!0},H3=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:o,to:l}=typeof n=="number"?{from:n,to:n}:n,a=oe.atStart(r).from,c=oe.atEnd(r).to,d=Rr(o,a,c),h=Rr(l,a,c),m=oe.create(r,d,h);e.setSelection(m)}return!0},W3=n=>({state:e,dispatch:t})=>{const r=Je(n,e.schema);return Mw(r)(e,t)};function _m(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(o=>e==null?void 0:e.includes(o.type.name));n.tr.ensureMarks(r)}}const U3=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:o})=>{const{selection:l,doc:a}=e,{$from:c,$to:d}=l,h=o.extensionManager.attributes,m=dl(h,c.node().type.name,c.node().attrs);if(l instanceof ee&&l.node.isBlock)return!c.parentOffset||!Si(a,c.pos)?!1:(r&&(n&&_m(t,o.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const y=d.parentOffset===d.parent.content.size,v=c.depth===0?void 0:D3(c.node(-1).contentMatchAt(c.indexAfter(-1)));let k=y&&v?[{type:v,attrs:m}]:void 0,S=Si(e.doc,e.mapping.map(c.pos),1,k);if(!k&&!S&&Si(e.doc,e.mapping.map(c.pos),1,v?[{type:v}]:void 0)&&(S=!0,k=v?[{type:v,attrs:m}]:void 0),r){if(S&&(l instanceof oe&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,k),v&&!y&&!c.parentOffset&&c.parent.type!==v)){const x=e.mapping.map(c.before()),b=e.doc.resolve(x);c.node(-1).canReplaceWith(b.index(),b.index()+1,v)&&e.setNodeMarkup(e.mapping.map(c.before()),v)}n&&_m(t,o.extensionManager.splittableMarks),e.scrollIntoView()}return S},K3=(n,e={})=>({tr:t,state:r,dispatch:o,editor:l})=>{var a;const c=Je(n,r.schema),{$from:d,$to:h}=r.selection,m=r.selection.node;if(m&&m.isBlock||d.depth<2||!d.sameParent(h))return!1;const y=d.node(-1);if(y.type!==c)return!1;const v=l.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==c||d.index(-2)!==d.node(-2).childCount-1)return!1;if(o){let N=$.empty;const L=d.index(-1)?1:d.index(-2)?2:3;for(let ve=d.depth-L;ve>=d.depth-3;ve-=1)N=$.from(d.node(ve).copy(N));const Q=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,G={...dl(v,d.node().type.name,d.node().attrs),...e},re=((a=c.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(G))||void 0;N=N.append($.from(c.createAndFill(null,re)||void 0));const Y=d.before(d.depth-(L-1));t.replace(Y,d.after(-Q),new j(N,4-L,0));let he=-1;t.doc.nodesBetween(Y,t.doc.content.size,(ve,se)=>{if(he>-1)return!1;ve.isTextblock&&ve.content.size===0&&(he=se+1)}),he>-1&&t.setSelection(oe.near(t.doc.resolve(he))),t.scrollIntoView()}return!0}const k=h.pos===d.end()?y.contentMatchAt(0).defaultType:null,S={...dl(v,y.type.name,y.attrs),...e},x={...dl(v,d.node().type.name,d.node().attrs),...e};t.delete(d.pos,h.pos);const b=k?[{type:c,attrs:S},{type:k,attrs:x}]:[{type:c,attrs:S}];if(!Si(t.doc,d.pos,2))return!1;if(o){const{selection:N,storedMarks:L}=r,{splittableMarks:Q}=l.extensionManager,G=L||N.$to.parentOffset&&N.$from.marks();if(t.split(d.pos,2,b).scrollIntoView(),!G||!o)return!0;const re=G.filter(Y=>Q.includes(Y.type.name));t.ensureMarks(re)}return!0},cc=(n,e)=>{const t=fd(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const o=n.doc.nodeAt(r);return t.node.type===(o==null?void 0:o.type)&&hr(n.doc,t.pos)&&n.join(t.pos),!0},dc=(n,e)=>{const t=fd(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const o=n.doc.nodeAt(r);return t.node.type===(o==null?void 0:o.type)&&hr(n.doc,r)&&n.join(r),!0},q3=(n,e,t,r={})=>({editor:o,tr:l,state:a,dispatch:c,chain:d,commands:h,can:m})=>{const{extensions:y,splittableMarks:v}=o.extensionManager,k=Je(n,a.schema),S=Je(e,a.schema),{selection:x,storedMarks:b}=a,{$from:N,$to:L}=x,Q=N.blockRange(L),G=b||x.$to.parentOffset&&x.$from.marks();if(!Q)return!1;const re=fd(Y=>Em(Y.type.name,y))(x);if(Q.depth>=1&&re&&Q.depth-re.depth<=1){if(re.node.type===k)return h.liftListItem(S);if(Em(re.node.type.name,y)&&k.validContent(re.node.content)&&c)return d().command(()=>(l.setNodeMarkup(re.pos,k),!0)).command(()=>cc(l,k)).command(()=>dc(l,k)).run()}return!t||!G||!c?d().command(()=>m().wrapInList(k,r)?!0:h.clearNodes()).wrapInList(k,r).command(()=>cc(l,k)).command(()=>dc(l,k)).run():d().command(()=>{const Y=m().wrapInList(k,r),he=G.filter(ve=>v.includes(ve.type.name));return l.ensureMarks(he),Y?!0:h.clearNodes()}).wrapInList(k,r).command(()=>cc(l,k)).command(()=>dc(l,k)).run()},J3=(n,e={},t={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:l=!1}=t,a=mr(n,r.schema);return Lc(r,a,e)?o.unsetMark(a,{extendEmptyMarkRange:l}):o.setMark(a,e)},Q3=(n,e,t={})=>({state:r,commands:o})=>{const l=Je(n,r.schema),a=Je(e,r.schema),c=zo(r,l,t);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),c?o.setNode(a,d):o.setNode(l,{...d,...t})},G3=(n,e={})=>({state:t,commands:r})=>{const o=Je(n,t.schema);return zo(t,o,e)?r.lift(o):r.wrapIn(o,e)},Y3=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const o=t[r];let l;if(o.spec.isInputRules&&(l=o.getState(n))){if(e){const a=n.tr,c=l.transform;for(let d=c.steps.length-1;d>=0;d-=1)a.step(c.steps[d].invert(c.docs[d]));if(l.text){const d=a.doc.resolve(l.from).marks();a.replaceWith(l.from,l.to,n.schema.text(l.text,d))}else a.delete(l.from,l.to)}return!0}}return!1},X3=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:o}=t;return r||e&&o.forEach(l=>{n.removeMark(l.$from.pos,l.$to.pos)}),!0},Z3=(n,e={})=>({tr:t,state:r,dispatch:o})=>{var l;const{extendEmptyMarkRange:a=!1}=e,{selection:c}=t,d=mr(n,r.schema),{$from:h,empty:m,ranges:y}=c;if(!o)return!0;if(m&&a){let{from:v,to:k}=c;const S=(l=h.marks().find(b=>b.type===d))===null||l===void 0?void 0:l.attrs,x=cd(h,d,S);x&&(v=x.from,k=x.to),t.removeMark(v,k,d)}else y.forEach(v=>{t.removeMark(v.$from.pos,v.$to.pos,d)});return t.removeStoredMark(d),!0},eS=(n,e={})=>({tr:t,state:r,dispatch:o})=>{let l=null,a=null;const c=ql(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(l=Je(n,r.schema)),c==="mark"&&(a=mr(n,r.schema)),o&&t.selection.ranges.forEach(d=>{const h=d.$from.pos,m=d.$to.pos;let y,v,k,S;t.selection.empty?r.doc.nodesBetween(h,m,(x,b)=>{l&&l===x.type&&(k=Math.max(b,h),S=Math.min(b+x.nodeSize,m),y=b,v=x)}):r.doc.nodesBetween(h,m,(x,b)=>{b<h&&l&&l===x.type&&(k=Math.max(b,h),S=Math.min(b+x.nodeSize,m),y=b,v=x),b>=h&&b<=m&&(l&&l===x.type&&t.setNodeMarkup(b,void 0,{...x.attrs,...e}),a&&x.marks.length&&x.marks.forEach(N=>{if(a===N.type){const L=Math.max(b,h),Q=Math.min(b+x.nodeSize,m);t.addMark(L,Q,a.create({...N.attrs,...e}))}}))}),v&&(y!==void 0&&t.setNodeMarkup(y,void 0,{...v.attrs,...e}),a&&v.marks.length&&v.marks.forEach(x=>{a===x.type&&t.addMark(k,S,a.create({...x.attrs,...e}))}))}),!0):!1},tS=(n,e={})=>({state:t,dispatch:r})=>{const o=Je(n,t.schema);return vw(o,e)(t,r)},nS=(n,e={})=>({state:t,dispatch:r})=>{const o=Je(n,t.schema);return kw(o,e)(t,r)};var rS=Object.freeze({__proto__:null,blur:Vw,clearContent:Hw,clearNodes:Ww,command:Uw,createParagraphNear:Kw,cut:qw,deleteCurrentNode:Jw,deleteNode:Qw,deleteRange:Gw,deleteSelection:Yw,enter:Xw,exitCode:Zw,extendMarkRange:e3,first:t3,focus:n3,forEach:r3,insertContent:i3,insertContentAt:l3,joinBackward:c3,joinDown:u3,joinForward:d3,joinItemBackward:f3,joinItemForward:h3,joinTextblockBackward:p3,joinTextblockForward:m3,joinUp:a3,keyboardShortcut:y3,lift:v3,liftEmptyBlock:k3,liftListItem:w3,newlineInCode:S3,resetAttributes:x3,scrollIntoView:C3,selectAll:b3,selectNodeBackward:M3,selectNodeForward:E3,selectParentNode:_3,selectTextblockEnd:T3,selectTextblockStart:O3,setContent:N3,setMark:B3,setMeta:F3,setNode:j3,setNodeSelection:V3,setTextSelection:H3,sinkListItem:W3,splitBlock:U3,splitListItem:K3,toggleList:q3,toggleMark:J3,toggleNode:Q3,toggleWrap:G3,undoInputRule:Y3,unsetAllMarks:X3,unsetMark:Z3,updateAttributes:eS,wrapIn:tS,wrapInList:nS});const iS=ut.create({name:"commands",addCommands(){return{...rS}}}),oS=ut.create({name:"drop",addProseMirrorPlugins(){return[new _t({key:new yn("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),sS=ut.create({name:"editable",addProseMirrorPlugins(){return[new _t({key:new yn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),lS=ut.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new _t({key:new yn("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),aS=ut.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:c})=>{const{selection:d,doc:h}=c,{empty:m,$anchor:y}=d,{pos:v,parent:k}=y,S=y.parent.isTextblock&&v>0?c.doc.resolve(v-1):y,x=S.parent.type.spec.isolating,b=y.pos-y.parentOffset,N=x&&S.parent.childCount===1?b===y.pos:le.atStart(h).from===v;return!m||!k.type.isTextblock||k.textContent.length||!N||N&&y.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},l={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return dd()||Ag()?l:o},addProseMirrorPlugins(){return[new _t({key:new yn("clearDocument"),appendTransaction:(n,e,t)=>{const r=n.some(x=>x.docChanged)&&!e.doc.eq(t.doc),o=n.some(x=>x.getMeta("preventClearDocument"));if(!r||o)return;const{empty:l,from:a,to:c}=e.selection,d=le.atStart(e.doc).from,h=le.atEnd(e.doc).to;if(l||!(a===d&&c===h)||!hd(t.doc))return;const v=t.tr,k=Vl({state:t,transaction:v}),{commands:S}=new Hl({editor:this.editor,state:k});if(S.clearNodes(),!!v.steps.length)return v}})]}}),uS=ut.create({name:"paste",addProseMirrorPlugins(){return[new _t({key:new yn("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),cS=ut.create({name:"tabindex",addProseMirrorPlugins(){return[new _t({key:new yn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Nr{get name(){return this.node.type.name}constructor(e,t,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=o}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Nr(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Nr(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Nr(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const o=t.isBlock&&!t.isTextblock,l=t.isAtom&&!t.isText,a=this.pos+r+(l?0:1),c=this.resolvedPos.doc.resolve(a);if(!o&&c.depth<=this.depth)return;const d=new Nr(c,this.editor,o,o?t:null);o&&(d.actualDepth=this.depth+1),e.push(new Nr(c,this.editor,o,o?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===e)if(Object.keys(t).length>0){const l=o.node.attrs,a=Object.keys(t);for(let c=0;c<a.length;c+=1){const d=a[c];if(l[d]!==t[d])break}}else r=o;o=o.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const l=Object.keys(t);return this.children.forEach(a=>{r&&o.length>0||(a.node.type.name===e&&l.every(d=>t[d]===a.node.attrs[d])&&o.push(a),!(r&&o.length>0)&&(o=o.concat(a.querySelectorAll(e,t,r))))}),o}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const dS=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function fS(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute("data-tiptap-style",""),o.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(o),o}class hS extends Ew{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:o})=>this.options.onDrop(t,r,o)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=fS(dS,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=_g(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(l=>{const a=typeof l=="string"?`${l}$`:l.key;r=t.filter(c=>!c.key.startsWith(a))}),t.length===r.length)return;const o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}createExtensionManager(){var e,t;const o=[...this.options.enableCoreExtensions?[sS,jw.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),iS,lS,aS,cS,oS,uS].filter(l=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[l.name]!==!1:!0):[],...this.options.extensions].filter(l=>["extension","node","mark"].includes(l==null?void 0:l.type));this.extensionManager=new ki(o,this)}createCommandManager(){this.commandManager=new Hl({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=zc(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(c=>c.name!=="collaboration"),this.createExtensionManager()}}),t=zc(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=Pg(t,this.options.autofocus);this.view=new Wk(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:vi.create({doc:t,selection:r||void 0})});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.createNodeViews(),this.prependClass();const l=this.view.dom;l.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var c;return(c=this.capturedTransaction)===null||c===void 0?void 0:c.step(a)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),l=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),l&&this.emit("blur",{editor:this,event:l.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return I3(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,o=typeof e=="string"?t:e;return $3(this.state,r,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return ad(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return R3(this.state.doc,{blockSeparator:t,textSerializers:{...Og(this.schema),...r}})}get isEmpty(){return hd(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Nr(t,this)}get $doc(){return this.$pos(0)}}function Oi(n){return new Ul({find:n.find,handler:({state:e,range:t,match:r})=>{const o=ue(n.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:l}=e,a=r[r.length-1],c=r[0];if(a){const d=c.search(/\S/),h=t.from+c.indexOf(a),m=h+a.length;if($g(t.from,t.to,e.doc).filter(k=>k.mark.type.excluded.find(x=>x===n.type&&x!==k.mark.type)).filter(k=>k.to>h).length)return null;m<t.to&&l.delete(m,t.to),h>t.from&&l.delete(t.from+d,h);const v=t.from+d+a.length;l.addMark(t.from+d,v,n.type.create(o||{})),l.removeStoredMark(n.type)}}})}function pS(n){return new Ul({find:n.find,handler:({state:e,range:t,match:r})=>{const o=ue(n.getAttributes,void 0,r)||{},{tr:l}=e,a=t.from;let c=t.to;const d=n.type.create(o);if(r[1]){const h=r[0].lastIndexOf(r[1]);let m=a+h;m>c?m=c:c=m+r[1].length;const y=r[0][r[0].length-1];l.insertText(y,a+r[0].length-1),l.replaceWith(m,c,d)}else if(r[0]){const h=n.type.isInline?a:a-1;l.insert(h,n.type.create(o)).delete(l.mapping.map(a),l.mapping.map(c))}l.scrollIntoView()}})}function Bc(n){return new Ul({find:n.find,handler:({state:e,range:t,match:r})=>{const o=e.doc.resolve(t.from),l=ue(n.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,l)}})}function Lo(n){return new Ul({find:n.find,handler:({state:e,range:t,match:r,chain:o})=>{const l=ue(n.getAttributes,void 0,r)||{},a=e.tr.delete(t.from,t.to),d=a.doc.resolve(t.from).blockRange(),h=d&&Gc(d,n.type,l);if(!h)return null;if(a.wrap(d,h),n.keepMarks&&n.editor){const{selection:y,storedMarks:v}=e,{splittableMarks:k}=n.editor.extensionManager,S=v||y.$to.parentOffset&&y.$from.marks();if(S){const x=S.filter(b=>k.includes(b.type.name));a.ensureMarks(x)}}if(n.keepAttributes){const y=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(y,l).run()}const m=a.doc.resolve(t.from-1).nodeBefore;m&&m.type===n.type&&hr(a.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,m))&&a.join(t.from-1)}})}class Et{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ue(K(this,"addOptions",{name:this.name}))),this.storage=ue(K(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Et(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Kl(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Et(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ue(K(t,"addOptions",{name:t.name})),t.storage=ue(K(t,"addStorage",{name:t.name,options:t.options})),t}}function Ni(n){return new Iw({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:o})=>{const l=ue(n.getAttributes,void 0,r,o);if(l===!1||l===null)return null;const{tr:a}=e,c=r[r.length-1],d=r[0];let h=t.to;if(c){const m=d.search(/\S/),y=t.from+d.indexOf(c),v=y+c.length;if($g(t.from,t.to,e.doc).filter(S=>S.mark.type.excluded.find(b=>b===n.type&&b!==S.mark.type)).filter(S=>S.to>y).length)return null;v<t.to&&a.delete(v,t.to),y>t.from&&a.delete(t.from+m,y),h=t.from+m+c.length,a.addMark(t.from+m,h,n.type.create(l||{})),a.removeStoredMark(n.type)}}})}var mS=o1();const gS=i1(mS);function yS(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zg={exports:{}},fc={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function vS(){if(Tm)return fc;Tm=1;var n=lt;function e(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,o=n.useEffect,l=n.useLayoutEffect,a=n.useDebugValue;function c(y,v){var k=v(),S=r({inst:{value:k,getSnapshot:v}}),x=S[0].inst,b=S[1];return l(function(){x.value=k,x.getSnapshot=v,d(x)&&b({inst:x})},[y,k,v]),o(function(){return d(x)&&b({inst:x}),y(function(){d(x)&&b({inst:x})})},[y]),a(k),k}function d(y){var v=y.getSnapshot;y=y.value;try{var k=v();return!t(y,k)}catch{return!0}}function h(y,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return fc.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,fc}zg.exports=vS();var pd=zg.exports;const kS=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},wS=({contentComponent:n})=>{const e=pd.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return lt.createElement(lt.Fragment,null,Object.values(e))};function SS(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:gS.createPortal(r.reactElement,r.element,t)},n.forEach(o=>o())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(o=>o())}}}class xS extends lt.Component{constructor(e){var t;super(e),this.editorContentRef=lt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=SS(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return lt.createElement(lt.Fragment,null,lt.createElement("div",{ref:kS(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&lt.createElement(wS,{contentComponent:e.contentComponent}))}}const CS=Ue.forwardRef((n,e)=>{const t=lt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return lt.createElement(xS,{key:t,innerRef:e,...n})}),bS=lt.memo(CS);var MS=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,o,l;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(!n(e[o],t[o]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o of e.entries())if(!t.has(o[0]))return!1;for(o of e.entries())if(!n(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(e[o]!==t[o])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),r=l.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[o]))return!1;for(o=r;o--!==0;){var a=l[o];if(!(a==="_owner"&&e.$$typeof)&&!n(e[a],t[a]))return!1}return!0}return e!==e&&t!==t},ES=yS(MS),Lg={exports:{}},hc={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function _S(){if(Om)return hc;Om=1;var n=lt,e=pd;function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:t,o=e.useSyncExternalStore,l=n.useRef,a=n.useEffect,c=n.useMemo,d=n.useDebugValue;return hc.useSyncExternalStoreWithSelector=function(h,m,y,v,k){var S=l(null);if(S.current===null){var x={hasValue:!1,value:null};S.current=x}else x=S.current;S=c(function(){function N(Y){if(!L){if(L=!0,Q=Y,Y=v(Y),k!==void 0&&x.hasValue){var he=x.value;if(k(he,Y))return G=he}return G=Y}if(he=G,r(Q,Y))return he;var ve=v(Y);return k!==void 0&&k(he,ve)?he:(Q=Y,G=ve)}var L=!1,Q,G,re=y===void 0?null:y;return[function(){return N(m())},re===null?void 0:function(){return N(re())}]},[m,y,v,k]);var b=o(h,S[0],S[1]);return a(function(){x.hasValue=!0,x.value=b},[b]),d(b),b},hc}Lg.exports=_S();var TS=Lg.exports;const OS=typeof window<"u"?Ue.useLayoutEffect:Ue.useEffect;class NS{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(o=>o())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function DS(n){var e;const[t]=Ue.useState(()=>new NS(n.editor)),r=TS.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:ES);return OS(()=>t.watch(n.editor),[n.editor,t]),Ue.useDebugValue(r),r}const PS=!1,Fc=typeof window>"u",RS=Fc||!!(typeof window<"u"&&window.next);class AS{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Fc||RS?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var o,l;return(l=(o=this.options.current).onBeforeCreate)===null||l===void 0?void 0:l.call(o,...r)},onBlur:(...r)=>{var o,l;return(l=(o=this.options.current).onBlur)===null||l===void 0?void 0:l.call(o,...r)},onCreate:(...r)=>{var o,l;return(l=(o=this.options.current).onCreate)===null||l===void 0?void 0:l.call(o,...r)},onDestroy:(...r)=>{var o,l;return(l=(o=this.options.current).onDestroy)===null||l===void 0?void 0:l.call(o,...r)},onFocus:(...r)=>{var o,l;return(l=(o=this.options.current).onFocus)===null||l===void 0?void 0:l.call(o,...r)},onSelectionUpdate:(...r)=>{var o,l;return(l=(o=this.options.current).onSelectionUpdate)===null||l===void 0?void 0:l.call(o,...r)},onTransaction:(...r)=>{var o,l;return(l=(o=this.options.current).onTransaction)===null||l===void 0?void 0:l.call(o,...r)},onUpdate:(...r)=>{var o,l;return(l=(o=this.options.current).onUpdate)===null||l===void 0?void 0:l.call(o,...r)},onContentError:(...r)=>{var o,l;return(l=(o=this.options.current).onContentError)===null||l===void 0?void 0:l.call(o,...r)},onDrop:(...r)=>{var o,l;return(l=(o=this.options.current).onDrop)===null||l===void 0?void 0:l.call(o,...r)},onPaste:(...r)=>{var o,l;return(l=(o=this.options.current).onPaste)===null||l===void 0?void 0:l.call(o,...r)}};return new hS(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,o)=>r===e[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function IS(n={},e=[]){const t=Ue.useRef(n);t.current=n;const[r]=Ue.useState(()=>new AS(t)),o=pd.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return Ue.useDebugValue(o),Ue.useEffect(r.onRender(e)),DS({editor:o,selector:({transactionNumber:l})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&l===0?0:l+1}),o}const $S=Ue.createContext({editor:null});$S.Consumer;const zS=Ue.createContext({onDragStart:void 0}),LS=()=>Ue.useContext(zS);lt.forwardRef((n,e)=>{const{onDragStart:t}=LS(),r=n.as||"div";return lt.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const BS=/^\s*>\s$/,FS=Et.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",yt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Lo({find:BS,type:this.type})]}}),jS=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,VS=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,HS=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,WS=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,US=fr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",yt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Oi({find:jS,type:this.type}),Oi({find:HS,type:this.type})]},addPasteRules(){return[Ni({find:VS,type:this.type}),Ni({find:WS,type:this.type})]}}),KS="listItem",Nm="textStyle",Dm=/^\s*([-+*])\s$/,qS=Et.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",yt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(KS,this.editor.getAttributes(Nm)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Lo({find:Dm,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Lo({find:Dm,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Nm),editor:this.editor})),[n]}}),JS=new RegExp("(?<!`)`([^`]+)`(?!`)"),QS=new RegExp("(?<!`)`([^`]+)`(?!`)","g"),GS=fr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",yt(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Oi({find:JS,type:this.type})]},addPasteRules(){return[Ni({find:QS,type:this.type})]}}),YS=/^```([a-z]+)?[\s\n]$/,XS=/^~~~([a-z]+)?[\s\n]$/,ZS=Et.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,l=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(t)).map(a=>a.replace(t,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",yt(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:o}=t;if(!o||r.parent.type!==this.type)return!1;const l=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!l||!a?!1:n.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:o,empty:l}=t;if(!l||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const c=o.after();return c===void 0?!1:r.nodeAt(c)?n.commands.command(({tr:h})=>(h.setSelection(le.near(r.resolve(c))),!0)):n.commands.exitCode()}}},addInputRules(){return[Bc({find:YS,type:this.type,getAttributes:n=>({language:n[1]})}),Bc({find:XS,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new _t({key:new yn("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,l=o==null?void 0:o.mode;if(!t||!l)return!1;const{tr:a,schema:c}=n.state,d=c.text(t.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:l},d)),a.selection.$from.parent.type!==this.type&&a.setSelection(oe.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),n.dispatch(a),!0}}})]}}),ex=Et.create({name:"doc",topNode:!0,content:"block+"});function tx(n={}){return new _t({view(e){return new nx(e,n)}})}class nx{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let l=a=>{this[o](a)};return e.dom.addEventListener(o,l),{name:o,handler:l}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r;if(t){let c=e.nodeBefore,d=e.nodeAfter;if(c||d){let h=this.editorView.nodeDOM(this.cursorPos-(c?c.nodeSize:0));if(h){let m=h.getBoundingClientRect(),y=c?m.bottom:m.top;c&&d&&(y=(y+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:m.left,right:m.right,top:y-this.width/2,bottom:y+this.width/2}}}}if(!r){let c=this.editorView.coordsAtPos(this.cursorPos);r={left:c.left-this.width/2,right:c.left+this.width/2,top:c.top,bottom:c.bottom}}let o=this.editorView.dom.offsetParent;this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let l,a;if(!o||o==document.body&&getComputedStyle(o).position=="static")l=-pageXOffset,a=-pageYOffset;else{let c=o.getBoundingClientRect();l=c.left-o.scrollLeft,a=c.top-o.scrollTop}this.element.style.left=r.left-l+"px",this.element.style.top=r.top-a+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),o=r&&r.type.spec.disableDropCursor,l=typeof o=="function"?o(this.editorView,t,e):o;if(t&&!l){let a=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=P1(this.editorView.state.doc,a,this.editorView.dragging.slice);c!=null&&(a=c)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const rx=ut.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[tx(this.options)]}});class Pe extends le{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return Pe.valid(r)?new Pe(r):le.near(r)}content(){return j.empty}eq(e){return e instanceof Pe&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Pe(e.resolve(t.pos))}getBookmark(){return new md(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!ix(e)||!ox(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let o=t.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&Pe.valid(e))return e;let o=e.pos,l=null;for(let a=e.depth;;a--){let c=e.node(a);if(t>0?e.indexAfter(a)<c.childCount:e.index(a)>0){l=c.child(t>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;o+=t;let d=e.doc.resolve(o);if(Pe.valid(d))return d}for(;;){let a=t>0?l.firstChild:l.lastChild;if(!a){if(l.isAtom&&!l.isText&&!ee.isSelectable(l)){e=e.doc.resolve(o+l.nodeSize*t),r=!1;continue e}break}l=a,o+=t;let c=e.doc.resolve(o);if(Pe.valid(c))return c}return null}}}Pe.prototype.visible=!1;Pe.findFrom=Pe.findGapCursorFrom;le.jsonID("gapcursor",Pe);class md{constructor(e){this.pos=e}map(e){return new md(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Pe.valid(t)?new Pe(t):le.near(t)}}function ix(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(t-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function ox(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(t);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function sx(){return new _t({props:{decorations:cx,createSelectionBetween(n,e,t){return e.pos==t.pos&&Pe.valid(t)?new Pe(t):null},handleClick:ax,handleKeyDown:lx,handleDOMEvents:{beforeinput:ux}}})}const lx=kg({ArrowLeft:sl("horiz",-1),ArrowRight:sl("horiz",1),ArrowUp:sl("vert",-1),ArrowDown:sl("vert",1)});function sl(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,o,l){let a=r.selection,c=e>0?a.$to:a.$from,d=a.empty;if(a instanceof oe){if(!l.endOfTextblock(t)||c.depth==0)return!1;d=!1,c=r.doc.resolve(e>0?c.after():c.before())}let h=Pe.findGapCursorFrom(c,e,d);return h?(o&&o(r.tr.setSelection(new Pe(h))),!0):!1}}function ax(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!Pe.valid(r))return!1;let o=n.posAtCoords({left:t.clientX,top:t.clientY});return o&&o.inside>-1&&ee.isSelectable(n.state.doc.nodeAt(o.inside))?!1:(n.dispatch(n.state.tr.setSelection(new Pe(r))),!0)}function ux(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof Pe))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let o=$.empty;for(let a=r.length-1;a>=0;a--)o=$.from(r[a].createAndFill(null,o));let l=n.state.tr.replace(t.pos,t.pos,new j(o,0,0));return l.setSelection(oe.near(l.doc.resolve(t.pos+1))),n.dispatch(l),!1}function cx(n){if(!(n.selection instanceof Pe))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Be.create(n.doc,[Kt.widget(n.selection.head,e,{key:"gapcursor"})])}const dx=ut.create({name:"gapCursor",addProseMirrorPlugins(){return[sx()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=ue(K(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),fx=Et.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",yt(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:o,storedMarks:l}=t;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:c}=r.extensionManager,d=l||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:m})=>{if(m&&d&&a){const y=d.filter(v=>c.includes(v.type.name));h.ensureMarks(y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),hx=Et.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,yt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>Bc({find:new RegExp(`^(#{1,${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var Tl=200,qe=function(){};qe.prototype.append=function(e){return e.length?(e=qe.from(e),!this.length&&e||e.length<Tl&&this.leafAppend(e)||this.length<Tl&&e.leafPrepend(this)||this.appendInner(e)):this};qe.prototype.prepend=function(e){return e.length?qe.from(e).append(this):this};qe.prototype.appendInner=function(e){return new px(this,e)};qe.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?qe.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};qe.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};qe.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};qe.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(l,a){return o.push(e(l,a))},t,r),o};qe.from=function(e){return e instanceof qe?e:e&&e.length?new Bg(e):qe.empty};var Bg=function(n){function e(r){n.call(this),this.values=r}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,l){return o==0&&l==this.length?this:new e(this.values.slice(o,l))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,l,a,c){for(var d=l;d<a;d++)if(o(this.values[d],c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(o,l,a,c){for(var d=l-1;d>=a;d--)if(o(this.values[d],c+d)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=Tl)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=Tl)return new e(o.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(qe);qe.empty=new Bg([]);var px=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,o,l,a){var c=this.left.length;if(o<c&&this.left.forEachInner(r,o,Math.min(l,c),a)===!1||l>c&&this.right.forEachInner(r,Math.max(o-c,0),Math.min(this.length,l)-c,a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,l,a){var c=this.left.length;if(o>c&&this.right.forEachInvertedInner(r,o-c,Math.max(l,c)-c,a+c)===!1||l<c&&this.left.forEachInvertedInner(r,Math.min(o,c),l,a)===!1)return!1},e.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var l=this.left.length;return o<=l?this.left.slice(r,o):r>=l?this.right.slice(r-l,o-l):this.left.slice(r,l).append(this.right.slice(0,o-l))},e.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new e(o,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(qe);const mx=500;class nn{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,l;t&&(o=this.remapping(r,this.items.length),l=o.maps.length);let a=e.tr,c,d,h=[],m=[];return this.items.forEach((y,v)=>{if(!y.step){o||(o=this.remapping(r,v+1),l=o.maps.length),l--,m.push(y);return}if(o){m.push(new fn(y.map));let k=y.step.map(o.slice(l)),S;k&&a.maybeStep(k).doc&&(S=a.mapping.maps[a.mapping.maps.length-1],h.push(new fn(S,void 0,void 0,h.length+m.length))),l--,S&&o.appendMap(S,l)}else a.maybeStep(y.step);if(y.selection)return c=o?y.selection.map(o.slice(l)):y.selection,d=new nn(this.items.slice(0,r).append(m.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:a,selection:c}}addTransform(e,t,r,o){let l=[],a=this.eventCount,c=this.items,d=!o&&c.length?c.get(c.length-1):null;for(let m=0;m<e.steps.length;m++){let y=e.steps[m].invert(e.docs[m]),v=new fn(e.mapping.maps[m],y,t),k;(k=d&&d.merge(v))&&(v=k,m?l.pop():c=c.slice(0,c.length-1)),l.push(v),t&&(a++,t=void 0),o||(d=v)}let h=a-r.depth;return h>yx&&(c=gx(c,h),a-=h),new nn(c.append(l),a)}remapping(e,t){let r=new wi;return this.items.forEach((o,l)=>{let a=o.mirrorOffset!=null&&l-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,a)},e,t),r}addMaps(e){return this.eventCount==0?this:new nn(this.items.append(e.map(t=>new fn(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-t),l=e.mapping,a=e.steps.length,c=this.eventCount;this.items.forEach(v=>{v.selection&&c--},o);let d=t;this.items.forEach(v=>{let k=l.getMirror(--d);if(k==null)return;a=Math.min(a,k);let S=l.maps[k];if(v.step){let x=e.steps[k].invert(e.docs[k]),b=v.selection&&v.selection.map(l.slice(d+1,k));b&&c++,r.push(new fn(S,x,b))}else r.push(new fn(S))},o);let h=[];for(let v=t;v<a;v++)h.push(new fn(l.maps[v]));let m=this.items.slice(0,o).append(h).append(r),y=new nn(m,c);return y.emptyItemCount()>mx&&(y=y.compress(this.items.length-r.length)),y}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,o=[],l=0;return this.items.forEach((a,c)=>{if(c>=e)o.push(a),a.selection&&l++;else if(a.step){let d=a.step.map(t.slice(r)),h=d&&d.getMap();if(r--,h&&t.appendMap(h,r),d){let m=a.selection&&a.selection.map(t.slice(r));m&&l++;let y=new fn(h.invert(),d,m),v,k=o.length-1;(v=o.length&&o[k].merge(y))?o[k]=v:o.push(y)}}else a.map&&r--},this.items.length,0),new nn(qe.from(o.reverse()),l)}}nn.empty=new nn(qe.empty,0);function gx(n,e){let t;return n.forEach((r,o)=>{if(r.selection&&e--==0)return t=o,!1}),n.slice(t)}class fn{constructor(e,t,r,o){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new fn(t.getMap().invert(),t,this.selection)}}}class Zn{constructor(e,t,r,o,l){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=o,this.prevComposition=l}}const yx=20;function vx(n,e,t,r){let o=t.getMeta(Lr),l;if(o)return o.historyState;t.getMeta(Sx)&&(n=new Zn(n.done,n.undone,null,0,-1));let a=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(a&&a.getMeta(Lr))return a.getMeta(Lr).redo?new Zn(n.done.addTransform(t,void 0,r,fl(e)),n.undone,Pm(t.mapping.maps),n.prevTime,n.prevComposition):new Zn(n.done,n.undone.addTransform(t,void 0,r,fl(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let c=t.getMeta("composition"),d=n.prevTime==0||!a&&n.prevComposition!=c&&(n.prevTime<(t.time||0)-r.newGroupDelay||!kx(t,n.prevRanges)),h=a?pc(n.prevRanges,t.mapping):Pm(t.mapping.maps);return new Zn(n.done.addTransform(t,d?e.selection.getBookmark():void 0,r,fl(e)),nn.empty,h,t.time,c??n.prevComposition)}else return(l=t.getMeta("rebased"))?new Zn(n.done.rebased(t,l),n.undone.rebased(t,l),pc(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Zn(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),pc(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function kx(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,o)=>{for(let l=0;l<e.length;l+=2)r<=e[l+1]&&o>=e[l]&&(t=!0)}),t}function Pm(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,o,l,a)=>e.push(l,a));return e}function pc(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let o=e.map(n[r],1),l=e.map(n[r+1],-1);o<=l&&t.push(o,l)}return t}function wx(n,e,t){let r=fl(e),o=Lr.get(e).spec.config,l=(t?n.undone:n.done).popEvent(e,r);if(!l)return null;let a=l.selection.resolve(l.transform.doc),c=(t?n.done:n.undone).addTransform(l.transform,e.selection.getBookmark(),o,r),d=new Zn(t?c:l.remaining,t?l.remaining:c,null,0,-1);return l.transform.setSelection(a).setMeta(Lr,{redo:t,historyState:d})}let mc=!1,Rm=null;function fl(n){let e=n.plugins;if(Rm!=e){mc=!1,Rm=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){mc=!0;break}}return mc}const Lr=new yn("history"),Sx=new yn("closeHistory");function xx(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new _t({key:Lr,state:{init(){return new Zn(nn.empty,nn.empty,null,0,-1)},apply(e,t,r){return vx(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,o=r=="historyUndo"?jg:r=="historyRedo"?Vg:null;return o?(t.preventDefault(),o(e.state,e.dispatch)):!1}}}})}function Fg(n,e){return(t,r)=>{let o=Lr.getState(t);if(!o||(n?o.undone:o.done).eventCount==0)return!1;if(r){let l=wx(o,t,n);l&&r(e?l.scrollIntoView():l)}return!0}}const jg=Fg(!1,!0),Vg=Fg(!0,!0),Cx=ut.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>jg(n,e),redo:()=>({state:n,dispatch:e})=>Vg(n,e)}},addProseMirrorPlugins(){return[xx(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),bx=Et.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",yt(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:r,$to:o}=t,l=n();return r.parentOffset===0?l.insertContentAt({from:Math.max(r.pos-1,0),to:o.pos},{type:this.name}):z3(t)?l.insertContentAt(o.pos,{type:this.name}):l.insertContent({type:this.name}),l.command(({tr:a,dispatch:c})=>{var d;if(c){const{$to:h}=a.selection,m=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?a.setSelection(oe.create(a.doc,h.pos+1)):h.nodeAfter.isBlock?a.setSelection(ee.create(a.doc,h.pos)):a.setSelection(oe.create(a.doc,h.pos));else{const y=(d=h.parent.type.contentMatch.defaultType)===null||d===void 0?void 0:d.create();y&&(a.insert(m,y),a.setSelection(oe.create(a.doc,m+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[pS({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Mx=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Ex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,_x=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Tx=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Ox=fr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",yt(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Oi({find:Mx,type:this.type}),Oi({find:_x,type:this.type})]},addPasteRules(){return[Ni({find:Ex,type:this.type}),Ni({find:Tx,type:this.type})]}}),Nx=Et.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",yt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Dx="listItem",Am="textStyle",Im=/^(\d+)\.\s$/,Px=Et.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",yt(this.options.HTMLAttributes,t),0]:["ol",yt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Dx,this.editor.getAttributes(Am)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Lo({find:Im,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Lo({find:Im,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Am)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),Rx=Et.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",yt(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Ax=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Ix=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,$x=fr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",yt(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Oi({find:Ax,type:this.type})]},addPasteRules(){return[Ni({find:Ix,type:this.type})]}}),zx=Et.create({name:"text",group:"inline"}),Lx=ut.create({name:"starterKit",addExtensions(){var n,e,t,r,o,l,a,c,d,h,m,y,v,k,S,x,b,N;const L=[];return this.options.bold!==!1&&L.push(US.configure((n=this.options)===null||n===void 0?void 0:n.bold)),this.options.blockquote!==!1&&L.push(FS.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&L.push(qS.configure((t=this.options)===null||t===void 0?void 0:t.bulletList)),this.options.code!==!1&&L.push(GS.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&L.push(ZS.configure((o=this.options)===null||o===void 0?void 0:o.codeBlock)),this.options.document!==!1&&L.push(ex.configure((l=this.options)===null||l===void 0?void 0:l.document)),this.options.dropcursor!==!1&&L.push(rx.configure((a=this.options)===null||a===void 0?void 0:a.dropcursor)),this.options.gapcursor!==!1&&L.push(dx.configure((c=this.options)===null||c===void 0?void 0:c.gapcursor)),this.options.hardBreak!==!1&&L.push(fx.configure((d=this.options)===null||d===void 0?void 0:d.hardBreak)),this.options.heading!==!1&&L.push(hx.configure((h=this.options)===null||h===void 0?void 0:h.heading)),this.options.history!==!1&&L.push(Cx.configure((m=this.options)===null||m===void 0?void 0:m.history)),this.options.horizontalRule!==!1&&L.push(bx.configure((y=this.options)===null||y===void 0?void 0:y.horizontalRule)),this.options.italic!==!1&&L.push(Ox.configure((v=this.options)===null||v===void 0?void 0:v.italic)),this.options.listItem!==!1&&L.push(Nx.configure((k=this.options)===null||k===void 0?void 0:k.listItem)),this.options.orderedList!==!1&&L.push(Px.configure((S=this.options)===null||S===void 0?void 0:S.orderedList)),this.options.paragraph!==!1&&L.push(Rx.configure((x=this.options)===null||x===void 0?void 0:x.paragraph)),this.options.strike!==!1&&L.push($x.configure((b=this.options)===null||b===void 0?void 0:b.strike)),this.options.text!==!1&&L.push(zx.configure((N=this.options)===null||N===void 0?void 0:N.text)),L}}),Bx=ut.create({name:"emoji",addCommands(){return{insertEmoji:n=>({commands:e})=>e.insertContent(n)}}});function Hg(n){return n&&n.__esModule?n.default:n}function Ht(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Jl,te,Wg,Oo,Ug,$m,Ol={},Kg=[],Fx=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ir(n,e){for(var t in e)n[t]=e[t];return n}function qg(n){var e=n.parentNode;e&&e.removeChild(n)}function jc(n,e,t){var r,o,l,a={};for(l in e)l=="key"?r=e[l]:l=="ref"?o=e[l]:a[l]=e[l];if(arguments.length>2&&(a.children=arguments.length>3?Jl.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(l in n.defaultProps)a[l]===void 0&&(a[l]=n.defaultProps[l]);return hl(n,a,r,o,null)}function hl(n,e,t,r,o){var l={type:n,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++Wg};return o==null&&te.vnode!=null&&te.vnode(l),l}function _n(){return{current:null}}function Di(n){return n.children}function pn(n,e){this.props=n,this.context=e}function Pi(n,e){if(e==null)return n.__?Pi(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?Pi(n):null}function Jg(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return Jg(n)}}function zm(n){(!n.__d&&(n.__d=!0)&&Oo.push(n)&&!Nl.__r++||$m!==te.debounceRendering)&&(($m=te.debounceRendering)||Ug)(Nl)}function Nl(){for(var n;Nl.__r=Oo.length;)n=Oo.sort(function(e,t){return e.__v.__b-t.__v.__b}),Oo=[],n.some(function(e){var t,r,o,l,a,c;e.__d&&(a=(l=(t=e).__v).__e,(c=t.__P)&&(r=[],(o=ir({},l)).__v=l.__v+1,gd(c,l,o,t.__n,c.ownerSVGElement!==void 0,l.__h!=null?[a]:null,r,a??Pi(l),l.__h),Xg(r,l),l.__e!=a&&Jg(l)))})}function Qg(n,e,t,r,o,l,a,c,d,h){var m,y,v,k,S,x,b,N=r&&r.__k||Kg,L=N.length;for(t.__k=[],m=0;m<e.length;m++)if((k=t.__k[m]=(k=e[m])==null||typeof k=="boolean"?null:typeof k=="string"||typeof k=="number"||typeof k=="bigint"?hl(null,k,null,null,k):Array.isArray(k)?hl(Di,{children:k},null,null,null):k.__b>0?hl(k.type,k.props,k.key,null,k.__v):k)!=null){if(k.__=t,k.__b=t.__b+1,(v=N[m])===null||v&&k.key==v.key&&k.type===v.type)N[m]=void 0;else for(y=0;y<L;y++){if((v=N[y])&&k.key==v.key&&k.type===v.type){N[y]=void 0;break}v=null}gd(n,k,v=v||Ol,o,l,a,c,d,h),S=k.__e,(y=k.ref)&&v.ref!=y&&(b||(b=[]),v.ref&&b.push(v.ref,null,k),b.push(y,k.__c||S,k)),S!=null?(x==null&&(x=S),typeof k.type=="function"&&k.__k===v.__k?k.__d=d=Gg(k,d,n):d=Yg(n,k,v,N,S,d),typeof t.type=="function"&&(t.__d=d)):d&&v.__e==d&&d.parentNode!=n&&(d=Pi(v))}for(t.__e=x,m=L;m--;)N[m]!=null&&(typeof t.type=="function"&&N[m].__e!=null&&N[m].__e==t.__d&&(t.__d=Pi(r,m+1)),e0(N[m],N[m]));if(b)for(m=0;m<b.length;m++)Zg(b[m],b[++m],b[++m])}function Gg(n,e,t){for(var r,o=n.__k,l=0;o&&l<o.length;l++)(r=o[l])&&(r.__=n,e=typeof r.type=="function"?Gg(r,e,t):Yg(t,r,r,o,r.__e,e));return e}function Dl(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){Dl(t,e)}):e.push(n)),e}function Yg(n,e,t,r,o,l){var a,c,d;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(t==null||o!=l||o.parentNode==null)e:if(l==null||l.parentNode!==n)n.appendChild(o),a=null;else{for(c=l,d=0;(c=c.nextSibling)&&d<r.length;d+=2)if(c==o)break e;n.insertBefore(o,l),a=l}return a!==void 0?a:o.nextSibling}function jx(n,e,t,r,o){var l;for(l in t)l==="children"||l==="key"||l in e||Pl(n,l,null,t[l],r);for(l in e)o&&typeof e[l]!="function"||l==="children"||l==="key"||l==="value"||l==="checked"||t[l]===e[l]||Pl(n,l,e[l],t[l],r)}function Lm(n,e,t){e[0]==="-"?n.setProperty(e,t):n[e]=t==null?"":typeof t!="number"||Fx.test(e)?t:t+"px"}function Pl(n,e,t,r,o){var l;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)t&&e in t||Lm(n.style,e,"");if(t)for(e in t)r&&t[e]===r[e]||Lm(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")l=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+l]=t,t?r||n.addEventListener(e,l?Fm:Bm,l):n.removeEventListener(e,l?Fm:Bm,l);else if(e!=="dangerouslySetInnerHTML"){if(o)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t!=null&&(t!==!1||e[0]==="a"&&e[1]==="r")?n.setAttribute(e,t):n.removeAttribute(e))}}function Bm(n){this.l[n.type+!1](te.event?te.event(n):n)}function Fm(n){this.l[n.type+!0](te.event?te.event(n):n)}function gd(n,e,t,r,o,l,a,c,d){var h,m,y,v,k,S,x,b,N,L,Q,G=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(d=t.__h,c=e.__e=t.__e,e.__h=null,l=[c]),(h=te.__b)&&h(e);try{e:if(typeof G=="function"){if(b=e.props,N=(h=G.contextType)&&r[h.__c],L=h?N?N.props.value:h.__:r,t.__c?x=(m=e.__c=t.__c).__=m.__E:("prototype"in G&&G.prototype.render?e.__c=m=new G(b,L):(e.__c=m=new pn(b,L),m.constructor=G,m.render=Hx),N&&N.sub(m),m.props=b,m.state||(m.state={}),m.context=L,m.__n=r,y=m.__d=!0,m.__h=[]),m.__s==null&&(m.__s=m.state),G.getDerivedStateFromProps!=null&&(m.__s==m.state&&(m.__s=ir({},m.__s)),ir(m.__s,G.getDerivedStateFromProps(b,m.__s))),v=m.props,k=m.state,y)G.getDerivedStateFromProps==null&&m.componentWillMount!=null&&m.componentWillMount(),m.componentDidMount!=null&&m.__h.push(m.componentDidMount);else{if(G.getDerivedStateFromProps==null&&b!==v&&m.componentWillReceiveProps!=null&&m.componentWillReceiveProps(b,L),!m.__e&&m.shouldComponentUpdate!=null&&m.shouldComponentUpdate(b,m.__s,L)===!1||e.__v===t.__v){m.props=b,m.state=m.__s,e.__v!==t.__v&&(m.__d=!1),m.__v=e,e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(re){re&&(re.__=e)}),m.__h.length&&a.push(m);break e}m.componentWillUpdate!=null&&m.componentWillUpdate(b,m.__s,L),m.componentDidUpdate!=null&&m.__h.push(function(){m.componentDidUpdate(v,k,S)})}m.context=L,m.props=b,m.state=m.__s,(h=te.__r)&&h(e),m.__d=!1,m.__v=e,m.__P=n,h=m.render(m.props,m.state,m.context),m.state=m.__s,m.getChildContext!=null&&(r=ir(ir({},r),m.getChildContext())),y||m.getSnapshotBeforeUpdate==null||(S=m.getSnapshotBeforeUpdate(v,k)),Q=h!=null&&h.type===Di&&h.key==null?h.props.children:h,Qg(n,Array.isArray(Q)?Q:[Q],e,t,r,o,l,a,c,d),m.base=e.__e,e.__h=null,m.__h.length&&a.push(m),x&&(m.__E=m.__=null),m.__e=!1}else l==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=Vx(t.__e,e,t,r,o,l,a,d);(h=te.diffed)&&h(e)}catch(re){e.__v=null,(d||l!=null)&&(e.__e=c,e.__h=!!d,l[l.indexOf(c)]=null),te.__e(re,e,t)}}function Xg(n,e){te.__c&&te.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(r){r.call(t)})}catch(r){te.__e(r,t.__v)}})}function Vx(n,e,t,r,o,l,a,c){var d,h,m,y=t.props,v=e.props,k=e.type,S=0;if(k==="svg"&&(o=!0),l!=null){for(;S<l.length;S++)if((d=l[S])&&"setAttribute"in d==!!k&&(k?d.localName===k:d.nodeType===3)){n=d,l[S]=null;break}}if(n==null){if(k===null)return document.createTextNode(v);n=o?document.createElementNS("http://www.w3.org/2000/svg",k):document.createElement(k,v.is&&v),l=null,c=!1}if(k===null)y===v||c&&n.data===v||(n.data=v);else{if(l=l&&Jl.call(n.childNodes),h=(y=t.props||Ol).dangerouslySetInnerHTML,m=v.dangerouslySetInnerHTML,!c){if(l!=null)for(y={},S=0;S<n.attributes.length;S++)y[n.attributes[S].name]=n.attributes[S].value;(m||h)&&(m&&(h&&m.__html==h.__html||m.__html===n.innerHTML)||(n.innerHTML=m&&m.__html||""))}if(jx(n,v,y,o,c),m)e.__k=[];else if(S=e.props.children,Qg(n,Array.isArray(S)?S:[S],e,t,r,o&&k!=="foreignObject",l,a,l?l[0]:t.__k&&Pi(t,0),c),l!=null)for(S=l.length;S--;)l[S]!=null&&qg(l[S]);c||("value"in v&&(S=v.value)!==void 0&&(S!==y.value||S!==n.value||k==="progress"&&!S)&&Pl(n,"value",S,y.value,!1),"checked"in v&&(S=v.checked)!==void 0&&S!==n.checked&&Pl(n,"checked",S,y.checked,!1))}return n}function Zg(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(r){te.__e(r,t)}}function e0(n,e,t){var r,o;if(te.unmount&&te.unmount(n),(r=n.ref)&&(r.current&&r.current!==n.__e||Zg(r,null,e)),(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(l){te.__e(l,e)}r.base=r.__P=null}if(r=n.__k)for(o=0;o<r.length;o++)r[o]&&e0(r[o],e,typeof n.type!="function");t||n.__e==null||qg(n.__e),n.__e=n.__d=void 0}function Hx(n,e,t){return this.constructor(n,t)}function t0(n,e,t){var r,o,l;te.__&&te.__(n,e),o=(r=typeof t=="function")?null:t&&t.__k||e.__k,l=[],gd(e,n=(!r&&t||e).__k=jc(Di,null,[n]),o||Ol,Ol,e.ownerSVGElement!==void 0,!r&&t?[t]:o?null:e.firstChild?Jl.call(e.childNodes):null,l,!r&&t?t:o?o.__e:e.firstChild,r),Xg(l,n)}Jl=Kg.slice,te={__e:function(n,e){for(var t,r,o;e=e.__;)if((t=e.__c)&&!t.__)try{if((r=t.constructor)&&r.getDerivedStateFromError!=null&&(t.setState(r.getDerivedStateFromError(n)),o=t.__d),t.componentDidCatch!=null&&(t.componentDidCatch(n),o=t.__d),o)return t.__E=t}catch(l){n=l}throw n}},Wg=0,pn.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ir({},this.state),typeof n=="function"&&(n=n(ir({},t),this.props)),n&&ir(t,n),n!=null&&this.__v&&(e&&this.__h.push(e),zm(this))},pn.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),zm(this))},pn.prototype.render=Di,Oo=[],Ug=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Nl.__r=0;var Wx=0;function P(n,e,t,r,o){var l,a,c={};for(a in e)a=="ref"?l=e[a]:c[a]=e[a];var d={type:n,props:c,key:t,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Wx,__source:r,__self:o};if(typeof n=="function"&&(l=n.defaultProps))for(a in l)c[a]===void 0&&(c[a]=l[a]);return te.vnode&&te.vnode(d),d}function Ux(n,e){try{window.localStorage[`emoji-mart.${n}`]=JSON.stringify(e)}catch{}}function Kx(n){try{const e=window.localStorage[`emoji-mart.${n}`];if(e)return JSON.parse(e)}catch{}}var cr={set:Ux,get:Kx};const gc=new Map,qx=[{v:15,emoji:""},{v:14,emoji:""},{v:13.1,emoji:""},{v:13,emoji:""},{v:12.1,emoji:""},{v:12,emoji:""},{v:11,emoji:""},{v:5,emoji:""},{v:4,emoji:""},{v:3,emoji:""},{v:2,emoji:""},{v:1,emoji:""}];function Jx(){for(const{v:n,emoji:e}of qx)if(n0(e))return n}function Qx(){return!n0("")}function n0(n){if(gc.has(n))return gc.get(n);const e=Gx(n);return gc.set(n,e),e}const Gx=(()=>{let n=null;try{navigator.userAgent.includes("jsdom")||(n=document.createElement("canvas").getContext("2d",{willReadFrequently:!0}))}catch{}if(!n)return()=>!1;const e=25,t=20,r=Math.floor(e/2);return n.font=r+"px Arial, Sans-Serif",n.textBaseline="top",n.canvas.width=t*2,n.canvas.height=e,o=>{n.clearRect(0,0,t*2,e),n.fillStyle="#FF0000",n.fillText(o,0,22),n.fillStyle="#0000FF",n.fillText(o,t,22);const l=n.getImageData(0,0,t,e).data,a=l.length;let c=0;for(;c<a&&!l[c+3];c+=4);if(c>=a)return!1;const d=t+c/4%t,h=Math.floor(c/4/t),m=n.getImageData(d,h,1,1).data;return!(l[c]!==m[0]||l[c+2]!==m[2]||n.measureText(o).width>=t)}})();var jm={latestVersion:Jx,noCountryFlags:Qx};const Vc=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart"];let Xe=null;function Yx(n){Xe||(Xe=cr.get("frequently")||{});const e=n.id||n;e&&(Xe[e]||(Xe[e]=0),Xe[e]+=1,cr.set("last",e),cr.set("frequently",Xe))}function Xx({maxFrequentRows:n,perLine:e}){if(!n)return[];Xe||(Xe=cr.get("frequently"));let t=[];if(!Xe){Xe={};for(let l in Vc.slice(0,e)){const a=Vc[l];Xe[a]=e-l,t.push(a)}return t}const r=n*e,o=cr.get("last");for(let l in Xe)t.push(l);if(t.sort((l,a)=>{const c=Xe[a],d=Xe[l];return c==d?l.localeCompare(a):c-d}),t.length>r){const l=t.slice(r);t=t.slice(0,r);for(let a of l)a!=o&&delete Xe[a];o&&t.indexOf(o)==-1&&(delete Xe[t[t.length-1]],t.splice(-1,1,o)),cr.set("frequently",Xe)}return t}var r0={add:Yx,get:Xx,DEFAULTS:Vc},i0={};i0=JSON.parse('{"search":"Search","search_no_results_1":"Oh no!","search_no_results_2":"That emoji couldnt be found","pick":"Pick an emoji","add_custom":"Add custom emoji","categories":{"activity":"Activity","custom":"Custom","flags":"Flags","foods":"Food & Drink","frequent":"Frequently used","nature":"Animals & Nature","objects":"Objects","people":"Smileys & People","places":"Travel & Places","search":"Search Results","symbols":"Symbols"},"skins":{"1":"Default","2":"Light","3":"Medium-Light","4":"Medium","5":"Medium-Dark","6":"Dark","choose":"Choose default skin tone"}}');var On={autoFocus:{value:!1},dynamicWidth:{value:!1},emojiButtonColors:{value:null},emojiButtonRadius:{value:"100%"},emojiButtonSize:{value:36},emojiSize:{value:24},emojiVersion:{value:15,choices:[1,2,3,4,5,11,12,12.1,13,13.1,14,15]},exceptEmojis:{value:[]},icons:{value:"auto",choices:["auto","outline","solid"]},locale:{value:"en",choices:["en","ar","be","cs","de","es","fa","fi","fr","hi","it","ja","ko","nl","pl","pt","ru","sa","tr","uk","vi","zh"]},maxFrequentRows:{value:4},navPosition:{value:"top",choices:["top","bottom","none"]},noCountryFlags:{value:!1},noResultsEmoji:{value:null},perLine:{value:9},previewEmoji:{value:null},previewPosition:{value:"bottom",choices:["top","bottom","none"]},searchPosition:{value:"sticky",choices:["sticky","static","none"]},set:{value:"native",choices:["native","apple","facebook","google","twitter"]},skin:{value:1,choices:[1,2,3,4,5,6]},skinTonePosition:{value:"preview",choices:["preview","search","none"]},theme:{value:"auto",choices:["auto","light","dark"]},categories:null,categoryIcons:null,custom:null,data:null,i18n:null,getImageURL:null,getSpritesheetURL:null,onAddCustomEmoji:null,onClickOutside:null,onEmojiSelect:null,stickySearch:{deprecated:!0,value:!0}};let ot=null,fe=null;const yc={};async function Vm(n){if(yc[n])return yc[n];const t=await(await fetch(n)).json();return yc[n]=t,t}let vc=null,o0=null,s0=!1;function Ql(n,{caller:e}={}){return vc||(vc=new Promise(t=>{o0=t})),n?Zx(n):e&&!s0&&console.warn(`\`${e}\` requires data to be initialized first. Promise will be pending until \`init\` is called.`),vc}async function Zx(n){s0=!0;let{emojiVersion:e,set:t,locale:r}=n;if(e||(e=On.emojiVersion.value),t||(t=On.set.value),r||(r=On.locale.value),fe)fe.categories=fe.categories.filter(d=>!d.name);else{fe=(typeof n.data=="function"?await n.data():n.data)||await Vm(`https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/sets/${e}/${t}.json`),fe.emoticons={},fe.natives={},fe.categories.unshift({id:"frequent",emojis:[]});for(const d in fe.aliases){const h=fe.aliases[d],m=fe.emojis[h];m&&(m.aliases||(m.aliases=[]),m.aliases.push(d))}fe.originalCategories=fe.categories}if(ot=(typeof n.i18n=="function"?await n.i18n():n.i18n)||(r=="en"?Hg(i0):await Vm(`https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/i18n/${r}.json`)),n.custom)for(let d in n.custom){d=parseInt(d);const h=n.custom[d],m=n.custom[d-1];if(!(!h.emojis||!h.emojis.length)){h.id||(h.id=`custom_${d+1}`),h.name||(h.name=ot.categories.custom),m&&!h.icon&&(h.target=m.target||m),fe.categories.push(h);for(const y of h.emojis)fe.emojis[y.id]=y}}n.categories&&(fe.categories=fe.originalCategories.filter(d=>n.categories.indexOf(d.id)!=-1).sort((d,h)=>{const m=n.categories.indexOf(d.id),y=n.categories.indexOf(h.id);return m-y}));let o=null,l=null;t=="native"&&(o=jm.latestVersion(),l=n.noCountryFlags||jm.noCountryFlags());let a=fe.categories.length,c=!1;for(;a--;){const d=fe.categories[a];if(d.id=="frequent"){let{maxFrequentRows:y,perLine:v}=n;y=y>=0?y:On.maxFrequentRows.value,v||(v=On.perLine.value),d.emojis=r0.get({maxFrequentRows:y,perLine:v})}if(!d.emojis||!d.emojis.length){fe.categories.splice(a,1);continue}const{categoryIcons:h}=n;if(h){const y=h[d.id];y&&!d.icon&&(d.icon=y)}let m=d.emojis.length;for(;m--;){const y=d.emojis[m],v=y.id?y:fe.emojis[y],k=()=>{d.emojis.splice(m,1)};if(!v||n.exceptEmojis&&n.exceptEmojis.includes(v.id)){k();continue}if(o&&v.version>o){k();continue}if(l&&d.id=="flags"&&!iC.includes(v.id)){k();continue}if(!v.search){if(c=!0,v.search=","+[[v.id,!1],[v.name,!0],[v.keywords,!1],[v.emoticons,!1]].map(([x,b])=>{if(x)return(Array.isArray(x)?x:[x]).map(N=>(b?N.split(/[-|_|\s]+/):[N]).map(L=>L.toLowerCase())).flat()}).flat().filter(x=>x&&x.trim()).join(","),v.emoticons)for(const x of v.emoticons)fe.emoticons[x]||(fe.emoticons[x]=v.id);let S=0;for(const x of v.skins){if(!x)continue;S++;const{native:b}=x;b&&(fe.natives[b]=v.id,v.search+=`,${b}`);const N=S==1?"":`:skin-tone-${S}:`;x.shortcodes=`:${v.id}:${N}`}}}}c&&bi.reset(),o0()}function l0(n,e,t){n||(n={});const r={};for(let o in e)r[o]=a0(o,n,e,t);return r}function a0(n,e,t,r){const o=t[n];let l=r&&r.getAttribute(n)||(e[n]!=null&&e[n]!=null?e[n]:null);return o&&(l!=null&&o.value&&typeof o.value!=typeof l&&(typeof o.value=="boolean"?l=l!="false":l=o.value.constructor(l)),o.transform&&l&&(l=o.transform(l)),(l==null||o.choices&&o.choices.indexOf(l)==-1)&&(l=o.value)),l}const eC=/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/;let Hc=null;function tC(n){return n.id?n:fe.emojis[n]||fe.emojis[fe.aliases[n]]||fe.emojis[fe.natives[n]]}function nC(){Hc=null}async function rC(n,{maxResults:e,caller:t}={}){if(!n||!n.trim().length)return null;e||(e=90),await Ql(null,{caller:t||"SearchIndex.search"});const r=n.toLowerCase().replace(/(\w)-/,"$1 ").split(/[\s|,]+/).filter((c,d,h)=>c.trim()&&h.indexOf(c)==d);if(!r.length)return;let o=Hc||(Hc=Object.values(fe.emojis)),l,a;for(const c of r){if(!o.length)break;l=[],a={};for(const d of o){if(!d.search)continue;const h=d.search.indexOf(`,${c}`);h!=-1&&(l.push(d),a[d.id]||(a[d.id]=0),a[d.id]+=d.id==c?0:h+1)}o=l}return l.length<2||(l.sort((c,d)=>{const h=a[c.id],m=a[d.id];return h==m?c.id.localeCompare(d.id):h-m}),l.length>e&&(l=l.slice(0,e))),l}var bi={search:rC,get:tC,reset:nC,SHORTCODES_REGEX:eC};const iC=["checkered_flag","crossed_flags","pirate_flag","rainbow-flag","transgender_flag","triangular_flag_on_post","waving_black_flag","waving_white_flag"];function oC(n,e){return Array.isArray(n)&&Array.isArray(e)&&n.length===e.length&&n.every((t,r)=>t==e[r])}async function sC(n=1){for(let e in[...Array(n).keys()])await new Promise(requestAnimationFrame)}function lC(n,{skinIndex:e=0}={}){const t=n.skins[e]||(e=0,n.skins[e]),r={id:n.id,name:n.name,native:t.native,unified:t.unified,keywords:n.keywords,shortcodes:t.shortcodes||n.shortcodes};return n.skins.length>1&&(r.skin=e+1),t.src&&(r.src=t.src),n.aliases&&n.aliases.length&&(r.aliases=n.aliases),n.emoticons&&n.emoticons.length&&(r.emoticons=n.emoticons),r}const aC={activity:{outline:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:P("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"})}),solid:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:P("path",{d:"M16.17 337.5c0 44.98 7.565 83.54 13.98 107.9C35.22 464.3 50.46 496 174.9 496c9.566 0 19.59-.4707 29.84-1.271L17.33 307.3C16.53 317.6 16.17 327.7 16.17 337.5zM495.8 174.5c0-44.98-7.565-83.53-13.98-107.9c-4.688-17.54-18.34-31.23-36.04-35.95C435.5 27.91 392.9 16 337 16c-9.564 0-19.59 .4707-29.84 1.271l187.5 187.5C495.5 194.4 495.8 184.3 495.8 174.5zM26.77 248.8l236.3 236.3c142-36.1 203.9-150.4 222.2-221.1L248.9 26.87C106.9 62.96 45.07 177.2 26.77 248.8zM256 335.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L164.7 283.3C161.6 280.2 160 276.1 160 271.1c0-8.529 6.865-16 16-16c4.095 0 8.189 1.562 11.31 4.688l64.01 64C254.4 327.8 256 331.9 256 335.1zM304 287.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L212.7 235.3C209.6 232.2 208 228.1 208 223.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01C302.5 279.8 304 283.9 304 287.1zM256 175.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01c3.125 3.125 4.688 7.219 4.688 11.31c0 9.133-7.468 16-16 16c-4.094 0-8.189-1.562-11.31-4.688l-64.01-64.01C257.6 184.2 256 180.1 256 175.1z"})})},custom:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:P("path",{d:"M417.1 368c-5.937 10.27-16.69 16-27.75 16c-5.422 0-10.92-1.375-15.97-4.281L256 311.4V448c0 17.67-14.33 32-31.1 32S192 465.7 192 448V311.4l-118.3 68.29C68.67 382.6 63.17 384 57.75 384c-11.06 0-21.81-5.734-27.75-16c-8.828-15.31-3.594-34.88 11.72-43.72L159.1 256L41.72 187.7C26.41 178.9 21.17 159.3 29.1 144C36.63 132.5 49.26 126.7 61.65 128.2C65.78 128.7 69.88 130.1 73.72 132.3L192 200.6V64c0-17.67 14.33-32 32-32S256 46.33 256 64v136.6l118.3-68.29c3.838-2.213 7.939-3.539 12.07-4.051C398.7 126.7 411.4 132.5 417.1 144c8.828 15.31 3.594 34.88-11.72 43.72L288 256l118.3 68.28C421.6 333.1 426.8 352.7 417.1 368z"})}),flags:{outline:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:P("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"})}),solid:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:P("path",{d:"M64 496C64 504.8 56.75 512 48 512h-32C7.25 512 0 504.8 0 496V32c0-17.75 14.25-32 32-32s32 14.25 32 32V496zM476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87C160.9 .3055 131.6 4.867 96 15.75v350.5c32-9.984 59.87-14.1 84.85-14.1c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0z"})})},foods:{outline:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:P("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"})}),solid:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:P("path",{d:"M481.9 270.1C490.9 279.1 496 291.3 496 304C496 316.7 490.9 328.9 481.9 337.9C472.9 346.9 460.7 352 448 352H64C51.27 352 39.06 346.9 30.06 337.9C21.06 328.9 16 316.7 16 304C16 291.3 21.06 279.1 30.06 270.1C39.06 261.1 51.27 256 64 256H448C460.7 256 472.9 261.1 481.9 270.1zM475.3 388.7C478.3 391.7 480 395.8 480 400V416C480 432.1 473.3 449.3 461.3 461.3C449.3 473.3 432.1 480 416 480H96C79.03 480 62.75 473.3 50.75 461.3C38.74 449.3 32 432.1 32 416V400C32 395.8 33.69 391.7 36.69 388.7C39.69 385.7 43.76 384 48 384H464C468.2 384 472.3 385.7 475.3 388.7zM50.39 220.8C45.93 218.6 42.03 215.5 38.97 211.6C35.91 207.7 33.79 203.2 32.75 198.4C31.71 193.5 31.8 188.5 32.99 183.7C54.98 97.02 146.5 32 256 32C365.5 32 457 97.02 479 183.7C480.2 188.5 480.3 193.5 479.2 198.4C478.2 203.2 476.1 207.7 473 211.6C469.1 215.5 466.1 218.6 461.6 220.8C457.2 222.9 452.3 224 447.3 224H64.67C59.73 224 54.84 222.9 50.39 220.8zM372.7 116.7C369.7 119.7 368 123.8 368 128C368 131.2 368.9 134.3 370.7 136.9C372.5 139.5 374.1 141.6 377.9 142.8C380.8 143.1 384 144.3 387.1 143.7C390.2 143.1 393.1 141.6 395.3 139.3C397.6 137.1 399.1 134.2 399.7 131.1C400.3 128 399.1 124.8 398.8 121.9C397.6 118.1 395.5 116.5 392.9 114.7C390.3 112.9 387.2 111.1 384 111.1C379.8 111.1 375.7 113.7 372.7 116.7V116.7zM244.7 84.69C241.7 87.69 240 91.76 240 96C240 99.16 240.9 102.3 242.7 104.9C244.5 107.5 246.1 109.6 249.9 110.8C252.8 111.1 256 112.3 259.1 111.7C262.2 111.1 265.1 109.6 267.3 107.3C269.6 105.1 271.1 102.2 271.7 99.12C272.3 96.02 271.1 92.8 270.8 89.88C269.6 86.95 267.5 84.45 264.9 82.7C262.3 80.94 259.2 79.1 256 79.1C251.8 79.1 247.7 81.69 244.7 84.69V84.69zM116.7 116.7C113.7 119.7 112 123.8 112 128C112 131.2 112.9 134.3 114.7 136.9C116.5 139.5 118.1 141.6 121.9 142.8C124.8 143.1 128 144.3 131.1 143.7C134.2 143.1 137.1 141.6 139.3 139.3C141.6 137.1 143.1 134.2 143.7 131.1C144.3 128 143.1 124.8 142.8 121.9C141.6 118.1 139.5 116.5 136.9 114.7C134.3 112.9 131.2 111.1 128 111.1C123.8 111.1 119.7 113.7 116.7 116.7L116.7 116.7z"})})},frequent:{outline:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[P("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),P("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"})]}),solid:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:P("path",{d:"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"})})},nature:{outline:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[P("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),P("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"})]}),solid:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:P("path",{d:"M332.7 19.85C334.6 8.395 344.5 0 356.1 0C363.6 0 370.6 3.52 375.1 9.502L392 32H444.1C456.8 32 469.1 37.06 478.1 46.06L496 64H552C565.3 64 576 74.75 576 88V112C576 156.2 540.2 192 496 192H426.7L421.6 222.5L309.6 158.5L332.7 19.85zM448 64C439.2 64 432 71.16 432 80C432 88.84 439.2 96 448 96C456.8 96 464 88.84 464 80C464 71.16 456.8 64 448 64zM416 256.1V480C416 497.7 401.7 512 384 512H352C334.3 512 320 497.7 320 480V364.8C295.1 377.1 268.8 384 240 384C211.2 384 184 377.1 160 364.8V480C160 497.7 145.7 512 128 512H96C78.33 512 64 497.7 64 480V249.8C35.23 238.9 12.64 214.5 4.836 183.3L.9558 167.8C-3.331 150.6 7.094 133.2 24.24 128.1C41.38 124.7 58.76 135.1 63.05 152.2L66.93 167.8C70.49 182 83.29 191.1 97.97 191.1H303.8L416 256.1z"})})},objects:{outline:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[P("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),P("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"})]}),solid:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:P("path",{d:"M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM191.4 .0132C89.44 .3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.61 288.9-.2837 191.4 .0132zM192 96.01c-44.13 0-80 35.89-80 79.1C112 184.8 104.8 192 96 192S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1c8.844 0 16 7.159 16 16S200.8 96.01 192 96.01z"})})},people:{outline:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[P("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),P("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"})]}),solid:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:P("path",{d:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 432C332.1 432 396.2 382 415.2 314.1C419.1 300.4 407.8 288 393.6 288H118.4C104.2 288 92.92 300.4 96.76 314.1C115.8 382 179.9 432 256 432V432zM176.4 160C158.7 160 144.4 174.3 144.4 192C144.4 209.7 158.7 224 176.4 224C194 224 208.4 209.7 208.4 192C208.4 174.3 194 160 176.4 160zM336.4 224C354 224 368.4 209.7 368.4 192C368.4 174.3 354 160 336.4 160C318.7 160 304.4 174.3 304.4 192C304.4 209.7 318.7 224 336.4 224z"})})},places:{outline:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[P("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),P("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"})]}),solid:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:P("path",{d:"M39.61 196.8L74.8 96.29C88.27 57.78 124.6 32 165.4 32H346.6C387.4 32 423.7 57.78 437.2 96.29L472.4 196.8C495.6 206.4 512 229.3 512 256V448C512 465.7 497.7 480 480 480H448C430.3 480 416 465.7 416 448V400H96V448C96 465.7 81.67 480 64 480H32C14.33 480 0 465.7 0 448V256C0 229.3 16.36 206.4 39.61 196.8V196.8zM109.1 192H402.9L376.8 117.4C372.3 104.6 360.2 96 346.6 96H165.4C151.8 96 139.7 104.6 135.2 117.4L109.1 192zM96 256C78.33 256 64 270.3 64 288C64 305.7 78.33 320 96 320C113.7 320 128 305.7 128 288C128 270.3 113.7 256 96 256zM416 320C433.7 320 448 305.7 448 288C448 270.3 433.7 256 416 256C398.3 256 384 270.3 384 288C384 305.7 398.3 320 416 320z"})})},symbols:{outline:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:P("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"})}),solid:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:P("path",{d:"M500.3 7.251C507.7 13.33 512 22.41 512 31.1V175.1C512 202.5 483.3 223.1 447.1 223.1C412.7 223.1 383.1 202.5 383.1 175.1C383.1 149.5 412.7 127.1 447.1 127.1V71.03L351.1 90.23V207.1C351.1 234.5 323.3 255.1 287.1 255.1C252.7 255.1 223.1 234.5 223.1 207.1C223.1 181.5 252.7 159.1 287.1 159.1V63.1C287.1 48.74 298.8 35.61 313.7 32.62L473.7 .6198C483.1-1.261 492.9 1.173 500.3 7.251H500.3zM74.66 303.1L86.5 286.2C92.43 277.3 102.4 271.1 113.1 271.1H174.9C185.6 271.1 195.6 277.3 201.5 286.2L213.3 303.1H239.1C266.5 303.1 287.1 325.5 287.1 351.1V463.1C287.1 490.5 266.5 511.1 239.1 511.1H47.1C21.49 511.1-.0019 490.5-.0019 463.1V351.1C-.0019 325.5 21.49 303.1 47.1 303.1H74.66zM143.1 359.1C117.5 359.1 95.1 381.5 95.1 407.1C95.1 434.5 117.5 455.1 143.1 455.1C170.5 455.1 191.1 434.5 191.1 407.1C191.1 381.5 170.5 359.1 143.1 359.1zM440.3 367.1H496C502.7 367.1 508.6 372.1 510.1 378.4C513.3 384.6 511.6 391.7 506.5 396L378.5 508C372.9 512.1 364.6 513.3 358.6 508.9C352.6 504.6 350.3 496.6 353.3 489.7L391.7 399.1H336C329.3 399.1 323.4 395.9 321 389.6C318.7 383.4 320.4 376.3 325.5 371.1L453.5 259.1C459.1 255 467.4 254.7 473.4 259.1C479.4 263.4 481.6 271.4 478.7 278.3L440.3 367.1zM116.7 219.1L19.85 119.2C-8.112 90.26-6.614 42.31 24.85 15.34C51.82-8.137 93.26-3.642 118.2 21.83L128.2 32.32L137.7 21.83C162.7-3.642 203.6-8.137 231.6 15.34C262.6 42.31 264.1 90.26 236.1 119.2L139.7 219.1C133.2 225.6 122.7 225.6 116.7 219.1H116.7z"})})}},uC={loupe:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:P("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})}),delete:P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:P("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})})};var Rl={categories:aC,search:uC};function Wc(n){let{id:e,skin:t,emoji:r}=n;if(n.shortcodes){const c=n.shortcodes.match(bi.SHORTCODES_REGEX);c&&(e=c[1],c[2]&&(t=c[2]))}if(r||(r=bi.get(e||n.native)),!r)return n.fallback;const o=r.skins[t-1]||r.skins[0],l=o.src||(n.set!="native"&&!n.spritesheet?typeof n.getImageURL=="function"?n.getImageURL(n.set,o.unified):`https://cdn.jsdelivr.net/npm/emoji-datasource-${n.set}@15.0.1/img/${n.set}/64/${o.unified}.png`:void 0),a=typeof n.getSpritesheetURL=="function"?n.getSpritesheetURL(n.set):`https://cdn.jsdelivr.net/npm/emoji-datasource-${n.set}@15.0.1/img/${n.set}/sheets-256/64.png`;return P("span",{class:"emoji-mart-emoji","data-emoji-set":n.set,children:l?P("img",{style:{maxWidth:n.size||"1em",maxHeight:n.size||"1em",display:"inline-block"},alt:o.native||o.shortcodes,src:l}):n.set=="native"?P("span",{style:{fontSize:n.size,fontFamily:'"EmojiMart", "Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "Android Emoji"'},children:o.native}):P("span",{style:{display:"block",width:n.size,height:n.size,backgroundImage:`url(${a})`,backgroundSize:`${100*fe.sheet.cols}% ${100*fe.sheet.rows}%`,backgroundPosition:`${100/(fe.sheet.cols-1)*o.x}% ${100/(fe.sheet.rows-1)*o.y}%`}})})}const cC=typeof window<"u"&&window.HTMLElement?window.HTMLElement:Object;class u0 extends cC{static get observedAttributes(){return Object.keys(this.Props)}update(e={}){for(let t in e)this.attributeChangedCallback(t,null,e[t])}attributeChangedCallback(e,t,r){if(!this.component)return;const o=a0(e,{[e]:r},this.constructor.Props,this);this.component.componentWillReceiveProps?this.component.componentWillReceiveProps({[e]:o}):(this.component.props[e]=o,this.component.forceUpdate())}disconnectedCallback(){this.disconnected=!0,this.component&&this.component.unregister&&this.component.unregister()}constructor(e={}){if(super(),this.props=e,e.parent||e.ref){let t=null;const r=e.parent||(t=e.ref&&e.ref.current);t&&(t.innerHTML=""),r&&r.appendChild(this)}}}class dC extends u0{setShadow(){this.attachShadow({mode:"open"})}injectStyles(e){if(!e)return;const t=document.createElement("style");t.textContent=e,this.shadowRoot.insertBefore(t,this.shadowRoot.firstChild)}constructor(e,{styles:t}={}){super(e),this.setShadow(),this.injectStyles(t)}}var c0={fallback:"",id:"",native:"",shortcodes:"",size:{value:"",transform:n=>/\D/.test(n)?n:`${n}px`},set:On.set,skin:On.skin};class d0 extends u0{async connectedCallback(){const e=l0(this.props,c0,this);e.element=this,e.ref=t=>{this.component=t},await Ql(),!this.disconnected&&t0(P(Wc,{...e}),this)}constructor(e){super(e)}}Ht(d0,"Props",c0);typeof customElements<"u"&&!customElements.get("em-emoji")&&customElements.define("em-emoji",d0);var Hm,Uc=[],Wm=te.__b,Um=te.__r,Km=te.diffed,qm=te.__c,Jm=te.unmount;function fC(){var n;for(Uc.sort(function(e,t){return e.__v.__b-t.__v.__b});n=Uc.pop();)if(n.__P)try{n.__H.__h.forEach(pl),n.__H.__h.forEach(Kc),n.__H.__h=[]}catch(e){n.__H.__h=[],te.__e(e,n.__v)}}te.__b=function(n){Wm&&Wm(n)},te.__r=function(n){Um&&Um(n);var e=n.__c.__H;e&&(e.__h.forEach(pl),e.__h.forEach(Kc),e.__h=[])},te.diffed=function(n){Km&&Km(n);var e=n.__c;e&&e.__H&&e.__H.__h.length&&(Uc.push(e)!==1&&Hm===te.requestAnimationFrame||((Hm=te.requestAnimationFrame)||function(t){var r,o=function(){clearTimeout(l),Qm&&cancelAnimationFrame(r),setTimeout(t)},l=setTimeout(o,100);Qm&&(r=requestAnimationFrame(o))})(fC))},te.__c=function(n,e){e.some(function(t){try{t.__h.forEach(pl),t.__h=t.__h.filter(function(r){return!r.__||Kc(r)})}catch(r){e.some(function(o){o.__h&&(o.__h=[])}),e=[],te.__e(r,t.__v)}}),qm&&qm(n,e)},te.unmount=function(n){Jm&&Jm(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{pl(r)}catch(o){e=o}}),e&&te.__e(e,t.__v))};var Qm=typeof requestAnimationFrame=="function";function pl(n){var e=n.__c;typeof e=="function"&&(n.__c=void 0,e())}function Kc(n){n.__c=n.__()}function hC(n,e){for(var t in e)n[t]=e[t];return n}function Gm(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var r in e)if(r!=="__source"&&n[r]!==e[r])return!0;return!1}function Al(n){this.props=n}(Al.prototype=new pn).isPureReactComponent=!0,Al.prototype.shouldComponentUpdate=function(n,e){return Gm(this.props,n)||Gm(this.state,e)};var Ym=te.__b;te.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),Ym&&Ym(n)};var pC=te.__e;te.__e=function(n,e,t){if(n.then){for(var r,o=e;o=o.__;)if((r=o.__c)&&r.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),r.__c(n,e)}pC(n,e,t)};var Xm=te.unmount;function kc(){this.__u=0,this.t=null,this.__b=null}function f0(n){var e=n.__.__c;return e&&e.__e&&e.__e(n)}function ll(){this.u=null,this.o=null}te.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),Xm&&Xm(n)},(kc.prototype=new pn).__c=function(n,e){var t=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(t);var o=f0(r.__v),l=!1,a=function(){l||(l=!0,t.__R=null,o?o(c):c())};t.__R=a;var c=function(){if(!--r.__u){if(r.state.__e){var h=r.state.__e;r.__v.__k[0]=function y(v,k,S){return v&&(v.__v=null,v.__k=v.__k&&v.__k.map(function(x){return y(x,k,S)}),v.__c&&v.__c.__P===k&&(v.__e&&S.insertBefore(v.__e,v.__d),v.__c.__e=!0,v.__c.__P=S)),v}(h,h.__c.__P,h.__c.__O)}var m;for(r.setState({__e:r.__b=null});m=r.t.pop();)m.forceUpdate()}},d=e.__h===!0;r.__u++||d||r.setState({__e:r.__b=r.__v.__k[0]}),n.then(a,a)},kc.prototype.componentWillUnmount=function(){this.t=[]},kc.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function l(a,c,d){return a&&(a.__c&&a.__c.__H&&(a.__c.__H.__.forEach(function(h){typeof h.__c=="function"&&h.__c()}),a.__c.__H=null),(a=hC({},a)).__c!=null&&(a.__c.__P===d&&(a.__c.__P=c),a.__c=null),a.__k=a.__k&&a.__k.map(function(h){return l(h,c,d)})),a}(this.__b,t,r.__O=r.__P)}this.__b=null}var o=e.__e&&jc(Di,null,n.fallback);return o&&(o.__h=null),[jc(Di,null,e.__e?null:n.children),o]};var Zm=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};(ll.prototype=new pn).__e=function(n){var e=this,t=f0(e.__v),r=e.o.get(n);return r[0]++,function(o){var l=function(){e.props.revealOrder?(r.push(o),Zm(e,n,r)):o()};t?t(l):l()}},ll.prototype.render=function(n){this.u=null,this.o=new Map;var e=Dl(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},ll.prototype.componentDidUpdate=ll.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){Zm(n,t,e)})};var mC=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,gC=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,yC=typeof document<"u",vC=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};pn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(pn.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var e1=te.event;function kC(){}function wC(){return this.cancelBubble}function SC(){return this.defaultPrevented}te.event=function(n){return e1&&(n=e1(n)),n.persist=kC,n.isPropagationStopped=wC,n.isDefaultPrevented=SC,n.nativeEvent=n};var t1={configurable:!0,get:function(){return this.class}},n1=te.vnode;te.vnode=function(n){var e=n.type,t=n.props,r=t;if(typeof e=="string"){var o=e.indexOf("-")===-1;for(var l in r={},t){var a=t[l];yC&&l==="children"&&e==="noscript"||l==="value"&&"defaultValue"in t&&a==null||(l==="defaultValue"&&"value"in t&&t.value==null?l="value":l==="download"&&a===!0?a="":/ondoubleclick/i.test(l)?l="ondblclick":/^onchange(textarea|input)/i.test(l+e)&&!vC(t.type)?l="oninput":/^onfocus$/i.test(l)?l="onfocusin":/^onblur$/i.test(l)?l="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(l)?l=l.toLowerCase():o&&gC.test(l)?l=l.replace(/[A-Z0-9]/,"-$&").toLowerCase():a===null&&(a=void 0),r[l]=a)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Dl(t.children).forEach(function(c){c.props.selected=r.value.indexOf(c.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=Dl(t.children).forEach(function(c){c.props.selected=r.multiple?r.defaultValue.indexOf(c.props.value)!=-1:r.defaultValue==c.props.value})),n.props=r,t.class!=t.className&&(t1.enumerable="className"in t,t.className!=null&&(r.class=t.className),Object.defineProperty(r,"className",t1))}n.$$typeof=mC,n1&&n1(n)};var r1=te.__r;te.__r=function(n){r1&&r1(n),n.__c};const xC={light:"outline",dark:"solid"};class CC extends Al{renderIcon(e){const{icon:t}=e;if(t){if(t.svg)return P("span",{class:"flex",dangerouslySetInnerHTML:{__html:t.svg}});if(t.src)return P("img",{src:t.src})}const r=Rl.categories[e.id]||Rl.categories.custom,o=this.props.icons=="auto"?xC[this.props.theme]:this.props.icons;return r[o]||r}render(){let e=null;return P("nav",{id:"nav",class:"padding","data-position":this.props.position,dir:this.props.dir,children:P("div",{class:"flex relative",children:[this.categories.map((t,r)=>{const o=t.name||ot.categories[t.id],l=!this.props.unfocused&&t.id==this.state.categoryId;return l&&(e=r),P("button",{"aria-label":o,"aria-selected":l||void 0,title:o,type:"button",class:"flex flex-grow flex-center",onMouseDown:a=>a.preventDefault(),onClick:()=>{this.props.onClick({category:t,i:r})},children:this.renderIcon(t)})}),P("div",{class:"bar",style:{width:`${100/this.categories.length}%`,opacity:e==null?0:1,transform:this.props.dir==="rtl"?`scaleX(-1) translateX(${e*100}%)`:`translateX(${e*100}%)`}})]})})}constructor(){super(),this.categories=fe.categories.filter(e=>!e.target),this.state={categoryId:this.categories[0].id}}}class bC extends Al{shouldComponentUpdate(e){for(let t in e)if(t!="children"&&e[t]!=this.props[t])return!0;return!1}render(){return this.props.children}}const al={rowsPerRender:10};class MC extends pn{getInitialState(e=this.props){return{skin:cr.get("skin")||e.skin,theme:this.initTheme(e.theme)}}componentWillMount(){this.dir=ot.rtl?"rtl":"ltr",this.refs={menu:_n(),navigation:_n(),scroll:_n(),search:_n(),searchInput:_n(),skinToneButton:_n(),skinToneRadio:_n()},this.initGrid(),this.props.stickySearch==!1&&this.props.searchPosition=="sticky"&&(console.warn("[EmojiMart] Deprecation warning: `stickySearch` has been renamed `searchPosition`."),this.props.searchPosition="static")}componentDidMount(){if(this.register(),this.shadowRoot=this.base.parentNode,this.props.autoFocus){const{searchInput:e}=this.refs;e.current&&e.current.focus()}}componentWillReceiveProps(e){this.nextState||(this.nextState={});for(const t in e)this.nextState[t]=e[t];clearTimeout(this.nextStateTimer),this.nextStateTimer=setTimeout(()=>{let t=!1;for(const o in this.nextState)this.props[o]=this.nextState[o],(o==="custom"||o==="categories")&&(t=!0);delete this.nextState;const r=this.getInitialState();if(t)return this.reset(r);this.setState(r)})}componentWillUnmount(){this.unregister()}async reset(e={}){await Ql(this.props),this.initGrid(),this.unobserve(),this.setState(e,()=>{this.observeCategories(),this.observeRows()})}register(){document.addEventListener("click",this.handleClickOutside),this.observe()}unregister(){var e;document.removeEventListener("click",this.handleClickOutside),(e=this.darkMedia)==null||e.removeEventListener("change",this.darkMediaCallback),this.unobserve()}observe(){this.observeCategories(),this.observeRows()}unobserve({except:e=[]}={}){Array.isArray(e)||(e=[e]);for(const t of this.observers)e.includes(t)||t.disconnect();this.observers=[].concat(e)}initGrid(){const{categories:e}=fe;this.refs.categories=new Map;const t=fe.categories.map(o=>o.id).join(",");this.navKey&&this.navKey!=t&&this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0),this.navKey=t,this.grid=[],this.grid.setsize=0;const r=(o,l)=>{const a=[];a.__categoryId=l.id,a.__index=o.length,this.grid.push(a);const c=this.grid.length-1,d=c%al.rowsPerRender?{}:_n();return d.index=c,d.posinset=this.grid.setsize+1,o.push(d),a};for(let o of e){const l=[];let a=r(l,o);for(let c of o.emojis)a.length==this.getPerLine()&&(a=r(l,o)),this.grid.setsize+=1,a.push(c);this.refs.categories.set(o.id,{root:_n(),rows:l})}}initTheme(e){if(e!="auto")return e;if(!this.darkMedia){if(this.darkMedia=matchMedia("(prefers-color-scheme: dark)"),this.darkMedia.media.match(/^not/))return"light";this.darkMedia.addEventListener("change",this.darkMediaCallback)}return this.darkMedia.matches?"dark":"light"}initDynamicPerLine(e=this.props){if(!e.dynamicWidth)return;const{element:t,emojiButtonSize:r}=e,o=()=>{const{width:a}=t.getBoundingClientRect();return Math.floor(a/r)},l=new ResizeObserver(()=>{this.unobserve({except:l}),this.setState({perLine:o()},()=>{this.initGrid(),this.forceUpdate(()=>{this.observeCategories(),this.observeRows()})})});return l.observe(t),this.observers.push(l),o()}getPerLine(){return this.state.perLine||this.props.perLine}getEmojiByPos([e,t]){const r=this.state.searchResults||this.grid,o=r[e]&&r[e][t];if(o)return bi.get(o)}observeCategories(){const e=this.refs.navigation.current;if(!e)return;const t=new Map,r=a=>{a!=e.state.categoryId&&e.setState({categoryId:a})},o={root:this.refs.scroll.current,threshold:[0,1]},l=new IntersectionObserver(a=>{for(const d of a){const h=d.target.dataset.id;t.set(h,d.intersectionRatio)}const c=[...t];for(const[d,h]of c)if(h){r(d);break}},o);for(const{root:a}of this.refs.categories.values())l.observe(a.current);this.observers.push(l)}observeRows(){const e={...this.state.visibleRows},t=new IntersectionObserver(r=>{for(const o of r){const l=parseInt(o.target.dataset.index);o.isIntersecting?e[l]=!0:delete e[l]}this.setState({visibleRows:e})},{root:this.refs.scroll.current,rootMargin:`${this.props.emojiButtonSize*(al.rowsPerRender+5)}px 0px ${this.props.emojiButtonSize*al.rowsPerRender}px`});for(const{rows:r}of this.refs.categories.values())for(const o of r)o.current&&t.observe(o.current);this.observers.push(t)}preventDefault(e){e.preventDefault()}unfocusSearch(){const e=this.refs.searchInput.current;e&&e.blur()}navigate({e,input:t,left:r,right:o,up:l,down:a}){const c=this.state.searchResults||this.grid;if(!c.length)return;let[d,h]=this.state.pos;const m=(()=>{if(d==0&&h==0&&!e.repeat&&(r||l))return null;if(d==-1)return!e.repeat&&(o||a)&&t.selectionStart==t.value.length?[0,0]:null;if(r||o){let y=c[d];const v=r?-1:1;if(h+=v,!y[h]){if(d+=v,y=c[d],!y)return d=r?0:c.length-1,h=r?0:c[d].length-1,[d,h];h=r?y.length-1:0}return[d,h]}if(l||a){d+=l?-1:1;const y=c[d];return y?(y[h]||(h=y.length-1),[d,h]):(d=l?0:c.length-1,h=l?0:c[d].length-1,[d,h])}})();if(m)e.preventDefault();else{this.state.pos[0]>-1&&this.setState({pos:[-1,-1]});return}this.setState({pos:m,keyboard:!0},()=>{this.scrollTo({row:m[0]})})}scrollTo({categoryId:e,row:t}){const r=this.state.searchResults||this.grid;if(!r.length)return;const o=this.refs.scroll.current,l=o.getBoundingClientRect();let a=0;if(t>=0&&(e=r[t].__categoryId),e&&(a=(this.refs[e]||this.refs.categories.get(e).root).current.getBoundingClientRect().top-(l.top-o.scrollTop)+1),t>=0)if(!t)a=0;else{const c=r[t].__index,d=a+c*this.props.emojiButtonSize,h=d+this.props.emojiButtonSize+this.props.emojiButtonSize*.88;if(d<o.scrollTop)a=d;else if(h>o.scrollTop+l.height)a=h-l.height;else return}this.ignoreMouse(),o.scrollTop=a}ignoreMouse(){this.mouseIsIgnored=!0,clearTimeout(this.ignoreMouseTimer),this.ignoreMouseTimer=setTimeout(()=>{delete this.mouseIsIgnored},100)}handleEmojiOver(e){this.mouseIsIgnored||this.state.showSkins||this.setState({pos:e||[-1,-1],keyboard:!1})}handleEmojiClick({e,emoji:t,pos:r}){if(this.props.onEmojiSelect&&(!t&&r&&(t=this.getEmojiByPos(r)),t)){const o=lC(t,{skinIndex:this.state.skin-1});this.props.maxFrequentRows&&r0.add(o,this.props),this.props.onEmojiSelect(o,e)}}closeSkins(){this.state.showSkins&&(this.setState({showSkins:null,tempSkin:null}),this.base.removeEventListener("click",this.handleBaseClick),this.base.removeEventListener("keydown",this.handleBaseKeydown))}handleSkinMouseOver(e){this.setState({tempSkin:e})}handleSkinClick(e){this.ignoreMouse(),this.closeSkins(),this.setState({skin:e,tempSkin:null}),cr.set("skin",e)}renderNav(){return P(CC,{ref:this.refs.navigation,icons:this.props.icons,theme:this.state.theme,dir:this.dir,unfocused:!!this.state.searchResults,position:this.props.navPosition,onClick:this.handleCategoryClick},this.navKey)}renderPreview(){const e=this.getEmojiByPos(this.state.pos),t=this.state.searchResults&&!this.state.searchResults.length;return P("div",{id:"preview",class:"flex flex-middle",dir:this.dir,"data-position":this.props.previewPosition,children:[P("div",{class:"flex flex-middle flex-grow",children:[P("div",{class:"flex flex-auto flex-middle flex-center",style:{height:this.props.emojiButtonSize,fontSize:this.props.emojiButtonSize},children:P(Wc,{emoji:e,id:t?this.props.noResultsEmoji||"cry":this.props.previewEmoji||(this.props.previewPosition=="top"?"point_down":"point_up"),set:this.props.set,size:this.props.emojiButtonSize,skin:this.state.tempSkin||this.state.skin,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})}),P("div",{class:`margin-${this.dir[0]}`,children:e||t?P("div",{class:`padding-${this.dir[2]} align-${this.dir[0]}`,children:[P("div",{class:"preview-title ellipsis",children:e?e.name:ot.search_no_results_1}),P("div",{class:"preview-subtitle ellipsis color-c",children:e?e.skins[0].shortcodes:ot.search_no_results_2})]}):P("div",{class:"preview-placeholder color-c",children:ot.pick})})]}),!e&&this.props.skinTonePosition=="preview"&&this.renderSkinToneButton()]})}renderEmojiButton(e,{pos:t,posinset:r,grid:o}){const l=this.props.emojiButtonSize,a=this.state.tempSkin||this.state.skin,d=(e.skins[a-1]||e.skins[0]).native,h=oC(this.state.pos,t),m=t.concat(e.id).join("");return P(bC,{selected:h,skin:a,size:l,children:P("button",{"aria-label":d,"aria-selected":h||void 0,"aria-posinset":r,"aria-setsize":o.setsize,"data-keyboard":this.state.keyboard,title:this.props.previewPosition=="none"?e.name:void 0,type:"button",class:"flex flex-center flex-middle",tabindex:"-1",onClick:y=>this.handleEmojiClick({e:y,emoji:e}),onMouseEnter:()=>this.handleEmojiOver(t),onMouseLeave:()=>this.handleEmojiOver(),style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize,fontSize:this.props.emojiSize,lineHeight:0},children:[P("div",{"aria-hidden":"true",class:"background",style:{borderRadius:this.props.emojiButtonRadius,backgroundColor:this.props.emojiButtonColors?this.props.emojiButtonColors[(r-1)%this.props.emojiButtonColors.length]:void 0}}),P(Wc,{emoji:e,set:this.props.set,size:this.props.emojiSize,skin:a,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})]})},m)}renderSearch(){const e=this.props.previewPosition=="none"||this.props.skinTonePosition=="search";return P("div",{children:[P("div",{class:"spacer"}),P("div",{class:"flex flex-middle",children:[P("div",{class:"search relative flex-grow",children:[P("input",{type:"search",ref:this.refs.searchInput,placeholder:ot.search,onClick:this.handleSearchClick,onInput:this.handleSearchInput,onKeyDown:this.handleSearchKeyDown,autoComplete:"off"}),P("span",{class:"icon loupe flex",children:Rl.search.loupe}),this.state.searchResults&&P("button",{title:"Clear","aria-label":"Clear",type:"button",class:"icon delete flex",onClick:this.clearSearch,onMouseDown:this.preventDefault,children:Rl.search.delete})]}),e&&this.renderSkinToneButton()]})]})}renderSearchResults(){const{searchResults:e}=this.state;return e?P("div",{class:"category",ref:this.refs.search,children:[P("div",{class:`sticky padding-small align-${this.dir[0]}`,children:ot.categories.search}),P("div",{children:e.length?e.map((t,r)=>P("div",{class:"flex",children:t.map((o,l)=>this.renderEmojiButton(o,{pos:[r,l],posinset:r*this.props.perLine+l+1,grid:e}))})):P("div",{class:`padding-small align-${this.dir[0]}`,children:this.props.onAddCustomEmoji&&P("a",{onClick:this.props.onAddCustomEmoji,children:ot.add_custom})})})]}):null}renderCategories(){const{categories:e}=fe,t=!!this.state.searchResults,r=this.getPerLine();return P("div",{style:{visibility:t?"hidden":void 0,display:t?"none":void 0,height:"100%"},children:e.map(o=>{const{root:l,rows:a}=this.refs.categories.get(o.id);return P("div",{"data-id":o.target?o.target.id:o.id,class:"category",ref:l,children:[P("div",{class:`sticky padding-small align-${this.dir[0]}`,children:o.name||ot.categories[o.id]}),P("div",{class:"relative",style:{height:a.length*this.props.emojiButtonSize},children:a.map((c,d)=>{const h=c.index-c.index%al.rowsPerRender,m=this.state.visibleRows[h],y="current"in c?c:void 0;if(!m&&!y)return null;const v=d*r,k=v+r,S=o.emojis.slice(v,k);return S.length<r&&S.push(...new Array(r-S.length)),P("div",{"data-index":c.index,ref:y,class:"flex row",style:{top:d*this.props.emojiButtonSize},children:m&&S.map((x,b)=>{if(!x)return P("div",{style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize}});const N=bi.get(x);return this.renderEmojiButton(N,{pos:[c.index,b],posinset:c.posinset+b,grid:this.grid})})},c.index)})})]})})})}renderSkinToneButton(){return this.props.skinTonePosition=="none"?null:P("div",{class:"flex flex-auto flex-center flex-middle",style:{position:"relative",width:this.props.emojiButtonSize,height:this.props.emojiButtonSize},children:P("button",{type:"button",ref:this.refs.skinToneButton,class:"skin-tone-button flex flex-auto flex-center flex-middle","aria-selected":this.state.showSkins?"":void 0,"aria-label":ot.skins.choose,title:ot.skins.choose,onClick:this.openSkins,style:{width:this.props.emojiSize,height:this.props.emojiSize},children:P("span",{class:`skin-tone skin-tone-${this.state.skin}`})})})}renderLiveRegion(){const e=this.getEmojiByPos(this.state.pos),t=e?e.name:"";return P("div",{"aria-live":"polite",class:"sr-only",children:t})}renderSkins(){const t=this.refs.skinToneButton.current.getBoundingClientRect(),r=this.base.getBoundingClientRect(),o={};return this.dir=="ltr"?o.right=r.right-t.right-3:o.left=t.left-r.left-3,this.props.previewPosition=="bottom"&&this.props.skinTonePosition=="preview"?o.bottom=r.bottom-t.top+6:(o.top=t.bottom-r.top+3,o.bottom="auto"),P("div",{ref:this.refs.menu,role:"radiogroup",dir:this.dir,"aria-label":ot.skins.choose,class:"menu hidden","data-position":o.top?"top":"bottom",style:o,children:[...Array(6).keys()].map(l=>{const a=l+1,c=this.state.skin==a;return P("div",{children:[P("input",{type:"radio",name:"skin-tone",value:a,"aria-label":ot.skins[a],ref:c?this.refs.skinToneRadio:null,defaultChecked:c,onChange:()=>this.handleSkinMouseOver(a),onKeyDown:d=>{(d.code=="Enter"||d.code=="Space"||d.code=="Tab")&&(d.preventDefault(),this.handleSkinClick(a))}}),P("button",{"aria-hidden":"true",tabindex:"-1",onClick:()=>this.handleSkinClick(a),onMouseEnter:()=>this.handleSkinMouseOver(a),onMouseLeave:()=>this.handleSkinMouseOver(),class:"option flex flex-grow flex-middle",children:[P("span",{class:`skin-tone skin-tone-${a}`}),P("span",{class:"margin-small-lr",children:ot.skins[a]})]})]})})})}render(){const e=this.props.perLine*this.props.emojiButtonSize;return P("section",{id:"root",class:"flex flex-column",dir:this.dir,style:{width:this.props.dynamicWidth?"100%":`calc(${e}px + (var(--padding) + var(--sidebar-width)))`},"data-emoji-set":this.props.set,"data-theme":this.state.theme,"data-menu":this.state.showSkins?"":void 0,children:[this.props.previewPosition=="top"&&this.renderPreview(),this.props.navPosition=="top"&&this.renderNav(),this.props.searchPosition=="sticky"&&P("div",{class:"padding-lr",children:this.renderSearch()}),P("div",{ref:this.refs.scroll,class:"scroll flex-grow padding-lr",children:P("div",{style:{width:this.props.dynamicWidth?"100%":e,height:"100%"},children:[this.props.searchPosition=="static"&&this.renderSearch(),this.renderSearchResults(),this.renderCategories()]})}),this.props.navPosition=="bottom"&&this.renderNav(),this.props.previewPosition=="bottom"&&this.renderPreview(),this.state.showSkins&&this.renderSkins(),this.renderLiveRegion()]})}constructor(e){super(),Ht(this,"darkMediaCallback",()=>{this.props.theme=="auto"&&this.setState({theme:this.darkMedia.matches?"dark":"light"})}),Ht(this,"handleClickOutside",t=>{const{element:r}=this.props;t.target!=r&&(this.state.showSkins&&this.closeSkins(),this.props.onClickOutside&&this.props.onClickOutside(t))}),Ht(this,"handleBaseClick",t=>{this.state.showSkins&&(t.target.closest(".menu")||(t.preventDefault(),t.stopImmediatePropagation(),this.closeSkins()))}),Ht(this,"handleBaseKeydown",t=>{this.state.showSkins&&t.key=="Escape"&&(t.preventDefault(),t.stopImmediatePropagation(),this.closeSkins())}),Ht(this,"handleSearchClick",()=>{this.getEmojiByPos(this.state.pos)&&this.setState({pos:[-1,-1]})}),Ht(this,"handleSearchInput",async()=>{const t=this.refs.searchInput.current;if(!t)return;const{value:r}=t,o=await bi.search(r),l=()=>{this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0)};if(!o)return this.setState({searchResults:o,pos:[-1,-1]},l);const a=t.selectionStart==t.value.length?[0,0]:[-1,-1],c=[];c.setsize=o.length;let d=null;for(let h of o)(!c.length||d.length==this.getPerLine())&&(d=[],d.__categoryId="search",d.__index=c.length,c.push(d)),d.push(h);this.ignoreMouse(),this.setState({searchResults:c,pos:a},l)}),Ht(this,"handleSearchKeyDown",t=>{const r=t.currentTarget;switch(t.stopImmediatePropagation(),t.key){case"ArrowLeft":this.navigate({e:t,input:r,left:!0});break;case"ArrowRight":this.navigate({e:t,input:r,right:!0});break;case"ArrowUp":this.navigate({e:t,input:r,up:!0});break;case"ArrowDown":this.navigate({e:t,input:r,down:!0});break;case"Enter":t.preventDefault(),this.handleEmojiClick({e:t,pos:this.state.pos});break;case"Escape":t.preventDefault(),this.state.searchResults?this.clearSearch():this.unfocusSearch();break}}),Ht(this,"clearSearch",()=>{const t=this.refs.searchInput.current;t&&(t.value="",t.focus(),this.handleSearchInput())}),Ht(this,"handleCategoryClick",({category:t,i:r})=>{this.scrollTo(r==0?{row:-1}:{categoryId:t.id})}),Ht(this,"openSkins",t=>{const{currentTarget:r}=t,o=r.getBoundingClientRect();this.setState({showSkins:o},async()=>{await sC(2);const l=this.refs.menu.current;l&&(l.classList.remove("hidden"),this.refs.skinToneRadio.current.focus(),this.base.addEventListener("click",this.handleBaseClick,!0),this.base.addEventListener("keydown",this.handleBaseKeydown,!0))})}),this.observers=[],this.state={pos:[-1,-1],perLine:this.initDynamicPerLine(e),visibleRows:{0:!0},...this.getInitialState(e)}}}class yd extends dC{async connectedCallback(){const e=l0(this.props,On,this);e.element=this,e.ref=t=>{this.component=t},await Ql(e),!this.disconnected&&t0(P(MC,{...e}),this.shadowRoot)}constructor(e){super(e,{styles:Hg(h0)})}}Ht(yd,"Props",On);typeof customElements<"u"&&!customElements.get("em-emoji-picker")&&customElements.define("em-emoji-picker",yd);var h0={};h0=`:host {
  width: min-content;
  height: 435px;
  min-height: 230px;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  --border-radius: 10px;
  --category-icon-size: 18px;
  --font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;
  --font-size: 15px;
  --preview-placeholder-size: 21px;
  --preview-title-size: 1.1em;
  --preview-subtitle-size: .9em;
  --shadow-color: 0deg 0% 0%;
  --shadow: .3px .5px 2.7px hsl(var(--shadow-color) / .14), .4px .8px 1px -3.2px hsl(var(--shadow-color) / .14), 1px 2px 2.5px -4.5px hsl(var(--shadow-color) / .14);
  display: flex;
}

[data-theme="light"] {
  --em-rgb-color: var(--rgb-color, 34, 36, 39);
  --em-rgb-accent: var(--rgb-accent, 34, 102, 237);
  --em-rgb-background: var(--rgb-background, 255, 255, 255);
  --em-rgb-input: var(--rgb-input, 255, 255, 255);
  --em-color-border: var(--color-border, rgba(0, 0, 0, .05));
  --em-color-border-over: var(--color-border-over, rgba(0, 0, 0, .1));
}

[data-theme="dark"] {
  --em-rgb-color: var(--rgb-color, 222, 222, 221);
  --em-rgb-accent: var(--rgb-accent, 58, 130, 247);
  --em-rgb-background: var(--rgb-background, 21, 22, 23);
  --em-rgb-input: var(--rgb-input, 0, 0, 0);
  --em-color-border: var(--color-border, rgba(255, 255, 255, .1));
  --em-color-border-over: var(--color-border-over, rgba(255, 255, 255, .2));
}

#root {
  --color-a: rgb(var(--em-rgb-color));
  --color-b: rgba(var(--em-rgb-color), .65);
  --color-c: rgba(var(--em-rgb-color), .45);
  --padding: 12px;
  --padding-small: calc(var(--padding) / 2);
  --sidebar-width: 16px;
  --duration: 225ms;
  --duration-fast: 125ms;
  --duration-instant: 50ms;
  --easing: cubic-bezier(.4, 0, .2, 1);
  width: 100%;
  text-align: left;
  border-radius: var(--border-radius);
  background-color: rgb(var(--em-rgb-background));
  position: relative;
}

@media (prefers-reduced-motion) {
  #root {
    --duration: 0;
    --duration-fast: 0;
    --duration-instant: 0;
  }
}

#root[data-menu] button {
  cursor: auto;
}

#root[data-menu] .menu button {
  cursor: pointer;
}

:host, #root, input, button {
  color: rgb(var(--em-rgb-color));
  font-family: var(--font-family);
  font-size: var(--font-size);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: normal;
}

*, :before, :after {
  box-sizing: border-box;
  min-width: 0;
  margin: 0;
  padding: 0;
}

.relative {
  position: relative;
}

.flex {
  display: flex;
}

.flex-auto {
  flex: none;
}

.flex-center {
  justify-content: center;
}

.flex-column {
  flex-direction: column;
}

.flex-grow {
  flex: auto;
}

.flex-middle {
  align-items: center;
}

.flex-wrap {
  flex-wrap: wrap;
}

.padding {
  padding: var(--padding);
}

.padding-t {
  padding-top: var(--padding);
}

.padding-lr {
  padding-left: var(--padding);
  padding-right: var(--padding);
}

.padding-r {
  padding-right: var(--padding);
}

.padding-small {
  padding: var(--padding-small);
}

.padding-small-b {
  padding-bottom: var(--padding-small);
}

.padding-small-lr {
  padding-left: var(--padding-small);
  padding-right: var(--padding-small);
}

.margin {
  margin: var(--padding);
}

.margin-r {
  margin-right: var(--padding);
}

.margin-l {
  margin-left: var(--padding);
}

.margin-small-l {
  margin-left: var(--padding-small);
}

.margin-small-lr {
  margin-left: var(--padding-small);
  margin-right: var(--padding-small);
}

.align-l {
  text-align: left;
}

.align-r {
  text-align: right;
}

.color-a {
  color: var(--color-a);
}

.color-b {
  color: var(--color-b);
}

.color-c {
  color: var(--color-c);
}

.ellipsis {
  white-space: nowrap;
  max-width: 100%;
  width: auto;
  text-overflow: ellipsis;
  overflow: hidden;
}

.sr-only {
  width: 1px;
  height: 1px;
  position: absolute;
  top: auto;
  left: -10000px;
  overflow: hidden;
}

a {
  cursor: pointer;
  color: rgb(var(--em-rgb-accent));
}

a:hover {
  text-decoration: underline;
}

.spacer {
  height: 10px;
}

[dir="rtl"] .scroll {
  padding-left: 0;
  padding-right: var(--padding);
}

.scroll {
  padding-right: 0;
  overflow-x: hidden;
  overflow-y: auto;
}

.scroll::-webkit-scrollbar {
  width: var(--sidebar-width);
  height: var(--sidebar-width);
}

.scroll::-webkit-scrollbar-track {
  border: 0;
}

.scroll::-webkit-scrollbar-button {
  width: 0;
  height: 0;
  display: none;
}

.scroll::-webkit-scrollbar-corner {
  background-color: rgba(0, 0, 0, 0);
}

.scroll::-webkit-scrollbar-thumb {
  min-height: 20%;
  min-height: 65px;
  border: 4px solid rgb(var(--em-rgb-background));
  border-radius: 8px;
}

.scroll::-webkit-scrollbar-thumb:hover {
  background-color: var(--em-color-border-over) !important;
}

.scroll:hover::-webkit-scrollbar-thumb {
  background-color: var(--em-color-border);
}

.sticky {
  z-index: 1;
  background-color: rgba(var(--em-rgb-background), .9);
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  font-weight: 500;
  position: sticky;
  top: -1px;
}

[dir="rtl"] .search input[type="search"] {
  padding: 10px 2.2em 10px 2em;
}

[dir="rtl"] .search .loupe {
  left: auto;
  right: .7em;
}

[dir="rtl"] .search .delete {
  left: .7em;
  right: auto;
}

.search {
  z-index: 2;
  position: relative;
}

.search input, .search button {
  font-size: calc(var(--font-size)  - 1px);
}

.search input[type="search"] {
  width: 100%;
  background-color: var(--em-color-border);
  transition-duration: var(--duration);
  transition-property: background-color, box-shadow;
  transition-timing-function: var(--easing);
  border: 0;
  border-radius: 10px;
  outline: 0;
  padding: 10px 2em 10px 2.2em;
  display: block;
}

.search input[type="search"]::-ms-input-placeholder {
  color: inherit;
  opacity: .6;
}

.search input[type="search"]::placeholder {
  color: inherit;
  opacity: .6;
}

.search input[type="search"], .search input[type="search"]::-webkit-search-decoration, .search input[type="search"]::-webkit-search-cancel-button, .search input[type="search"]::-webkit-search-results-button, .search input[type="search"]::-webkit-search-results-decoration {
  -webkit-appearance: none;
  -ms-appearance: none;
  appearance: none;
}

.search input[type="search"]:focus {
  background-color: rgb(var(--em-rgb-input));
  box-shadow: inset 0 0 0 1px rgb(var(--em-rgb-accent)), 0 1px 3px rgba(65, 69, 73, .2);
}

.search .icon {
  z-index: 1;
  color: rgba(var(--em-rgb-color), .7);
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
}

.search .loupe {
  pointer-events: none;
  left: .7em;
}

.search .delete {
  right: .7em;
}

svg {
  fill: currentColor;
  width: 1em;
  height: 1em;
}

button {
  -webkit-appearance: none;
  -ms-appearance: none;
  appearance: none;
  cursor: pointer;
  color: currentColor;
  background-color: rgba(0, 0, 0, 0);
  border: 0;
}

#nav {
  z-index: 2;
  padding-top: 12px;
  padding-bottom: 12px;
  padding-right: var(--sidebar-width);
  position: relative;
}

#nav button {
  color: var(--color-b);
  transition: color var(--duration) var(--easing);
}

#nav button:hover {
  color: var(--color-a);
}

#nav svg, #nav img {
  width: var(--category-icon-size);
  height: var(--category-icon-size);
}

#nav[dir="rtl"] .bar {
  left: auto;
  right: 0;
}

#nav .bar {
  width: 100%;
  height: 3px;
  background-color: rgb(var(--em-rgb-accent));
  transition: transform var(--duration) var(--easing);
  border-radius: 3px 3px 0 0;
  position: absolute;
  bottom: -12px;
  left: 0;
}

#nav button[aria-selected] {
  color: rgb(var(--em-rgb-accent));
}

#preview {
  z-index: 2;
  padding: calc(var(--padding)  + 4px) var(--padding);
  padding-right: var(--sidebar-width);
  position: relative;
}

#preview .preview-placeholder {
  font-size: var(--preview-placeholder-size);
}

#preview .preview-title {
  font-size: var(--preview-title-size);
}

#preview .preview-subtitle {
  font-size: var(--preview-subtitle-size);
}

#nav:before, #preview:before {
  content: "";
  height: 2px;
  position: absolute;
  left: 0;
  right: 0;
}

#nav[data-position="top"]:before, #preview[data-position="top"]:before {
  background: linear-gradient(to bottom, var(--em-color-border), transparent);
  top: 100%;
}

#nav[data-position="bottom"]:before, #preview[data-position="bottom"]:before {
  background: linear-gradient(to top, var(--em-color-border), transparent);
  bottom: 100%;
}

.category:last-child {
  min-height: calc(100% + 1px);
}

.category button {
  font-family: -apple-system, BlinkMacSystemFont, Helvetica Neue, sans-serif;
  position: relative;
}

.category button > * {
  position: relative;
}

.category button .background {
  opacity: 0;
  background-color: var(--em-color-border);
  transition: opacity var(--duration-fast) var(--easing) var(--duration-instant);
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}

.category button:hover .background {
  transition-duration: var(--duration-instant);
  transition-delay: 0s;
}

.category button[aria-selected] .background {
  opacity: 1;
}

.category button[data-keyboard] .background {
  transition: none;
}

.row {
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
}

.skin-tone-button {
  border: 1px solid rgba(0, 0, 0, 0);
  border-radius: 100%;
}

.skin-tone-button:hover {
  border-color: var(--em-color-border);
}

.skin-tone-button:active .skin-tone {
  transform: scale(.85) !important;
}

.skin-tone-button .skin-tone {
  transition: transform var(--duration) var(--easing);
}

.skin-tone-button[aria-selected] {
  background-color: var(--em-color-border);
  border-top-color: rgba(0, 0, 0, .05);
  border-bottom-color: rgba(0, 0, 0, 0);
  border-left-width: 0;
  border-right-width: 0;
}

.skin-tone-button[aria-selected] .skin-tone {
  transform: scale(.9);
}

.menu {
  z-index: 2;
  white-space: nowrap;
  border: 1px solid var(--em-color-border);
  background-color: rgba(var(--em-rgb-background), .9);
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  transition-property: opacity, transform;
  transition-duration: var(--duration);
  transition-timing-function: var(--easing);
  border-radius: 10px;
  padding: 4px;
  position: absolute;
  box-shadow: 1px 1px 5px rgba(0, 0, 0, .05);
}

.menu.hidden {
  opacity: 0;
}

.menu[data-position="bottom"] {
  transform-origin: 100% 100%;
}

.menu[data-position="bottom"].hidden {
  transform: scale(.9)rotate(-3deg)translateY(5%);
}

.menu[data-position="top"] {
  transform-origin: 100% 0;
}

.menu[data-position="top"].hidden {
  transform: scale(.9)rotate(3deg)translateY(-5%);
}

.menu input[type="radio"] {
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  border: 0;
  margin: 0;
  padding: 0;
  position: absolute;
  overflow: hidden;
}

.menu input[type="radio"]:checked + .option {
  box-shadow: 0 0 0 2px rgb(var(--em-rgb-accent));
}

.option {
  width: 100%;
  border-radius: 6px;
  padding: 4px 6px;
}

.option:hover {
  color: #fff;
  background-color: rgb(var(--em-rgb-accent));
}

.skin-tone {
  width: 16px;
  height: 16px;
  border-radius: 100%;
  display: inline-block;
  position: relative;
  overflow: hidden;
}

.skin-tone:after {
  content: "";
  mix-blend-mode: overlay;
  background: linear-gradient(rgba(255, 255, 255, .2), rgba(0, 0, 0, 0));
  border: 1px solid rgba(0, 0, 0, .8);
  border-radius: 100%;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  box-shadow: inset 0 -2px 3px #000, inset 0 1px 2px #fff;
}

.skin-tone-1 {
  background-color: #ffc93a;
}

.skin-tone-2 {
  background-color: #ffdab7;
}

.skin-tone-3 {
  background-color: #e7b98f;
}

.skin-tone-4 {
  background-color: #c88c61;
}

.skin-tone-5 {
  background-color: #a46134;
}

.skin-tone-6 {
  background-color: #5d4437;
}

[data-index] {
  justify-content: space-between;
}

[data-emoji-set="twitter"] .skin-tone:after {
  box-shadow: none;
  border-color: rgba(0, 0, 0, .5);
}

[data-emoji-set="twitter"] .skin-tone-1 {
  background-color: #fade72;
}

[data-emoji-set="twitter"] .skin-tone-2 {
  background-color: #f3dfd0;
}

[data-emoji-set="twitter"] .skin-tone-3 {
  background-color: #eed3a8;
}

[data-emoji-set="twitter"] .skin-tone-4 {
  background-color: #cfad8d;
}

[data-emoji-set="twitter"] .skin-tone-5 {
  background-color: #a8805d;
}

[data-emoji-set="twitter"] .skin-tone-6 {
  background-color: #765542;
}

[data-emoji-set="google"] .skin-tone:after {
  box-shadow: inset 0 0 2px 2px rgba(0, 0, 0, .4);
}

[data-emoji-set="google"] .skin-tone-1 {
  background-color: #f5c748;
}

[data-emoji-set="google"] .skin-tone-2 {
  background-color: #f1d5aa;
}

[data-emoji-set="google"] .skin-tone-3 {
  background-color: #d4b48d;
}

[data-emoji-set="google"] .skin-tone-4 {
  background-color: #aa876b;
}

[data-emoji-set="google"] .skin-tone-5 {
  background-color: #916544;
}

[data-emoji-set="google"] .skin-tone-6 {
  background-color: #61493f;
}

[data-emoji-set="facebook"] .skin-tone:after {
  border-color: rgba(0, 0, 0, .4);
  box-shadow: inset 0 -2px 3px #000, inset 0 1px 4px #fff;
}

[data-emoji-set="facebook"] .skin-tone-1 {
  background-color: #f5c748;
}

[data-emoji-set="facebook"] .skin-tone-2 {
  background-color: #f1d5aa;
}

[data-emoji-set="facebook"] .skin-tone-3 {
  background-color: #d4b48d;
}

[data-emoji-set="facebook"] .skin-tone-4 {
  background-color: #aa876b;
}

[data-emoji-set="facebook"] .skin-tone-5 {
  background-color: #916544;
}

[data-emoji-set="facebook"] .skin-tone-6 {
  background-color: #61493f;
}

`;function EC(n){const e=Ue.useRef(null),t=Ue.useRef(null);return t.current&&t.current.update(n),Ue.useEffect(()=>(t.current=new yd({...n,ref:e}),()=>{t.current=null}),[]),lt.createElement("div",{ref:e})}const _C=({editor:n})=>{const[e,t]=Ue.useState(!1),r=o=>{n.chain().focus().insertContent(o.native).run(),t(!1)};return ht.jsxs("div",{className:"emoji-button-container",children:[ht.jsx("button",{className:"emoji-button",onClick:()=>{t(o=>!o)},children:" "}),e&&ht.jsx("div",{className:"emoji-picker-container",children:ht.jsx(EC,{theme:"light",onEmojiSelect:r})})]})},TC=()=>{const n=IS({extensions:[Lx,Bx],content:"<p>Hello, Welcome to TIPTAP Editor with custom Emoji Extension.</p>"});return n?ht.jsxs("div",{className:"app-container",children:[ht.jsx("h1",{className:"editor-title",children:"Tiptap Editor with custom Emoji extension"}),ht.jsxs("div",{className:"editor-toolbar",children:[ht.jsx("button",{onClick:()=>{n.chain().focus().toggleBold().run()},disabled:!n.can().chain().focus().toggleBold().run(),className:"editor-button",children:"Bold"}),ht.jsx("button",{onClick:()=>{n.chain().focus().toggleItalic().run()},disabled:!n.can().chain().focus().toggleItalic().run(),className:"editor-button",children:"Italic"}),ht.jsx("button",{onClick:()=>{n.chain().focus().toggleHeading({level:1}).run()},className:"editor-button",children:"H1"}),ht.jsx(_C,{editor:n})]}),ht.jsxs("div",{className:"tiptap-editor",children:[ht.jsx(bS,{editor:n})," "]})]}):null};gv.createRoot(document.getElementById("root")).render(ht.jsx(Ue.StrictMode,{children:ht.jsx(TC,{})}));
